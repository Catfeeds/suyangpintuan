!function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n=window.webpackJsonp;window.webpackJsonp=function(i,o,s){for(var a,l,u,c=0,d=[];c<i.length;c++)l=i[c],r[l]&&d.push(r[l][0]),r[l]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);for(n&&n(i,o,s);d.length;)d.shift()();if(s)for(c=0;c<s.length;c++)u=t(t.s=s[c]);return u};var i={},r={2:0};t.e=function(e){function n(){a.onerror=a.onload=null,clearTimeout(l);var t=r[e];0!==t&&(t&&t[1](new Error("Loading chunk "+e+" failed.")),r[e]=void 0)}var i=r[e];if(0===i)return new Promise(function(e){e()});if(i)return i[2];var o=new Promise(function(t,n){i=r[e]=[t,n]});i[2]=o;var s=document.getElementsByTagName("head")[0],a=document.createElement("script");a.type="text/javascript",a.charset="utf-8",a.async=!0,a.timeout=12e4,t.nc&&a.setAttribute("nonce",t.nc),a.src=t.p+""+{0:"1de6ba91",1:"20b0a507"}[e]+".chunk.js";var l=setTimeout(n,12e4);return a.onerror=a.onload=n,s.appendChild(a),o},t.m=e,t.c=i,t.i=function(e){return e},t.d=function(exports,e,n){t.o(exports,e)||Object.defineProperty(exports,e,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/static/chat/",t.oe=function(e){throw console.error(e),e},t(t.s=1)}({"./node_modules/IScroll/build/iscroll.js":function(e,exports,t){var n;!function(i,r,o){function s(e,t){this.wrapper="string"==typeof e?r.querySelector(e):e,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,disablePointer:!c.hasPointer,disableTouch:c.hasPointer||!c.hasTouch,disableMouse:c.hasPointer||c.hasTouch,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,bindToWrapper:void 0===i.onmousedown};for(var n in t)this.options[n]=t[n];this.translateZ=this.options.HWCompositing&&c.hasPerspective?" translateZ(0)":"",this.options.useTransition=c.hasTransition&&this.options.useTransition,this.options.useTransform=c.hasTransform&&this.options.useTransform,this.options.eventPassthrough=!0===this.options.eventPassthrough?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?c.ease[this.options.bounceEasing]||c.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,!0===this.options.tap&&(this.options.tap="tap"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function a(e,t,n){var i=r.createElement("div"),o=r.createElement("div");return!0===n&&(i.style.cssText="position:absolute;z-index:9999",o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),o.className="iScrollIndicator","h"==e?(!0===n&&(i.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",o.style.height="100%"),i.className="iScrollHorizontalScrollbar"):(!0===n&&(i.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",o.style.width="100%"),i.className="iScrollVerticalScrollbar"),i.style.cssText+=";overflow:hidden",t||(i.style.pointerEvents="none"),i.appendChild(o),i}function l(e,t){this.wrapper="string"==typeof t.el?r.querySelector(t.el):t.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=e,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var n in t)this.options[n]=t[n];if(this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(c.addEvent(this.indicator,"touchstart",this),c.addEvent(i,"touchend",this)),this.options.disablePointer||(c.addEvent(this.indicator,c.prefixPointerEvent("pointerdown"),this),c.addEvent(i,c.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(c.addEvent(this.indicator,"mousedown",this),c.addEvent(i,"mouseup",this))),this.options.fade){this.wrapperStyle[c.style.transform]=this.scroller.translateZ;var o=c.style.transitionDuration;this.wrapperStyle[o]=c.isBadAndroid?"0.0001ms":"0ms";var s=this;c.isBadAndroid&&u(function(){"0.0001ms"===s.wrapperStyle[o]&&(s.wrapperStyle[o]="0s")}),this.wrapperStyle.opacity="0"}}var u=i.requestAnimationFrame||i.webkitRequestAnimationFrame||i.mozRequestAnimationFrame||i.oRequestAnimationFrame||i.msRequestAnimationFrame||function(e){i.setTimeout(e,1e3/60)},c=function(){function e(e){return!1!==s&&(""===s?e:s+e.charAt(0).toUpperCase()+e.substr(1))}var t={},n=r.createElement("div").style,s=function(){for(var e=["t","webkitT","MozT","msT","OT"],t=0,i=e.length;t<i;t++)if(e[t]+"ransform"in n)return e[t].substr(0,e[t].length-1);return!1}();t.getTime=Date.now||function(){return(new Date).getTime()},t.extend=function(e,t){for(var n in t)e[n]=t[n]},t.addEvent=function(e,t,n,i){e.addEventListener(t,n,!!i)},t.removeEvent=function(e,t,n,i){e.removeEventListener(t,n,!!i)},t.prefixPointerEvent=function(e){return i.MSPointerEvent?"MSPointer"+e.charAt(7).toUpperCase()+e.substr(8):e},t.momentum=function(e,t,n,i,r,s){var a,l,u=e-t,c=o.abs(u)/n;return s=void 0===s?6e-4:s,a=e+c*c/(2*s)*(u<0?-1:1),l=c/s,a<i?(a=r?i-r/2.5*(c/8):i,u=o.abs(a-e),l=u/c):a>0&&(a=r?r/2.5*(c/8):0,u=o.abs(e)+a,l=u/c),{destination:o.round(a),duration:l}};var a=e("transform");return t.extend(t,{hasTransform:!1!==a,hasPerspective:e("perspective")in n,hasTouch:"ontouchstart"in i,hasPointer:!(!i.PointerEvent&&!i.MSPointerEvent),hasTransition:e("transition")in n}),t.isBadAndroid=function(){var e=i.navigator.appVersion;if(/Android/.test(e)&&!/Chrome\/\d/.test(e)){var t=e.match(/Safari\/(\d+.\d)/);return!(t&&"object"==typeof t&&t.length>=2)||parseFloat(t[1])<535.19}return!1}(),t.extend(t.style={},{transform:a,transitionTimingFunction:e("transitionTimingFunction"),transitionDuration:e("transitionDuration"),transitionDelay:e("transitionDelay"),transformOrigin:e("transformOrigin")}),t.hasClass=function(e,t){return new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},t.addClass=function(e,n){if(!t.hasClass(e,n)){var i=e.className.split(" ");i.push(n),e.className=i.join(" ")}},t.removeClass=function(e,n){if(t.hasClass(e,n)){var i=new RegExp("(^|\\s)"+n+"(\\s|$)","g");e.className=e.className.replace(i," ")}},t.offset=function(e){for(var t=-e.offsetLeft,n=-e.offsetTop;e=e.offsetParent;)t-=e.offsetLeft,n-=e.offsetTop;return{left:t,top:n}},t.preventDefaultException=function(e,t){for(var n in t)if(t[n].test(e[n]))return!0;return!1},t.extend(t.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),t.extend(t.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(e){return e*(2-e)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(e){return o.sqrt(1- --e*e)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(e){return(e-=1)*e*(5*e+4)+1}},bounce:{style:"",fn:function(e){return(e/=1)<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}},elastic:{style:"",fn:function(e){return 0===e?0:1==e?1:.4*o.pow(2,-10*e)*o.sin((e-.055)*(2*o.PI)/.22)+1}}}),t.tap=function(e,t){var n=r.createEvent("Event");n.initEvent(t,!0,!0),n.pageX=e.pageX,n.pageY=e.pageY,e.target.dispatchEvent(n)},t.click=function(e){var t,n=e.target;/(SELECT|INPUT|TEXTAREA)/i.test(n.tagName)||(t=r.createEvent("MouseEvents"),t.initMouseEvent("click",!0,!0,e.view,1,n.screenX,n.screenY,n.clientX,n.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),t._constructed=!0,n.dispatchEvent(t))},t}();s.prototype={version:"5.2.0",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),clearTimeout(this.resizeTimeout),this.resizeTimeout=null,this._execEvent("destroy")},_transitionEnd:function(e){e.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(e){if(1!=c.eventType[e.type]){if(0!==(e.which?e.button:e.button<2?0:4==e.button?1:2))return}if(this.enabled&&(!this.initiated||c.eventType[e.type]===this.initiated)){!this.options.preventDefault||c.isBadAndroid||c.preventDefaultException(e.target,this.options.preventDefaultException)||e.preventDefault();var t,n=e.touches?e.touches[0]:e;this.initiated=c.eventType[e.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this.startTime=c.getTime(),this.options.useTransition&&this.isInTransition?(this._transitionTime(),this.isInTransition=!1,t=this.getComputedPosition(),this._translate(o.round(t.x),o.round(t.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=n.pageX,this.pointY=n.pageY,this._execEvent("beforeScrollStart")}},_move:function(e){if(this.enabled&&c.eventType[e.type]===this.initiated){this.options.preventDefault&&e.preventDefault();var t,n,i,r,s=e.touches?e.touches[0]:e,a=s.pageX-this.pointX,l=s.pageY-this.pointY,u=c.getTime();if(this.pointX=s.pageX,this.pointY=s.pageY,this.distX+=a,this.distY+=l,i=o.abs(this.distX),r=o.abs(this.distY),!(u-this.endTime>300&&i<10&&r<10)){if(this.directionLocked||this.options.freeScroll||(i>r+this.options.directionLockThreshold?this.directionLocked="h":r>=i+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)e.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);l=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)e.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);a=0}a=this.hasHorizontalScroll?a:0,l=this.hasVerticalScroll?l:0,t=this.x+a,n=this.y+l,(t>0||t<this.maxScrollX)&&(t=this.options.bounce?this.x+a/3:t>0?0:this.maxScrollX),(n>0||n<this.maxScrollY)&&(n=this.options.bounce?this.y+l/3:n>0?0:this.maxScrollY),this.directionX=a>0?-1:a<0?1:0,this.directionY=l>0?-1:l<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(t,n),u-this.startTime>300&&(this.startTime=u,this.startX=this.x,this.startY=this.y)}}},_end:function(e){if(this.enabled&&c.eventType[e.type]===this.initiated){this.options.preventDefault&&!c.preventDefaultException(e.target,this.options.preventDefaultException)&&e.preventDefault();var t,n,i=(e.changedTouches&&e.changedTouches[0],c.getTime()-this.startTime),r=o.round(this.x),s=o.round(this.y),a=o.abs(r-this.startX),l=o.abs(s-this.startY),u=0,d="";if(this.isInTransition=0,this.initiated=0,this.endTime=c.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(r,s),!this.moved)return this.options.tap&&c.tap(e,this.options.tap),this.options.click&&c.click(e),void this._execEvent("scrollCancel");if(this._events.flick&&i<200&&a<100&&l<100)return void this._execEvent("flick");if(this.options.momentum&&i<300&&(t=this.hasHorizontalScroll?c.momentum(this.x,this.startX,i,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:r,duration:0},n=this.hasVerticalScroll?c.momentum(this.y,this.startY,i,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:s,duration:0},r=t.destination,s=n.destination,u=o.max(t.duration,n.duration),this.isInTransition=1),this.options.snap){var p=this._nearestSnap(r,s);this.currentPage=p,u=this.options.snapSpeed||o.max(o.max(o.min(o.abs(r-p.x),1e3),o.min(o.abs(s-p.y),1e3)),300),r=p.x,s=p.y,this.directionX=0,this.directionY=0,d=this.options.bounceEasing}if(r!=this.x||s!=this.y)return(r>0||r<this.maxScrollX||s>0||s<this.maxScrollY)&&(d=c.ease.quadratic),void this.scrollTo(r,s,u,d);this._execEvent("scrollEnd")}}},_resize:function(){var e=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){e.refresh()},this.options.resizePolling)},resetPosition:function(e){var t=this.x,n=this.y;return e=e||0,!this.hasHorizontalScroll||this.x>0?t=0:this.x<this.maxScrollX&&(t=this.maxScrollX),!this.hasVerticalScroll||this.y>0?n=0:this.y<this.maxScrollY&&(n=this.maxScrollY),(t!=this.x||n!=this.y)&&(this.scrollTo(t,n,e,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=c.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(e,t){this._events[e]||(this._events[e]=[]),this._events[e].push(t)},off:function(e,t){if(this._events[e]){var n=this._events[e].indexOf(t);n>-1&&this._events[e].splice(n,1)}},_execEvent:function(e){if(this._events[e]){var t=0,n=this._events[e].length;if(n)for(;t<n;t++)this._events[e][t].apply(this,[].slice.call(arguments,1))}},scrollBy:function(e,t,n,i){e=this.x+e,t=this.y+t,n=n||0,this.scrollTo(e,t,n,i)},scrollTo:function(e,t,n,i){i=i||c.ease.circular,this.isInTransition=this.options.useTransition&&n>0;var r=this.options.useTransition&&i.style;!n||r?(r&&(this._transitionTimingFunction(i.style),this._transitionTime(n)),this._translate(e,t)):this._animate(e,t,n,i.fn)},scrollToElement:function(e,t,n,i,r){if(e=e.nodeType?e:this.scroller.querySelector(e)){var s=c.offset(e);s.left-=this.wrapperOffset.left,s.top-=this.wrapperOffset.top,!0===n&&(n=o.round(e.offsetWidth/2-this.wrapper.offsetWidth/2)),!0===i&&(i=o.round(e.offsetHeight/2-this.wrapper.offsetHeight/2)),s.left-=n||0,s.top-=i||0,s.left=s.left>0?0:s.left<this.maxScrollX?this.maxScrollX:s.left,s.top=s.top>0?0:s.top<this.maxScrollY?this.maxScrollY:s.top,t=void 0===t||null===t||"auto"===t?o.max(o.abs(this.x-s.left),o.abs(this.y-s.top)):t,this.scrollTo(s.left,s.top,t,r)}},_transitionTime:function(e){e=e||0;var t=c.style.transitionDuration;if(this.scrollerStyle[t]=e+"ms",!e&&c.isBadAndroid){this.scrollerStyle[t]="0.0001ms";var n=this;u(function(){"0.0001ms"===n.scrollerStyle[t]&&(n.scrollerStyle[t]="0s")})}if(this.indicators)for(var i=this.indicators.length;i--;)this.indicators[i].transitionTime(e)},_transitionTimingFunction:function(e){if(this.scrollerStyle[c.style.transitionTimingFunction]=e,this.indicators)for(var t=this.indicators.length;t--;)this.indicators[t].transitionTimingFunction(e)},_translate:function(e,t){if(this.options.useTransform?this.scrollerStyle[c.style.transform]="translate("+e+"px,"+t+"px)"+this.translateZ:(e=o.round(e),t=o.round(t),this.scrollerStyle.left=e+"px",this.scrollerStyle.top=t+"px"),this.x=e,this.y=t,this.indicators)for(var n=this.indicators.length;n--;)this.indicators[n].updatePosition()},_initEvents:function(e){var t=e?c.removeEvent:c.addEvent,n=this.options.bindToWrapper?this.wrapper:i;t(i,"orientationchange",this),t(i,"resize",this),this.options.click&&t(this.wrapper,"click",this,!0),this.options.disableMouse||(t(this.wrapper,"mousedown",this),t(n,"mousemove",this),t(n,"mousecancel",this),t(n,"mouseup",this)),c.hasPointer&&!this.options.disablePointer&&(t(this.wrapper,c.prefixPointerEvent("pointerdown"),this),t(n,c.prefixPointerEvent("pointermove"),this),t(n,c.prefixPointerEvent("pointercancel"),this),t(n,c.prefixPointerEvent("pointerup"),this)),c.hasTouch&&!this.options.disableTouch&&(t(this.wrapper,"touchstart",this),t(n,"touchmove",this),t(n,"touchcancel",this),t(n,"touchend",this)),t(this.scroller,"transitionend",this),t(this.scroller,"webkitTransitionEnd",this),t(this.scroller,"oTransitionEnd",this),t(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var e,t,n=i.getComputedStyle(this.scroller,null);return this.options.useTransform?(n=n[c.style.transform].split(")")[0].split(", "),e=+(n[12]||n[4]),t=+(n[13]||n[5])):(e=+n.left.replace(/[^-\d.]/g,""),t=+n.top.replace(/[^-\d.]/g,"")),{x:e,y:t}},_initIndicators:function(){function e(e){if(o.indicators)for(var t=o.indicators.length;t--;)e.call(o.indicators[t])}var t,n=this.options.interactiveScrollbars,i="string"!=typeof this.options.scrollbars,r=[],o=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(t={el:a("v",n,this.options.scrollbars),interactive:n,defaultScrollbars:!0,customStyle:i,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(t.el),r.push(t)),this.options.scrollX&&(t={el:a("h",n,this.options.scrollbars),interactive:n,defaultScrollbars:!0,customStyle:i,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(t.el),r.push(t))),this.options.indicators&&(r=r.concat(this.options.indicators));for(var s=r.length;s--;)this.indicators.push(new l(this,r[s]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){e(function(){this.fade()})}),this.on("scrollCancel",function(){e(function(){this.fade()})}),this.on("scrollStart",function(){e(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){e(function(){this.fade(1,!0)})})),this.on("refresh",function(){e(function(){this.refresh()})}),this.on("destroy",function(){e(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){c.addEvent(this.wrapper,"wheel",this),c.addEvent(this.wrapper,"mousewheel",this),c.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){clearTimeout(this.wheelTimeout),this.wheelTimeout=null,c.removeEvent(this.wrapper,"wheel",this),c.removeEvent(this.wrapper,"mousewheel",this),c.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(e){if(this.enabled){e.preventDefault();var t,n,i,r,s=this;if(void 0===this.wheelTimeout&&s._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){s.options.snap||s._execEvent("scrollEnd"),s.wheelTimeout=void 0},400),"deltaX"in e)1===e.deltaMode?(t=-e.deltaX*this.options.mouseWheelSpeed,n=-e.deltaY*this.options.mouseWheelSpeed):(t=-e.deltaX,n=-e.deltaY);else if("wheelDeltaX"in e)t=e.wheelDeltaX/120*this.options.mouseWheelSpeed,n=e.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in e)t=n=e.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in e))return;t=n=-e.detail/3*this.options.mouseWheelSpeed}if(t*=this.options.invertWheelDirection,n*=this.options.invertWheelDirection,this.hasVerticalScroll||(t=n,n=0),this.options.snap)return i=this.currentPage.pageX,r=this.currentPage.pageY,t>0?i--:t<0&&i++,n>0?r--:n<0&&r++,void this.goToPage(i,r);i=this.x+o.round(this.hasHorizontalScroll?t:0),r=this.y+o.round(this.hasVerticalScroll?n:0),this.directionX=t>0?-1:t<0?1:0,this.directionY=n>0?-1:n<0?1:0,i>0?i=0:i<this.maxScrollX&&(i=this.maxScrollX),r>0?r=0:r<this.maxScrollY&&(r=this.maxScrollY),this.scrollTo(i,r,0)}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var e,t,n,i,r,s,a=0,l=0,u=0,c=this.options.snapStepX||this.wrapperWidth,d=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(!0===this.options.snap)for(n=o.round(c/2),i=o.round(d/2);u>-this.scrollerWidth;){for(this.pages[a]=[],e=0,r=0;r>-this.scrollerHeight;)this.pages[a][e]={x:o.max(u,this.maxScrollX),y:o.max(r,this.maxScrollY),width:c,height:d,cx:u-n,cy:r-i},r-=d,e++;u-=c,a++}else for(s=this.options.snap,e=s.length,t=-1;a<e;a++)(0===a||s[a].offsetLeft<=s[a-1].offsetLeft)&&(l=0,t++),this.pages[l]||(this.pages[l]=[]),u=o.max(-s[a].offsetLeft,this.maxScrollX),r=o.max(-s[a].offsetTop,this.maxScrollY),n=u-o.round(s[a].offsetWidth/2),i=r-o.round(s[a].offsetHeight/2),this.pages[l][t]={x:u,y:r,width:s[a].offsetWidth,height:s[a].offsetHeight,cx:n,cy:i},u>this.maxScrollX&&l++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1==0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=o.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=o.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var e=this.options.snapSpeed||o.max(o.max(o.min(o.abs(this.x-this.startX),1e3),o.min(o.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,e)})},_nearestSnap:function(e,t){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var n=0,i=this.pages.length,r=0;if(o.abs(e-this.absStartX)<this.snapThresholdX&&o.abs(t-this.absStartY)<this.snapThresholdY)return this.currentPage;for(e>0?e=0:e<this.maxScrollX&&(e=this.maxScrollX),t>0?t=0:t<this.maxScrollY&&(t=this.maxScrollY);n<i;n++)if(e>=this.pages[n][0].cx){e=this.pages[n][0].x;break}for(i=this.pages[n].length;r<i;r++)if(t>=this.pages[0][r].cy){t=this.pages[0][r].y;break}return n==this.currentPage.pageX&&(n+=this.directionX,n<0?n=0:n>=this.pages.length&&(n=this.pages.length-1),e=this.pages[n][0].x),r==this.currentPage.pageY&&(r+=this.directionY,r<0?r=0:r>=this.pages[0].length&&(r=this.pages[0].length-1),t=this.pages[0][r].y),{x:e,y:t,pageX:n,pageY:r}},goToPage:function(e,t,n,i){i=i||this.options.bounceEasing,e>=this.pages.length?e=this.pages.length-1:e<0&&(e=0),t>=this.pages[e].length?t=this.pages[e].length-1:t<0&&(t=0);var r=this.pages[e][t].x,s=this.pages[e][t].y;n=void 0===n?this.options.snapSpeed||o.max(o.max(o.min(o.abs(r-this.x),1e3),o.min(o.abs(s-this.y),1e3)),300):n,this.currentPage={x:r,y:s,pageX:e,pageY:t},this.scrollTo(r,s,n,i)},next:function(e,t){var n=this.currentPage.pageX,i=this.currentPage.pageY;n++,n>=this.pages.length&&this.hasVerticalScroll&&(n=0,i++),this.goToPage(n,i,e,t)},prev:function(e,t){var n=this.currentPage.pageX,i=this.currentPage.pageY;n--,n<0&&this.hasVerticalScroll&&(n=0,i--),this.goToPage(n,i,e,t)},_initKeys:function(e){var t,n={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(t in this.options.keyBindings)"string"==typeof this.options.keyBindings[t]&&(this.options.keyBindings[t]=this.options.keyBindings[t].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(t in n)this.options.keyBindings[t]=this.options.keyBindings[t]||n[t];c.addEvent(i,"keydown",this),this.on("destroy",function(){c.removeEvent(i,"keydown",this)})},_key:function(e){if(this.enabled){var t,n=this.options.snap,i=n?this.currentPage.pageX:this.x,r=n?this.currentPage.pageY:this.y,s=c.getTime(),a=this.keyTime||0;switch(this.options.useTransition&&this.isInTransition&&(t=this.getComputedPosition(),this._translate(o.round(t.x),o.round(t.y)),this.isInTransition=!1),this.keyAcceleration=s-a<200?o.min(this.keyAcceleration+.25,50):0,e.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?i+=n?1:this.wrapperWidth:r+=n?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?i-=n?1:this.wrapperWidth:r-=n?1:this.wrapperHeight;break;case this.options.keyBindings.end:i=n?this.pages.length-1:this.maxScrollX,r=n?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:i=0,r=0;break;case this.options.keyBindings.left:i+=n?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:r+=n?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:i-=n?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:r-=n?1:5+this.keyAcceleration>>0;break;default:return}if(n)return void this.goToPage(i,r);i>0?(i=0,this.keyAcceleration=0):i<this.maxScrollX&&(i=this.maxScrollX,this.keyAcceleration=0),r>0?(r=0,this.keyAcceleration=0):r<this.maxScrollY&&(r=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(i,r,0),this.keyTime=s}},_animate:function(e,t,n,i){function r(){var p,h,f,m=c.getTime();if(m>=d)return o.isAnimating=!1,o._translate(e,t),void(o.resetPosition(o.options.bounceTime)||o._execEvent("scrollEnd"));m=(m-l)/n,f=i(m),p=(e-s)*f+s,h=(t-a)*f+a,o._translate(p,h),o.isAnimating&&u(r)}var o=this,s=this.x,a=this.y,l=c.getTime(),d=l+n;this.isAnimating=!0,r()},handleEvent:function(e){switch(e.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(e);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(e);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(e);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(e);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(e);break;case"keydown":this._key(e);break;case"click":this.enabled&&!e._constructed&&(e.preventDefault(),e.stopPropagation())}}},l.prototype={handleEvent:function(e){switch(e.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(e);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(e);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(e)}},destroy:function(){this.options.fadeScrollbars&&(clearTimeout(this.fadeTimeout),this.fadeTimeout=null),this.options.interactive&&(c.removeEvent(this.indicator,"touchstart",this),c.removeEvent(this.indicator,c.prefixPointerEvent("pointerdown"),this),c.removeEvent(this.indicator,"mousedown",this),c.removeEvent(i,"touchmove",this),c.removeEvent(i,c.prefixPointerEvent("pointermove"),this),c.removeEvent(i,"mousemove",this),c.removeEvent(i,"touchend",this),c.removeEvent(i,c.prefixPointerEvent("pointerup"),this),c.removeEvent(i,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(e){var t=e.touches?e.touches[0]:e;e.preventDefault(),e.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=t.pageX,this.lastPointY=t.pageY,this.startTime=c.getTime(),this.options.disableTouch||c.addEvent(i,"touchmove",this),this.options.disablePointer||c.addEvent(i,c.prefixPointerEvent("pointermove"),this),this.options.disableMouse||c.addEvent(i,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(e){var t,n,i,r,o=e.touches?e.touches[0]:e;c.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,t=o.pageX-this.lastPointX,this.lastPointX=o.pageX,n=o.pageY-this.lastPointY,this.lastPointY=o.pageY,i=this.x+t,r=this.y+n,this._pos(i,r),e.preventDefault(),e.stopPropagation()},_end:function(e){if(this.initiated){if(this.initiated=!1,e.preventDefault(),e.stopPropagation(),c.removeEvent(i,"touchmove",this),c.removeEvent(i,c.prefixPointerEvent("pointermove"),this),c.removeEvent(i,"mousemove",this),this.scroller.options.snap){var t=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),n=this.options.snapSpeed||o.max(o.max(o.min(o.abs(this.scroller.x-t.x),1e3),o.min(o.abs(this.scroller.y-t.y),1e3)),300);this.scroller.x==t.x&&this.scroller.y==t.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=t,this.scroller.scrollTo(t.x,t.y,n,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(e){e=e||0;var t=c.style.transitionDuration;if(this.indicatorStyle[t]=e+"ms",!e&&c.isBadAndroid){this.indicatorStyle[t]="0.0001ms";var n=this;u(function(){"0.0001ms"===n.indicatorStyle[t]&&(n.indicatorStyle[t]="0s")})}},transitionTimingFunction:function(e){this.indicatorStyle[c.style.transitionTimingFunction]=e},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(c.addClass(this.wrapper,"iScrollBothScrollbars"),c.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(c.removeClass(this.wrapper,"iScrollBothScrollbars"),c.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=o.max(o.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=8-this.indicatorWidth,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=o.max(o.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=8-this.indicatorHeight,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var e=this.options.listenX&&o.round(this.sizeRatioX*this.scroller.x)||0,t=this.options.listenY&&o.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(e<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=o.max(this.indicatorWidth+e,8),this.indicatorStyle.width=this.width+"px"),e=this.minBoundaryX):e>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=o.max(this.indicatorWidth-(e-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",e=this.maxPosX+this.indicatorWidth-this.width):e=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),t<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=o.max(this.indicatorHeight+3*t,8),this.indicatorStyle.height=this.height+"px"),t=this.minBoundaryY):t>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=o.max(this.indicatorHeight-3*(t-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",t=this.maxPosY+this.indicatorHeight-this.height):t=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=e,this.y=t,this.scroller.options.useTransform?this.indicatorStyle[c.style.transform]="translate("+e+"px,"+t+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=e+"px",this.indicatorStyle.top=t+"px")},_pos:function(e,t){e<0?e=0:e>this.maxPosX&&(e=this.maxPosX),t<0?t=0:t>this.maxPosY&&(t=this.maxPosY),e=this.options.listenX?o.round(e/this.sizeRatioX):this.scroller.x,t=this.options.listenY?o.round(t/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(e,t)},fade:function(e,t){if(!t||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var n=e?250:500,i=e?0:300;e=e?"1":"0",this.wrapperStyle[c.style.transitionDuration]=n+"ms",this.fadeTimeout=setTimeout(function(e){this.wrapperStyle.opacity=e,this.visible=+e}.bind(this,e),i)}}},s.utils=c,void 0!==e&&e.exports?e.exports=s:void 0!==(n=function(){return s}.call(exports,t,exports,e))&&(e.exports=n)}(window,document,Math)},"./node_modules/avalon2/dist/avalon.js":function(e,exports,t){(function(t){!function(t,n){e.exports=n()}(0,function(){"use strict";function e(e){this.size=0,this.limit=e,this.head=this.tail=void 0,this._keymap={}}function n(e,t){return ii[e]&&avalon.warn(e,"directive have defined! "),ii[e]=t,t.update||(t.update=function(){}),t.delay&&(ni[e]=1),t}function i(e){for(var t in ni)if("ms-"+t in e)return!0}function avalon(e){return new avalon.init(e)}function r(e,t){for(var n in t)e[n]=t[n];return e}function o(e,t){"string"==typeof e&&(e=e.match(oi)||[]);for(var n={},i=void 0!==t?t:1,r=0,o=e.length;r<o;r++)n[e[r]]=i;return n}function s(e){return avalon._quote(e)}function a(){pi&&avalon.config.debug&&Function.apply.call(console.log,console,arguments)}function l(){if(pi&&avalon.config.debug){var e=console.warn||console.log;Function.apply.call(e,console,arguments)}}function u(e,t){throw(t||Error)(e)}function c(){}function d(e){return null!==e&&"object"==typeof e}function p(e,t,n){n||(n=1),null==t&&(t=e||0,e=0);for(var i=-1,r=Math.max(0,Math.ceil((t-e)/n)),o=new Array(r);++i<r;)o[i]=e,e+=n;return o}function h(e){return e.replace(hi,"$1-$2").toLowerCase()}function f(e){return!e||e.indexOf("-")<0&&e.indexOf("_")<0?e:e.replace(fi,function(e){return e.charAt(1).toUpperCase()})}function m(e,t,n){return mi.call(e,t,n)}function g(e){return e=e||"avalon",String(Math.random()+Math.random()).replace(gi,e)}function v(e){return e.uuid||(e.uuid=g("e"))}function y(e){return e.uuid||(e.uuid="_"+ ++vi)}function b(e){return(e+"").replace(yi,"\\$&")}function q(){return Kn.createDocumentFragment()}function _(e){for(var t in e){var n=e[t];"function"==typeof _.plugins[t]?_.plugins[t](n):_[t]=n}return this}function x(e){return Kn.createComment(e)}function w(e){return/\[native code\]/.test(e)}function S(e,t,n){var i="for(var "+e+"i=0,n = this.length; i < n; i++){"+t.replace("_","((i in this) && fn.call(scope,this[i],i,this))")+"}"+n;return Function("fn,scope",i)}function T(e){return!!e&&(e==e.document&&e.document!=e)}function E(e){return Ii.test(ui.call(e))}function C(e,t){if(!e||"object"!==avalon.type(e)||e.nodeType||avalon.isWindow(e))return!1;try{if(e.constructor&&!ci.call(e,"constructor")&&!ci.call(e.constructor.prototype,"isPrototypeOf"))return!1;e.$vbthis}catch(e){return!1}if(Li)for(t in e)return ci.call(e,t);for(t in e);return t===ji||ci.call(e,t)}function k(e){return"[object Object]"===ui.call(e)&&Object.getPrototypeOf(e)===Object.prototype}function A(e,t){for(var n,i,r,o=t[0],s=1,a=t.length;s<a;s++){var l=t[s],u=Array.isArray(l);for(r in l)if(!u||l.hasOwnProperty(r)){try{var c=o[r],d=l[r]}catch(e){continue}o!==d&&(e&&d&&(avalon.isPlainObject(d)||(n=Array.isArray(d)))?(n?(n=!1,i=c&&Array.isArray(c)?c:[]):i=c&&avalon.isPlainObject(c)?c:{},o[r]=A(e,[i,d])):d!==ji&&(o[r]=d))}}return o}function F(e){if(!e)return!1;var t=e.length;if(t===t>>>0){var n=ui.call(e);if(Bi.test(n))return!0;if("[object Object]"!==n)return!1;try{return!1!=={}.propertyIsEnumerable.call(e,"length")||Ni.test(e.item||e.callee)}catch(t){return!e.window}}return!1}function P(e,t){var n=Math.pow(10,t);return""+(Math.round(e*n)/n).toFixed(t)}function D(e,t,n,i){e=(e+"").replace(/[^0-9+\-Ee.]/g,"");var r=isFinite(+e)?+e:0,o=isFinite(+t)?Math.abs(t):3,s="string"==typeof i?i:",",a=n||".",l="";return l=(o?P(r,o):""+Math.round(r)).split("."),l[0].length>3&&(l[0]=l[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,s)),l.join(a)}function N(e){return e.replace(Mi,"").replace(Ui,function(e,t){var n=e.toLowerCase().match(/<(\w+)\s/);if(n){var i=zi[n[1]];i&&(e=e.replace(i,function(e,t,n){var i=n.charAt(0);return t+"="+i+"javascript:void(0)"+i}))}return e.replace(Hi," ").replace(/\s+/g," ")})}function I(e){return parseInt(e,10)||0}function O(e,t,n){var i="";for(e<0&&(i="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),i+e}function L(e,t,n,i){return function(r){var o=r["get"+e]();return(n>0||o>-n)&&(o+=n),0===o&&-12===n&&(o=12),O(o,t,i)}}function R(e,t){return function(n,i){var r=n["get"+e]();return i[(t?"SHORT"+e:e).toUpperCase()][r]}}function j(e){var t=-1*e.getTimezoneOffset(),n=t>=0?"+":"";return n+=O(Math[t>0?"floor":"ceil"](t/60),2)+O(Math.abs(t%60),2)}function B(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function M(e,t){var n,i,r=M.locate,o="",s=[];if(t=t||"mediumDate",t=r[t]||t,"string"==typeof e)if(/^\d+$/.test(e))e=I(e);else if(Xi.test(e))e=+RegExp.$1;else{var a=e.trim(),l=[0,0,0,0,0,0,0],u=new Date(0);a=a.replace(/^(\d+)\D(\d+)\D(\d+)/,function(e,t,n,i){var r=4===i.length?[i,t,n]:[t,n,i];return l[0]=I(r[0]),l[1]=I(r[1])-1,l[2]=I(r[2]),""});var c=u.setFullYear,d=u.setHours;a=a.replace(/[T\s](\d+):(\d+):?(\d+)?\.?(\d)?/,function(e,t,n,i,r){return l[3]=I(t),l[4]=I(n),l[5]=I(i),r&&(l[6]=Math.round(1e3*parseFloat("0."+r))),""});var p=0,h=0;a=a.replace(/Z|([+-])(\d\d):?(\d\d)/,function(e,t,n,i){return c=u.setUTCFullYear,d=u.setUTCHours,t&&(p=I(t+n),h=I(t+i)),""}),l[3]-=p,l[4]-=h,c.apply(u,l.slice(0,3)),d.apply(u,l.slice(3)),e=u}for("number"==typeof e&&(e=new Date(e));t;)i=Vi.exec(t),i?(s=s.concat(i.slice(1)),t=s.pop()):(s.push(t),t=null);return s.forEach(function(t){n=$i[t],o+=n?n(e,r):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),o}function H(e,t,n){var i=avalon.type(e);if("array"!==i&&"object"!==i)throw"orderBy只能处理对象或数组";var r="string"==typeof t?function(e){return e&&e[t]}:"function"==typeof t?t:function(e){return e},o={},s=[];U(e,Array.isArray(e),function(t){var n=e[t],i=r(n,t);i in o?o[i].push(t):o[i]=[t],s.push(i)}),s.sort(),n<0&&s.reverse();var a="array"===i,l=a?[]:{};return W(l,s,function(t){var n=o[t].shift();a?l.push(e[n]):l[n]=e[n]})}function U(e,t,n){if(t)e.forEach(function(e,t){n(t)});else if("string"==typeof e.$track)e.$track.replace(/[^☥]+/g,function(e){n(e)});else for(var i in e)e.hasOwnProperty(i)&&n(i)}function z(e,t){var n=avalon.type(e);if("array"!==n&&"object"!==n)throw"filterBy只能处理对象或数组";var i=avalon.slice(arguments,2),r=avalon.type(t);if("function"===r)var o=t._orig||t;else{if("string"!==r&&"number"!==r)return e;if(""===t)return e;var s=new RegExp(avalon.escapeRegExp(t),"i");o=function(e){return s.test(e)}}var a="array"===n,l=a?[]:{};return U(e,a,function(t){var n=e[t];o.apply({key:t},[n,t].concat(i))&&(a?l.push(n):l[t]=n)}),l}function V(e,t,n){if(avalon.isObject(e)&&!Array.isArray(e)){var i=[];return W(i,t,function(t){i.push(e.hasOwnProperty(t)?e[t]:n?n[t]:"")})}return e}function X(e,t,n){var i=avalon.type(e);if("array"!==i&&"object"!==i)throw"limitBy只能处理对象或数组";if("number"!=typeof t)return e;if(t!==t)return e;"object"===i&&(e=Y(e,!1));var r=e.length;t=Math.floor(Math.min(r,t)),(n="number"==typeof n?n:0)<0&&(n=Math.max(0,r+n));for(var o=[],s=n;s<r&&o.length!==t;s++)o.push(e[s]);if("array"===i)return o;var a={};return W(a,o,function(e){a[e.key]=e.value})}function W(e,t,n){for(var i=0,r=t.length;i<r;i++)n(t[i]);return e}function Y(e,t){var n=[],i=0;return U(e,t,function(t){n[i]={oldIndex:i,value:e[t],key:t},i++}),n}function G(e){return null==e?"":String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function J(e,t){if(1===e.nodeType){var n=e.nodeName.toLowerCase();if("script"===n)e.text!==t.text&&(e.type="noexec",e.text=t.text,e.type=t.type||"");else if("object"===n){var i=t.childNodes;if(e.childNodes.length!==i.length){avalon.clearHTML(e);for(var r,o=0;r=i[o++];)e.appendChild(r.cloneNode(!0))}}else"input"===n&&Zi.test(t.nodeName)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}}function K(e){return void 0!==e.getElementsByTagName?e.getElementsByTagName("*"):void 0!==e.querySelectorAll?e.querySelectorAll("*"):[]}function Q(e){for(var t=e.cloneNode(!0),n=K(t),i=K(e),r=0;r<i.length;r++)J(n[r],i[r]);return t}function Z(e,t){try{for(;t=t.parentNode;)if(t===e)return!0}catch(e){}return!1}function ee(e){this.node=e}function te(e){return"classList"in e||(e.classList=new ee(e)),e.classList}function ne(e){var t=e.nodeName;return t.toLowerCase()===t&&!!e.scopeName&&""===e.outerText}function ie(e){if("string"==typeof e){if((e=e.trim())&&tr.test(e.replace(ir,"@").replace(rr,"]").replace(nr,"")))return new Function("return "+e)();throw TypeError("Invalid JSON: ["+e+"]")}return e}function re(e,t){for(var n in t)try{var i=t[n];if(0===n.indexOf("data-")||or.test(e))e.setAttribute(n,i);else{var r=er[n]||n;if("boolean"==typeof e[r]&&("checked"===r&&(e.defaultChecked=!!i),e[r]=!!i),!1===i){e.removeAttribute(r);continue}if(avalon.msie<8&&/[A-Z]/.test(r)){e[r]=i+"";continue}!(avalon.modern||!ne(e))||oe(e.nodeName,n)?("href"!==n&&"src"!==n||avalon.msie<8&&(i=String(i).replace(sr,"&")),e[r]=i+""):e.setAttribute(n,i)}}catch(e){avalon.log(String(e.message).trim(),n,i)}}function oe(e,t){var n=e+":"+t;return n in ar?ar[n]:ar[n]=t in Kn.createElement(e)}function se(e,t){if(e.offsetWidth<=0){if(dr.test(xi["@:get"](e,"display"))){var n={node:e};for(var i in cr)n[i]=e.style[i],e.style[i]=cr[i];t.push(n)}var r=e.parentNode;r&&1===r.nodeType&&se(r,t)}}function ae(e){return e.window||e.defaultView||e.parentWindow||!1}function le(e){var t=e.tagName.toLowerCase();return"input"===t?Zi.test(e.type)?"checked":e.type:t}function ue(e){if(e.hasAttribute&&e.hasAttribute("value"))return e.getAttribute("value");var t=e.getAttributeNode("value");return t&&t.specified?t.value:e.innerHTML.trim()}function ce(e){return o(e+",template,#document-fragment,#comment")}function de(e){return pe(e)}function pe(e){var t=e,n=Er.get(t);if(n)return avalon.mix(!0,[],n);var i=he(e,!1);return Er.put(t,avalon.mix(!0,[],i)),i}function he(e,t){t=void 0===t||!0===t;var n=fe(e,t);return t?"string"==typeof n[0]?n[1]:n[0]:n}function fe(e,t){function n(e){var t=r.last();t&&t.children?t.children.push(e):l.push(e)}var i=9990,r=[],o=e,s=e.length;r.last=function(){return r[r.length-1]};var a,l=[];do{if(0==--i)break;var u=ye(e);if(u){e=e.replace(u[0],"");var c=r.pop();if(!c)throw"是不是有属性值没有用引号括起";if("option"===c.nodeName?c.children=[{nodeName:"#text",nodeValue:qe(c)}]:"table"===c.nodeName&&ve(c.children),a=null,t&&1===l.length&&!r.length)return[o.slice(0,s-e.length),l[0]]}else{var u=be(e);if(u){e=e.replace(u[0],"");var d=u[1];n(d);var p=!(!d.isVoidTag&&!xr[d.nodeName]);if(p||r.push(d),t&&p&&!r.length)return[o.slice(0,s-e.length),d];a=d}else{var h="";do{if(0!==e.indexOf("<"))break;h+=e.slice(0,1),e=e.slice(1)}while(e.length);var f=e.indexOf("<");if(-1===f)h=e,e="";else{var m=e.indexOf(_.openTag);if(-1!==m&&m<f){0!==m&&(h+=e.slice(0,m));var g=e.slice(m),v=ge(g);h+=v,e=g.slice(v.length)}else h+=e.slice(0,f),e=e.slice(f)}var y=me(a,h,n);y&&(a=y)}}}while(e.length);return l}function me(e,t,n){if(Sr.test(t))return e&&"#text"===e.nodeName?(e.nodeValue+=t,e):(e={nodeName:"#text",nodeValue:t},n(e),e)}function ge(e){for(var t,n,i=_.closeTag,r=_.openTag,o=i.charAt(0),s=i.length,a="code",l=r.length,u=e.length;l<u;l++){var c=e.charAt(l);switch(a){case"code":if('"'===c||"'"===c)a="string",t=c;else if(c===o&&e.substr(l,s)===i)return e.slice(0,l+s);break;case"string":"\\"===c&&/"'/.test(e.charAt(l+1))&&(n=!n),c!==t||n||(a="code")}}throw"找不到界定符"+i}function ve(e){for(var t=!1,n=0,i=e.length;n<i;n++){var r=e[n];Cr.test(r.nodeName)?t=!1:"tr"===r.nodeName?t?(e.splice(n,1),t.children.push(r),i--,n--):(t={nodeName:"tbody",props:{},children:[r]},e.splice(n,1,t)):t&&(e.splice(n,1),t.children.push(r),i--,n--)}}function ye(e){if(0===e.indexOf("</")){var t=e.match(/\<\/(\w+[^\s\/\>]*)>/);if(t){var n=t[1];return e=e.slice(3+n.length),[t[0],{nodeName:n}]}}return null}function be(e){if(0===e.indexOf("<")){if(0===e.indexOf("\x3c!--")){var t=e.indexOf("--\x3e");-1===t&&thow("注释节点没有闭合 "+e.slice(0,100));var n={nodeName:"#comment",nodeValue:e.slice(4,t)};return[e.slice(0,t+3),n]}var i=e.match(kr);if(i){var r=i[0],o=i[1],n={nodeName:o,props:{},children:[]};e=e.replace(r,"");try{var s=_e(e)}catch(e){}if(s&&(n.props=s[1],e=e.replace(s[0],""),r+=s[0]),">"===e.charAt(0)?(r+=">",e=e.slice(1),br[n.nodeName]&&(n.isVoidTag=!0)):"/>"===e.slice(0,2)&&(r+="/>",e=e.slice(2),n.isVoidTag=!0),!n.isVoidTag&&xr[o]){var a="</"+o+">",l=e.indexOf(a),u=e.slice(0,l);r+=u+a,n.children.push({nodeName:"#text",nodeValue:u}),"textarea"===o&&(n.props.type=o,n.props.value=u)}return[r,n]}}}function qe(e){var t="";return e.children.forEach(function(e){"#text"===e.nodeName?t+=e.nodeValue:e.children&&!wr[e.nodeName]&&(t+=qe(e))}),t}function _e(e){for(var t,n,i="AttrName",r="",o="",s={},a=0,l=e.length;a<l;a++){var u=e.charAt(a);switch(i){case"AttrName":if("/"===u&&">"===e.charAt(a+1)||">"===u)return r&&(s[r]=r),[e.slice(0,a),s];if(Tr.test(u))r&&(i="AttrEqual");else if("="===u){if(!r)throw"必须指定属性名";i="AttrQuote"}else r+=u;break;case"AttrEqual":"="===u?i="AttrQuote":Sr.test(u)&&(s[r]=r,r=u,i="AttrName");break;case"AttrQuote":'"'!==u&&"'"!==u||(t=u,i="AttrValue",n=!1);break;case"AttrValue":if("\\"===u&&/"'/.test(e.charAt(a+1))&&(n=!n),"\n"===u)break;u!==t?o+=u:u!==t||n||(s[r]=o,r=o="",i="AttrName")}}throw"必须关闭标签"}function xe(e,t){e.setAttribute("avalon-events",t)}function we(e,t,n){var i=e.getAttribute("avalon-events");if(i&&(!0!==e.disabled||"click"!==t)){var r=[],o=Ir[t]||(Ir[t]=new RegExp("\\b"+t+"\\:([^,\\s]+)","g"));i.replace(o,function(e,t){return r.push(t),e}),r.length&&n.push({elem:e,uuids:r})}e=e.parentNode;var s=avalon.gestureEvents||{};e&&e.getAttribute&&(Dr[t]||s[t])&&we(e,t,n)}function Se(e){e=new Ee(e);var t=e.type,n=e.target,i=[];we(n,t,i);for(var r,o,s,a=0;(s=i[a++])&&!e.cancelBubble;){e.currentTarget=s.elem;for(r=0;(o=s.uuids[r++])&&!e.stopImmediate;){var l=avalon.eventListeners[o];if(l){var u=Or.test(o)?s.elem._ms_context_:0;if(u&&!1===u.$hashcode)return avalon.unbind(n,t,l);!1===l.call(u||n,e)&&(e.preventDefault(),e.stopPropagation())}}}}function Te(e){var t=Qn.getAttribute("delegate-events")||"";if(-1===t.indexOf(e)){var n=t.match(avalon.rword)||[];n.push(e),Qn.setAttribute("delegate-events",n.join(",")),avalon._nativeBind(Qn,e,Se,!!Lr[e])}}function Ee(e){if(e.originalEvent)return e;for(var t in e)Rr[t]||(this[t]=e[t]);this.target||(this.target=e.srcElement);this.target;this.fixEvent(),this.timeStamp=new Date-0,this.originalEvent=e}function Ce(e){for(avalon.isReady=!0;e=Hr.shift();)e(avalon)}function ke(e,t,n){switch(t){case"style":case"script":case"noscript":case"template":case"xmp":e.children=[{nodeName:"#text",nodeValue:n}];break;case"textarea":var i=e.props;i.type=t,i.value=n,e.children=[{nodeName:"#text",nodeValue:n}];break;case"option":e.children=[{nodeName:"#text",nodeValue:Ae(n)}]}}function Ae(e){return String(e).replace(zr,"").trim()}function Fe(e){return[Pe(e)]}function Pe(e){var t=e.nodeName.toLowerCase();switch(t){case"#text":case"#comment":return{nodeName:t,dom:e,nodeValue:e.nodeValue};default:var n=De(e,e.attributes||[]),i={nodeName:t,dom:e,isVoidTag:!!br[t],props:n};if("option"===t&&(n.selected=e.selected),Ur[t]||"option"===t)ke(i,t,e.text||e.innerHTML),1===e.childNodes.length&&(i.children[0].dom=e.firstChild);else if(!i.isVoidTag){i.children=[];for(var r,o=0;r=e.childNodes[o++];){var s=Pe(r);/\S/.test(s.nodeValue)&&i.children.push(s)}}return i}}function De(e,t){for(var n={},i=0,r=t.length;i<r;i++){var o=t[i];o.specified&&(n[o.name.toLowerCase()]=o.value)}if($r.test(e.nodeName)){n.type=e.type;var s=e.getAttributeNode("value");s&&/\S/.test(s.value)&&(n.value=s.value)}var a=e.style.cssText;return a&&(n.style=a),"select-one"===n.type&&(n.selectedIndex=e.selectedIndex),n}function Ne(e){this.nodeName="#text",this.nodeValue=e}function Ie(e){this.nodeName="#comment",this.nodeValue=e}function Oe(e,t,n,i){this.nodeName=e,this.props=t,this.children=n,this.isVoidTag=i}function Le(e,t,n){switch(t){case"style":e.setAttribute("type","text/css"),e.styleSheet.cssText=n;break;case"xmp":case"noscript":e.textContent=n}}function Re(e){return!1!==e&&Object(e)!==e}function je(e){return Kn.createElementNS("http://www.w3.org/2000/svg",e)}function Be(e){Kn.styleSheets.length<31?Kn.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):Kn.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");var t=e.split(":");1===t.length&&t.unshift("v");var n=t[1],i=t[0];return Kn.namespaces[i]||Kn.namespaces.add(i,"urn:schemas-microsoft-com:vml"),Kn.createElement("<"+i+":"+n+' class="rvml">')}function Me(e,t,n,i){this.nodeName="#document-fragment",this.children=e,this.key=t,this.val=n,this.index=i,this.props={}}function He(){if(!(!0===avalon.isRunningActions||avalon.inTransaction>0)){avalon.isRunningActions=!0;for(var e,t=avalon.pendingActions.splice(0,avalon.pendingActions.length),n=0;e=t[n++];)e.update(),delete avalon.uniqActions[e.uuid];avalon.isRunningActions=!1}}function Ue(e){for(var t,n=e.observers,i=0;t=n[i++];)t.schedule()}function ze(e){var t=avalon.trackingAction||null;null!==t&&(avalon.track("征收到",e.expr),t.mapIDs[e.uuid]=e)}function $e(e,t){if(e.observers){var n=avalon.trackingAction;n&&Jr.push(n),avalon.trackingAction=e,avalon.track("【action】",e.type,e.expr,"开始征收依赖项"),e.mapIDs={};var i,r=!0;try{i=t.call(e),r=!1}finally{if(r)avalon.warn("collectDeps fail",t+""),e.mapIDs={},avalon.trackingAction=n;else{avalon.trackingAction=Jr.pop();try{Ve(e)}catch(e){avalon.warn(e)}}return i}}}function Ve(e){var t=e.observers,n=[],i={},r=[];for(var o in e.mapIDs){var s=e.mapIDs[o];if(!s.isAction){if(!s.observers){delete e.mapIDs[o];continue}if(r.push(s.uuid),n.push(s),i[s.uuid]=1,s.lastAccessedBy===e.uuid)continue;s.lastAccessedBy=e.uuid,avalon.Array.ensure(s.observers,e)}}var r=r.sort().join(",");if(r!==e.ids){if(e.ids=r,e.isComputed){e.depsCount=n.length,e.deps=avalon.mix({},e.mapIDs),e.depsVersion={};for(var a in e.mapIDs){var l=e.mapIDs[a];e.depsVersion[l.uuid]=l.version}}else e.observers=n;for(var u,c=0;u=t[c++];)i[u.uuid]||avalon.Array.remove(u.observers,e)}}function Xe(e,t,n){n=n||[];var i="transaction "+(e.name||e.displayName||"noop");We(i);var r=e.apply(t,n);return Ye(i),r}function We(e){avalon.inTransaction+=1}function Ye(e){0==--avalon.inTransaction&&(avalon.isRunningActions=!1,He())}function Ge(e){var t="??"+Kr++;return Qr.map[t]=e,t+" "}function Je(e){return Qr.map[e]}function Ke(e){for(var t=Qe(e),n=0,i=t.length;n<i;n++)e=e.replace(t[n],Ge);return e}function Qe(e,t,n){var i=!1,r=0,t=t||0;n=n||[];for(var o=e.length;t<o;t++){var s=e.charAt(t);i?s===i&&(n.push(e.slice(r,t+1)),i=!1):"'"===s?(i="'",r=t):'"'===s&&(i='"',r=t)}return!1!==i?Qe(e,r+1,n):n}function Ze(e){return e.replace(lo,Ge).replace(po,function(e){return to[e]?e:"__vmodel__."+e})}function et(e,t){var n=e+":"+t,i=ho.get(n);if(i)return i.slice(0);Qr.map={};var r=e.replace(ao,function(e,t){return t+Ge(e.slice(t.length))});r=Ke(r),r=r.replace(ro,Ge).replace(io,"$1").replace(uo,function(e,t,n){return t+Ge(n)+":"}).replace(no,"$1__vmodel__.").replace(co,function(e,t){return"|"+Ge(t)}),r=Ze(r);var o=r.split(so),s=o.shift().replace(Zr,Je).trim();return/\?\?\d/.test(s)&&(s=s.replace(Zr,Je)),o.length?(o=o.map(function(e){var t="";return e=e.replace(oo,function(e,n){return/\S/.test(n)&&(t+=","+n),""}),"["+avalon.quote(e.trim())+t+"]"}),o="avalon.composeFilters("+o+")(__value__)",o=o.replace(Zr,Je)):o="",ho.put(n,[s,o])}function tt(e){return fo.test(e)&&(e+="($event)"),ei<9&&(e=e.replace(mo,function(e,t,n){return"__vmodel__."+t+".call(__vmodel__"+(/\S/.test(n)?","+n:"")+")"})),e}function nt(e,t){var n,i=et(e,t);n=i[1]?i[1].replace(/__value__\)$/,i[0]+")"):i[0];try{return new Function("__vmodel__","return "+n+";")}catch(t){return avalon.log("parse getter: [",e,n,"]error"),avalon.noop}}function it(e,t){var n=et(e,t),i="try{ "+n[0]+' = __value__}catch(e){avalon.log(e, "in on dir")}';try{return new Function("__vmodel__","__value__",i+";")}catch(t){return avalon.log("parse setter: ",e," error"),avalon.noop}}function rt(e,t,n){for(var i in t)1!==vo[i]&&(this[i]=t[i]);this.vm=e,this.observers=[],this.callback=n,this.uuid=++go,this.ids="",this.mapIDs={},this.isAction=!0;var r=this.expr;"function"!=typeof this.getter&&(this.getter=nt(r,this.type)),"duplex"===this.type&&(this.setter=it(r,this.type)),this.value=NaN,this.node||(this.value=this.get())}function ot(e){if(e&&"object"==typeof e){if(e&&e.$events)return e.$model;if(Array.isArray(e)){for(var t=[],n=0,i=e.length;n<i;n++)t.push(ot(e[n]));return t}var r={};for(var o in e)r[o]=ot(e[o]);return r}return e}function st(e,t,n){if(this.expr=e,t){var i=ai.createProxy(t,this);i&&(t=i)}this.value=t,this.vm=n;try{n.$mutations[e]=this}catch(e){}this.uuid=++yo,this.updateVersion(),this.mapIDs={},this.observers=[]}function at(e){var t=e.toString();return t.substring(t.indexOf("{}")+1,t.lastIndexOf("}"))}function lt(e){var t=function(){};return t.prototype=e,new t}function ut(e,t){if("function"==typeof t){(e.prototype=lt(t.prototype)).constructor=e}}function ct(e,t){avalon.mix(this,e),avalon.mix(this,Yi),this.$hashcode=avalon.makeHashCode("$"),this.$id=this.$id||this.$hashcode,this.$events={__dep__:t||new st(this.$id)},avalon.config.inProxyMode?(delete this.$mutations,this.$accessors={},this.$computed={},this.$track=""):this.$accessors={$model:xo},void 0===t?(this.$watch=ai.watchFactory(this.$events),this.$fire=ai.fireFactory(this.$events)):(delete this.$watch,delete this.$fire)}function dt(e,t,n){return!(e in Yi)&&("$"===e.charAt(0)?!!n&&(_o[e]||(_o[e]=1,avalon.warn("ms-for中的变量"+e+"不再建议以$为前缀")),!0):null==t?(avalon.warn("定义vmodel时"+e+"的属性值不能为null undefine"),!0):!/error|date|function|regexp/.test(avalon.type(t))&&!(t&&t.nodeName&&t.nodeType))}function pt(e,t){if(e&&e.$events)return e;var n;return Array.isArray(e)?n=ai.listFactory(e,!1,t):d(e)&&(n=ai.modelFactory(e,t)),n}function ht(e,t,n){var i=null,r=n?qo:st;return{get:function(){return i||(i=new r(e,t,this)),i.get()},set:function(n){i||(i=new r(e,t,this)),i.set(n)},enumerable:!0,configurable:!0}}function ft(e){var t=avalon.type(e);if("array"===t){for(var n=[],i=0;i<e.length;i++)n[i]=ft(e[i]);return n}if("object"===t&&"string"==typeof e.$track){var r={};return(e.$track.match(/[^☥]+/g)||[]).forEach(function(t){var n=e[t];r[t]=n&&n.$events?ft(n):n}),r}return e}function mt(e){for(var t in So)ai.hideProperty(e,t,So[t])}function gt(e,t,n){t||(mt(e),ti&&Object.defineProperty(e,"$model",ai.modelAccessor),ai.hideProperty(e,"$hashcode",avalon.makeHashCode("$")),ai.hideProperty(e,"$events",{__dep__:n||new st}));for(var i=e.$events&&e.$events.__dep__,r=0,o=e.length;r<o;r++){var s=e[r];d(s)&&(e[r]=ai.createProxy(s,i))}return e}function vt(e,t,n){To?Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!1,configurable:!0}):Eo[t]||(e[t]=n)}function yt(e){return function(t,n,i){var r=new rt(e.__proxy__,{deep:i,type:"user",expr:t},n);return e[t]?e[t].push(r):e[t]=[r],function(){r.dispose(),avalon.Array.remove(e[t],r),0===e[t].length&&delete e[t]}}}function bt(e){return function(t,n){var i=e[t];if(Array.isArray(i))for(var r,o=0;r=i[o++];)r.callback.call(r.vm,n,r.value,r.expr)}}function qt(e){return"☥"+e+"☥"}function _t(e,t,n,i){function r(t){return qt(e.$track).indexOf(qt(t))>-1}var o=e.$accessors;for(var s in Yi)avalon.msie<9&&void 0===t[s]||vt(e,s,t[s]);for(var a=0;a<n.length;a++){var l=n[a];if(!(l in o)){var u=t[l];if(i&&"function"==typeof u){e[l]=u.bind(e),e[l]._orig=u;continue}e[l]=u}}e.$track=n.join("☥"),avalon.msie<9&&(e.hasOwnProperty=r),e.$events.__proxy__=e}function xt(e){var t=[];for(var n in e)t.push(n);return t}function wt(e,t,n){if(0===n)return e===t;if(null===e&&null===t)return!0;if(void 0===e&&void 0===t)return!0;var i=Array.isArray(e);return i===Array.isArray(t)&&(i?St(e,t,n):"object"==typeof e&&"object"==typeof t?Tt(e,t,n):e===t)}function St(e,t,n){if(e.length!==t.length)return!1;for(var i=e.length-1;i>=0;i--)try{if(!wt(e[i],t[i],n-1))return!1}catch(e){return!1}return!0}function Tt(e,t,n){if(null===e||null===t)return!1;if(xt(e).length!==xt(t).length)return!1;for(var i in e){if(!(i in t))return!1;try{if(!wt(e[i],t[i],n-1))return!1}catch(e){return!1}}return!0}function Et(){var e=Xo[0];e&&e()}function Ct(e,t,n){e[t]||(e[t]=n)}function kt(e,t,n){for(var i,r=[].concat(e[t]),o=0;i=r[o++];)"function"==typeof i&&i(n)}function At(e){var t=e.toLowerCase();return function(n){var i=this.dom,r=avalon(i),o=isFinite(n.stagger)?1e3*n.stagger:0;if(o&&n.staggerKey){var s=Yo.get(n.staggerKey)||Yo.put(n.staggerKey,{count:0,items:0});s.count++,s.items++}var a,l=s&&s.count||0,u=function(t){var r=!1!==t;0==--i.__ms_effect_&&(avalon.unbind(i,zo),avalon.unbind(i,Uo)),clearTimeout(a),kt(n,"on"+e+(r?"Done":"Abort"),i),s&&0==--s.items&&(s.count=0),n.queue&&(Xo.shift(),Et())};kt(n,"onBefore"+e,i),n[t]?n[t](i,function(e){u(!1!==e)}):jo&&(r.addClass(n[t+"Class"]),r.removeClass(Pt(n,t)),i.__ms_effect_?i.__ms_effect_++:(r.bind(zo,u),r.bind(Uo,u),i.__ms_effect_=1),setTimeout(function(){var e=NaN===avalon.root.offsetWidth;r.addClass(n[t+"ActiveClass"]),e=Nt(i),0===!e?u(!1):o||(a=setTimeout(function(){u(!1)},e+32))},17+o*l))}}function Ft(e){if(!e.action)return e.action=e.hook.replace(/^on/,"").replace(/Done$/,"").toLowerCase()}function Pt(e,t){var t="leave"===t?"enter":"leave";return Array(t+"Class",t+"ActiveClass").map(function(t){return e[t]}).join(" ")}function Dt(e){var t=Ko.test(e)?1e3:1;return parseFloat(e)*t}function Nt(e){var t=ri.getComputedStyle(e,null),n=t[Go],i=t[Jo];return Dt(n)||Dt(i)}function It(e,t){var n=e.ownerDocument,i=e.nodeName,r="_"+i;if(!It[r]){var o=n.body.appendChild(n.createElement(i));t=avalon.css(o,"display"),n.body.removeChild(o),t===Qo&&(t="block"),It[r]=t}return It[r]}function Ot(e,t){var n=e.innerRender=avalon.scan(e.fragment,e.vm);avalon.shadowCopy(t,n.root),delete t.nodeValue}function Lt(e,t){e.children&&e.children.forEach(function(e){"option"===e.nodeName?Rt(e,t):Lt(e,t)})}function Rt(e,t){var n=e.props;if(!("disabled"in n)){var i=jt(e,n);if(i=String(i||"").trim(),n.selected="string"==typeof t?i===t:-1!==t.indexOf(i),e.dom){e.dom.selected=n.selected;e.dom.selected}}}function jt(e,t){if(t&&"value"in t)return t.value+"";var n=[];return e.children.forEach(function(e){"#text"===e.nodeName?n.push(e.nodeValue):"#document-fragment"===e.nodeName&&n.push(jt(e))}),n.join("")}function Bt(e,t){return e.children.forEach(function(e){"option"===e.nodeName?!0===e.props.selected&&t.push(jt(e,e.props)):e.children&&Bt(e,t)}),t}function Mt(e){e.userCb&&e.userCb.call(e.vm,{type:"changed",target:e.dom})}function Ht(e){var t=this,n=t._ms_duplex_;if(!t.composing&&t.value!==n.value){if(t.caret)try{var i=n.getCaret(t);n.pos=i}catch(e){}if(n.debounceTime>4){var r=new Date,o=r-n.time||0;n.time=r,o>=n.debounceTime?Zo[n.dtype].call(n):(clearTimeout(n.debounceID),n.debounceID=setTimeout(function(){Zo[n.dtype].call(n)},o))}else n.isChanged?setTimeout(function(){Zo[n.dtype].call(n)},4):Zo[n.dtype].call(n)}}function Ut(){var e=this.expr;es.test(e)&&(this.isChanged=!0,e=e.replace(es,""));var t=e.match(ts);t&&(e=e.replace(ts,""),this.isChanged||(this.debounceTime=parseInt(t[1],10)||300)),this.expr=e}function zt(){var e=(this.expr,this.node),t=e.props.type;this.parseValue=Xt;var n,i=this.param,r=!1;i=i?i.split("-").map(function(e){return"checked"===e&&(r=!0),e}):[],e.duplex=this,Zi.test(t)&&r&&(i=[],n="radio",this.isChecked=r),this.parsers=i,/input|textarea|select/.test(e.nodeName)?n||(n="select"===e.nodeName?"select":"checkbox"===t?"checkbox":"radio"===t?"radio":"input"):"contenteditable"in e.props&&(n="contenteditable"),this.dtype=n,"input"!==n&&"contenteditable"!==n?(delete this.isChanged,delete this.debounceTime):this.isChecked||(this.isString=!0);var o=e.props["data-duplex-changed"];if(o){var s=et(o,"xx"),a=tt(s[0]);this.userCb=new Function("$event","var __vmodel__ = this\nreturn "+a)}}function $t(e,t){if(Array.isArray(e)){if(e+""!==this.compareVal)return this.compareVal=e+"",!0}else if(e=this.parseValue(e),this.isChecked||(this.value=e+=""),e!==this.compareVal)return this.compareVal=e,!0}function Vt(e,t){var n=e.dom;this.dom=n,this.vdom=e,this.duplexCb=Ht,n._ms_duplex_=this,t(n,this)}function Xt(e){for(var t,n=0;t=this.parsers[n++];){var i=avalon.parsers[t];i&&(e=i.call(this,e))}return e}function Wt(e){var t=typeof e;return e&&"object"===t?e.$hashcode:t+":"+e}function Yt(e,t){if(d(t)){var n=Array.isArray(t),i=[],r=[],o=0;return e.isArray=n,e.fragments?(e.preFragments=e.fragments,avalon.each(t,function(e,t){var s=n?Wt(t):e;r.push({key:s,val:t,index:o++}),i.push(s)}),e.fragments=r):(avalon.each(t,function(e,t){if(!(e in Yi)){var s=n?Wt(t):e;r.push(new Me([],s,t,o++)),i.push(s)}}),e.fragments=r),i.join(";;")}return NaN}function Gt(e){var t=e.fragments.map(function(t,n){return Zt(t,e,n),tn(e.cache,t),t}),n=e.parentChildren,i=n.indexOf(e.begin);n.splice.apply(n,[i+1,0].concat(t))}function Jt(e){var t=e.cache,n={},i=[],r=e.preFragments;r.forEach(function(e){e._dispose=!0}),e.fragments.forEach(function(r,o){var s=en(t,r.key);s?(delete s._dispose,s.oldIndex=s.index,s.index=o,Kt(s.vm,e.keyName),s.vm[e.valName]=r.val,s.vm[e.keyName]=e.isArray?o:s.key,tn(n,s)):i.push(r)}),i.forEach(function(i){var o=nn(t,i.key);if(o){o.oldIndex=o.index,o.key=i.key;var s=o.val=i.val,a=o.index=i.index;o.vm[e.valName]=s,o.vm[e.keyName]=e.isArray?a:o.key,delete o._dispose}else i=new Me([],i.key,i.val,i.index),o=Zt(i,e,i.index),r.push(o);tn(n,o)}),e.fragments=r,r.sort(function(e,t){return e.index-t.index}),e.cache=n}function Kt(e,t,n){avalon.config.inProxyMode?e.$accessors[t].value=NaN:e.$accessors[t].set(NaN)}function Qt(e){for(var t,n=e.begin.dom,i=n.parentNode,r=e.fragments,o=e.end.dom,s=0;t=r[s];s++)if(t._dispose)r.splice(s,1),s--,t.dispose();else{if(t.oldIndex!==t.index){var a=t.toFragment(),l=null===n.nextSibling;i.insertBefore(a,n.nextSibling),l&&!i.contains(o)&&i.insertBefore(o,n.nextSibling)}n=t.split}var u=e.parentChildren,c=u.indexOf(e.begin),d=u.indexOf(e.end);r.splice.apply(u,[c+1,d-c].concat(r)),"SELECT"===i.nodeName&&i._ms_duplex_&&ls.select.call(i._ms_duplex_)}function Zt(e,t,n){var i={};i[t.keyName]=t.isArray?n:e.key,i[t.valName]=e.val,t.asName&&(i[t.asName]=t.value);var r=e.vm=ai.itemFactory(t.vm,{data:i});return t.isArray?r.$watch(t.valName,function(e){t.value&&t.value.set&&t.value.set(r[t.keyName],e)}):r.$watch(t.valName,function(n){t.value[e.key]=n}),e.index=n,e.innerRender=avalon.scan(t.fragment,r,function(){var t=this.root;di.push.apply(e.children,t.children),this.root=e}),e}function en(e,t){var n=e[t];if(n){var i=n.arr;if(i){var r=i.pop();return i.length||(n.arr=0),r}return delete e[t],n}}function tn(e,t){var n=t.key;if(e[n]){var i=e[n];(i.arr||(i.arr=[])).push(t)}else e[n]=t}function nn(e){var t;for(var n in e){var t=n;break}if(t)return en(e,t)}function rn(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t],i=typeof n;if("string"===i||"number"===i||!0===n)e.push(n);else if(Array.isArray(n))e.push(rn.apply(null,n));else if("object"===i)for(var r in n)n.hasOwnProperty(r)&&n[r]&&e.push(r)}return e.join(" ")}function on(e){var t=e.target;avalon(t).addClass(t.getAttribute(hs[e.type])||"")}function sn(e){var t=e.target,n=hs[e.type];avalon(t).removeClass(t.getAttribute(n)||""),"change-active"!==n&&avalon(t).removeClass(t.getAttribute("change-active")||"")}function an(e,t){var n=e.getAttribute("change-class");n!==t&&(avalon(e).removeClass(n).addClass(t),e.setAttribute("change-class",t))}function ln(e,t){var n={};switch(t.dtype){case"radio":case"checkbox":n.click=Ht;break;case"select":n.change=Ht;break;case"contenteditable":t.isChanged?n.blur=Ht:avalon.modern?(ri.webkitURL?n.webkitEditableContentChanged=Ht:ri.MutationEvent&&(n.DOMCharacterDataModified=Ht),n.input=Ht):(n.keydown=mn,n.paste=cn,n.cut=cn,n.focus=fn,n.blur=hn);break;case"input":t.isChanged?n.change=Ht:ei<10?(n.propertychange=un,n.paste=cn,n.cut=cn,n.keyup=mn):(n.input=Ht,n.compositionstart=hn,n.compositionend=fn,/\[native code\]/.test(ri.Int8Array)||(n.keydown=mn,n.paste=cn,n.cut=cn,ri.netscape&&(n.DOMAutoComplete=Ht)))}/password|text/.test(e.type)&&(n.focus=dn,n.blur=pn,t.getCaret=vn,t.setCaret=gn);for(var i in n)avalon.bind(e,i,n[i])}function un(e){"value"===e.propertyName&&Ht.call(this,e)}function cn(e){var t=this;setTimeout(function(){Ht.call(t,e)},0)}function dn(){this.caret=!0}function pn(){this.caret=!1}function hn(){this.composing=!0}function fn(e){this.composing=!1,cn.call(this,e)}function mn(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||Ht.call(this,e)}function gn(e,t){var n;e.createTextRange?fs(function(){e.focus(),n=e.createTextRange(),n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select()}):(e.focus(),void 0!==e.selectionStart&&e.setSelectionRange(t,t))}function vn(e){var t,n,i,r,o,s=0;return e.selectionStart+e.selectionEnd>-1?s=e.selectionStart:(n=Kn.selection.createRange())&&n.parentElement()===e&&(r=e.value.length,t=e.value.replace(/\r\n/g,"\n"),i=e.createTextRange(),i.moveToBookmark(n.getBookmark()),o=e.createTextRange(),o.collapse(!1),i.compareEndPoints("StartToEnd",o)>-1?s=r:(s=-i.moveStart("character",-r),s+=t.slice(0,s).split("\n").length-1)),s}function yn(e,t){var n=this.dom;if(this.isString&&t&&!e&&!n.valueHijack){n.valueHijack=Ht;var i=setInterval(function(){avalon.contains(avalon.root,n)?n.valueHijack({type:"poll"}):clearInterval(i)},30);return i}}function bn(e){return"regexp"===avalon.type(e)}function qn(e){if("string"==typeof e&&e){var t=e.split("-");if(3===t.length&&4===t[0].length){var n=~~t[0],i=~~t[1]-1,r=~~t[2],o=new Date(n,i,r);return o.getFullYear()===n&&o.getMonth()===i&&o.getDate()===r}}return!1}function _n(e){for(;"FORM"!==e.tagName;)e=e.parentNode;return e._ms_validate_}function xn(e){e.preventDefault();var t=_n(e.target);t&&t.onManual&&t.onManual()}function wn(e,t,n){for(var i,r=0;i=e[r++];){var o=i.rules&&i.duplex;o?(t.push(o),En(o,n)):i.children?wn(i.children,t,n):Array.isArray(i)&&wn(i,t,n)}}function Sn(e){var t=e.target,n=t._ms_duplex_,i=(n||{}).vdom;if(n&&i.rules&&!n.validator){var r=_n(t);r&&avalon.Array.ensure(r.fields,n)&&En(n,r)}}function Tn(e){var t=e.target,n=t._ms_duplex_,i=_n(e.target);i&&i.validate(n,0,e)}function En(e,t){var n=e.dom;e.validator||(e.validator=t,!t.validateInKeyup||e.isChanged||e.debounceTime||avalon.bind(n,"keyup",Tn),t.validateInBlur&&avalon.bind(n,"blur",Tn),t.resetInFocus&&avalon.bind(n,"focus",function(e){var t=e.target,n=t._ms_duplex_,i=_n(e.target);i&&i.onReset.call(t,e,n)}))}function Cn(){var e=this.data||{};return this.message.replace(bs,function(t,n){return null==e[n]?"":e[n]})}function kn(e,t,n,i){var r=t.type,o=avalon.directives[r];if(Jn){var s=avalon.vdom(n,"toDOM");1===s.nodeType&&s.removeAttribute(t.attrName),n.dom=s}var a=o.update?function(e){!i.mount&&/css|visible|duplex/.test(r)?i.callbacks.push(function(){o.update.call(u,u.node,e)}):o.update.call(u,u.node,e)}:avalon.noop;for(var l in o)t[l]=o[l];t.node=n;var u=new rt(e,t,a);return u.init&&u.init(),u.update(),u}function An(e,t){var n=t[0],i={},r=[],o=!1;for(var s in e){var a=e[s],l=s.split("-");if(s in n.props)var u=s;else u=":"+s.slice(3);qs[l[1]]&&l.splice(1,0,"on"),"on"===l[1]&&(l[3]=parseFloat(l[3])||0);var c=l[1];if("controller"!==c&&"important"!==c&&ii[c]){var d={type:c,param:l[2],attrName:u,name:l.join("-"),expr:a,priority:ii[c].priority||100*c.charCodeAt(0)};if("if"===c&&(o=!0),"on"===c&&(d.priority+=l[3]),!i[d.name]&&(i[d.name]=a,r.push(d),"for"===c))return[avalon.mix(d,t[3])]}}if(r.sort(Fn),o)for(var p,h=[],f=0;p=r[f++];)if(h.push(p),"if"===p.type)return h;return r}function Fn(e,t){return e.priority-t.priority}function Pn(e){var t=/\n\r?/g,n=e.nodeValue.trim().replace(t,""),i=[];do{var r=n.indexOf(_.openTag);r=-1===r?n.length:r;var o=n.slice(0,r);if(/\S/.test(o)&&i.push(avalon.quote(avalon._decode(o))),n=n.slice(r+_.openTag.length)){r=n.indexOf(_.closeTag);var o=n.slice(0,r),s=avalon.unescapeHTML(o);if(/\|\s*\w/.test(s)){var a=et(s,"expr");a[1]&&(s=a[1].replace(xs,a[0]+")"))}_s&&(s="("+s+")"),i.push(s),n=n.slice(r+_.closeTag.length)}}while(n.length);return[{expr:i.join("+"),name:"expr",type:"expr"}]}function Dn(e){for(var t,n=0,i=0;t=e[i++];)"#document-fragment"===t.nodeName?n+=Dn(t.children):n+=1;return n}function Nn(e,t){t&&t.forEach(function(t){if(t){var n=t.children&&Dn(t.children);if("#document-fragment"===t.nodeName)var i=q();else{i=avalon.vdom(t,"toDOM");var r=i.childNodes&&i.childNodes.length;r&&n&&r>n&&(ws[i.nodeName]||avalon.clearHTML(i))}if(n&&(Nn(i,t.children),"select"===t.nodeName)){var o=[];Bt(t,o),Lt(t,o)}try{ws[e.nodeName]||e.appendChild(i)}catch(e){}}})}function In(e){for(var t;t=e.firstChild;)1===t.nodeType&&In(t),e.removeChild(t)}function On(e,t){var n,i=e.indexOf(t)+1,r=1,o=[];for(o.start=i;t=e[i++];)if(o.push(t),"#comment"===t.nodeName)if(Ln(t.nodeValue,"ms-for:"))r++;else if("ms-for-end:"===t.nodeValue&&0===--r){n=t,o.pop();break}return o.end=n,o}function Ln(e,t){return 0===e.indexOf(t)}function Rn(e,t,n){this.root=e,this.vm=t,this.beforeReady=n,this.bindings=[],this.callbacks=[],this.directives=[],this.init()}function jn(){var e=this.beforeUpdate(),t=this.value=this.get();if(this.callback&&this.diff(t,e)){this.callback(this.node,this.value);var n=this.vm,i=n.$render,r=n.$events.onViewChange;r&&i&&i.root&&!avalon.viewChanging&&(Ss&&(clearTimeout(Ss),Ss=null),Ss=setTimeout(function(){r.forEach(function(e){e.callback.call(n,{type:"viewchange",target:i.root,vmodel:n})})}))}this._isScheduled=!1}function Bn(e){var e=ai.toJson(e);if(Array.isArray(e)){var t={};return e.forEach(function(e){e&&avalon.shadowCopy(t,e)}),t}return e}function Mn(e,t){e.innerRender=t;var n=t.root,i=e.node,r=i.props.slot;for(var o in n)i[o]=n[o];i.props&&r&&(i.props.slot=r),t.root=i,t.vnodes[0]=i}function Hn(e,t,n){var i=e.$events["on"+n];i&&i.forEach(function(i){setTimeout(function(){i.callback.call(e,{type:n.toLowerCase(),target:t.dom,vmodel:e})},0)})}function Un(e,t,n){var i=[],r=e.defaults;zn(r,i),zn(t,i);var o={};for(var s in r){var a=t[s];o[s]=null==a?r[s]:a}o.$id=t.id||t.$id||avalon.makeHashCode(n),delete o.id;var l=avalon.mix(!0,{},o),u=avalon.define(l);return i.forEach(function(e){u.$watch(e.type,e.cb)}),u}function zn(e,t){for(var n in e)Ts[n]&&"function"==typeof e[n]&&0===n.indexOf("on")&&t.unshift({type:n,cb:e[n]})}function $n(e,t){var n=t&&t[0]&&t[0].forDir;n&&(n.parentChildren=e)}function Vn(e,t){for(var n,i=0;n=e[i];i++){if("slot"===n.nodeName){$n(e,t),e.splice.apply(e,[i,1].concat(t));break}n.children&&Vn(n.children,t)}}function Xn(e,t){for(var n,i=0;n=e[i];i++)if("slot"!==n.nodeName)n.children&&Xn(n.children,t);else{var r=n.props.name;$n(e,t[r]),e.splice.apply(e,[i,1].concat(t[r]))}}function Wn(e,t){avalon.components[e]=t;for(var n,i=0;n=Es[i];i++)n.is===e&&(Es.splice(i,1),n.reInit=!0,delete n.value,n.update(),i--);return t}function Yn(e){var t=e.displayName;delete e.displayName;var n={defaults:avalon.mix(!0,{},this.defaults,e.defaults)};return e.soleSlot&&(n.soleSlot=e.soleSlot),n.template=e.template||this.template,avalon.component(t,n)}var Gn="object"==typeof window?window:"object"==typeof t?t:{},Jn=!!Gn.location&&Gn.navigator,Kn=Jn?Gn.document:{createElement:Object,createElementNS:Object,documentElement:"xx",contains:Boolean},Qn=Jn?Kn.documentElement:{outerHTML:"x"},Zn={objectobject:7,objectundefined:6,undefinedfunction:NaN,undefinedobject:NaN},ei=Kn.documentMode||Zn[typeof Kn.all+typeof XMLHttpRequest],ti=/NaN|undefined/.test(ei)||ei>8;e.prototype={put:function(e,t){var n={key:e,value:t};return this._keymap[e]=n,this.tail?(this.tail.newer=n,n.older=this.tail):this.head=n,this.tail=n,this.size===this.limit?this.shift():this.size++,t},shift:function(){var e=this.head;e&&(this.head=this.head.newer,this.head.older=e.newer=e.older=this._keymap[e.key]=void 0,delete this._keymap[e.key],this.size--)},get:function(e){var t=this._keymap[e];if(void 0!==t)return t===this.tail?t.value:(t.newer&&(t===this.head&&(this.head=t.newer),t.newer.older=t.older),t.older&&(t.older.newer=t.newer),t.newer=void 0,t.older=this.tail,this.tail&&(this.tail.newer=t),this.tail=t,t.value)}};var ni={},ii={},ri=Gn;avalon.init=function(e){this[0]=this.element=e},avalon.fn=avalon.prototype=avalon.init.prototype;var oi=/[^, ]+/g,si=/\S+/g,ai={},li=Object.prototype,ui=li.toString,ci=li.hasOwnProperty,di=Array.prototype,pi="object"==typeof console;avalon.config={debug:!0};var hi=/([a-z\d])([A-Z]+)/g,fi=/[-_][^-_]/g,mi=di.slice,gi=/\d\.\d{4}/,vi=1,yi=/[-.*+?^${}()|[\]\/\\]/g,bi={},qi={},_i={},xi={};ri.avalon=avalon;var wi=/&[a-z0-9#]{2,10};/,Si=Kn.createElement("div");r(avalon,{Array:{merge:function(e,t){e.push.apply(e,t)},ensure:function(e,t){if(-1===e.indexOf(t))return e.push(t)},removeAt:function(e,t){return!!e.splice(t,1).length},remove:function(e,t){var n=e.indexOf(t);return!!~n&&avalon.Array.removeAt(e,n)}},evaluatorPool:new e(888),parsers:{number:function(e){return""===e?"":parseFloat(e)||0},string:function(e){return null===e||void 0===e?"":e+""},boolean:function(e){return""===e?e:"true"===e||"1"===e}},_decode:function(e){return wi.test(e)?(Si.innerHTML=e,Si.innerText||Si.textContent):e}});var Ti={interpolate:function(e){var t=e[0],n=e[1];if(t===n)throw new SyntaxError("interpolate openTag cannot equal to closeTag");if(/[<>]/.test(t+"test"+n))throw new SyntaxError('interpolate cannot contains "<" or ">"');_.openTag=t,_.closeTag=n;var i=b(t),r=b(n);_.rtext=new RegExp(i+"(.+?)"+r,"g"),_.rexpr=new RegExp(i+"([\\s\\S]*)"+r)}};if(_.plugins=Ti,_({interpolate:["{{","}}"],debug:!0}),r(avalon,{shadowCopy:r,oneObject:o,inspect:ui,ohasOwn:ci,rword:oi,version:"2.2.9",vmodels:{},directives:ii,directive:n,eventHooks:bi,eventListeners:qi,validators:_i,cssHooks:xi,log:a,noop:c,warn:l,error:u,config:_,modern:ti,msie:ei,root:Qn,document:Kn,window:ri,inBrowser:Jn,isObject:d,range:p,slice:m,hyphen:h,camelize:f,escapeRegExp:b,quote:s,makeHashCode:g}),!w("司徒正美".trim)){var Ei=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(Ei,"")}}Object.create||(Object.create=function(){function e(){}return function(t){if(1!=arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return e.prototype=t,new e}}());var Ci=!{toString:null}.propertyIsEnumerable("toString"),ki=function(){}.propertyIsEnumerable("prototype"),Ai=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Fi=Ai.length;w(Object.keys)||(Object.keys=function(e){var t=[],n=ki&&"function"==typeof e;if("string"==typeof e||e&&e.callee)for(var i=0;i<e.length;++i)t.push(String(i));else for(var r in e)n&&"prototype"===r||!ci.call(e,r)||t.push(String(r));if(Ci)for(var o=e.constructor,s=o&&o.prototype===e,a=0;a<Fi;a++){var l=Ai[a];s&&"constructor"===l||!ci.call(e,l)||t.push(l)}return t}),w(Array.isArray)||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),w(w.bind)||(Function.prototype.bind=function(e){if(arguments.length<2&&void 0===e)return this;var t=this,n=arguments;return function(){var i,r=[];for(i=1;i<n.length;i++)r.push(n[i]);for(i=0;i<arguments.length;i++)r.push(arguments[i]);return t.apply(e,r)}});try{mi.call(avalon.document.documentElement)}catch(e){di.slice=function(e,t){if(t=void 0!==t?t:this.length,Array.isArray(this))return mi.call(this,e,t);var n,i,r=[],o=this.length,s=e||0;s=s>=0?s:o+s;var a=t||o;if(t<0&&(a=o+t),(i=a-s)>0)if(r=new Array(i),this.charAt)for(n=0;n<i;n++)r[n]=this.charAt(s+n);else for(n=0;n<i;n++)r[n]=this[s+n];return r}}w(di.map)||avalon.shadowCopy(di,{indexOf:function(e,t){var n=this.length,i=~~t;for(i<0&&(i+=n);i<n;i++)if(this[i]===e)return i;return-1},lastIndexOf:function(e,t){var n=this.length,i=null==t?n-1:t;for(i<0&&(i=Math.max(0,n+i));i>=0;i--)if(this[i]===e)return i;return-1},forEach:S("","_",""),filter:S("r=[],j=0,","if(_)r[j++]=this[i]","return r"),map:S("r=[],","r[i]=_","return r"),some:S("","if(_)return true","return false"),every:S("","if(!_)return false","return true")});var Pi=function(){var e={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},t=function(e,t){return("000000"+(t||0)).slice(-e)},n=function(n){var i=n.charCodeAt(0),r=e[i];return r||"\\u00"+t(2,i.toString(16))},i=/[\x00-\x1f\x22\x5c]/g;return function(e){return i.lastIndex=0,'"'+(i.test(e)?String(e).replace(i,n):e)+'"'}}();try{avalon._quote=msie<=8?Pi:JSON.stringify}catch(e){avalon._quote=Pi}var Di={};"Boolean Number String Function Array Date RegExp Object Error".replace(avalon.rword,function(e){Di["[object "+e+"]"]=e.toLowerCase()}),avalon.type=function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?Di[ui.call(e)]||"object":typeof e};var Ni=/^\s*\bfunction\b/;avalon.isFunction="object"==typeof alert?function(e){try{return Ni.test(e+"")}catch(e){return!1}}:function(e){return"[object Function]"===ui.call(e)};var Ii=/^\[object (?:Window|DOMWindow|global)\]$/;avalon.isWindow=E(avalon.window)?E:T;var Oi,Li;for(Oi in avalon({}))break;Li="0"!==Oi,avalon.isPlainObject=/\[native code\]/.test(Object.getPrototypeOf)?k:C;var Ri=/object|function/;avalon.mix=avalon.fn.mix=function(){var e=arguments.length,t=!1,n=0,i=[];for(!0===arguments[0]&&(t=!0,n=1);n<e;n++){var r=arguments[n];r=r&&Ri.test(typeof r)?r:{},i.push(r)}return 1===i.length&&i.unshift(this),A(t,i)};var ji,Bi=/(Array|List|Collection|Map|Arguments)\]$/;avalon.each=function(e,t){if(e){var n=0;if(F(e))for(var i=e.length;n<i&&!1!==t(n,e[n]);n++);else for(n in e)if(e.hasOwnProperty(n)&&!1===t(n,e[n]))break}},function(){var e=["%cavalon.js %c"+avalon.version+" %cin debug mode, %cmore...","color: rgb(114, 157, 52); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(82, 140, 224); font-weight: normal; text-decoration: underline;"];if("object"==typeof console){var t=console,n=t.groupCollapsed||t.log;Function.apply.call(n,t,e),t.log("You're running avalon in debug mode - messages will be printed to the console to help you fix problems and optimise your application.\n\nTo disable debug mode, add this line at the start of your app:\n\n  avalon.config({debug: false});\n\nDebug mode also automatically shut down amicably when your app is minified.\n\nGet help and support:\n  https://segmentfault.com/t/avalon\n  http://avalonjs.coding.me/\n  http://www.baidu-x.com/?q=avalonjs\n  http://www.avalon.org.cn/\n\nFound a bug? Raise an issue:\n  https://github.com/RubyLouvre/avalon/issues\n\n"),n!==console.log&&t.groupEnd(e)}}();var Mi=/<script[^>]*>([\S\s]*?)<\/script\s*>/gim,Hi=/\s+(on[^=\s]+)(?:=("[^"]*"|'[^']*'|[^\s>]+))?/g,Ui=/<\w+\b(?:(["'])[^"]*?(\1)|[^>])*>/gi,zi={a:/\b(href)\=("javascript[^"]*"|'javascript[^']*')/gi,img:/\b(src)\=("javascript[^"]*"|'javascript[^']*')/gi,form:/\b(action)\=("javascript[^"]*"|'javascript[^']*')/gi},$i={yyyy:L("FullYear",4),yy:L("FullYear",2,0,!0),y:L("FullYear",1),MMMM:R("Month"),MMM:R("Month",!0),MM:L("Month",2,1),M:L("Month",1,1),dd:L("Date",2),d:L("Date",1),HH:L("Hours",2),H:L("Hours",1),hh:L("Hours",2,-12),h:L("Hours",1,-12),mm:L("Minutes",2),m:L("Minutes",1),ss:L("Seconds",2),s:L("Seconds",1),sss:L("Milliseconds",3),EEEE:R("Day"),EEE:R("Day",!0),a:B,Z:j},Vi=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,Xi=/^\/Date\((\d+)\)\/$/,Wi={AMPMS:{0:"上午",1:"下午"},DAY:{0:"星期日",1:"星期一",2:"星期二",3:"星期三",4:"星期四",5:"星期五",6:"星期六"},MONTH:{0:"1月",1:"2月",2:"3月",3:"4月",4:"5月",5:"6月",6:"7月",7:"8月",8:"9月",9:"10月",10:"11月",11:"12月"},SHORTDAY:{0:"周日",1:"周一",2:"周二",3:"周三",4:"周四",5:"周五",6:"周六"},fullDate:"y年M月d日EEEE",longDate:"y年M月d日",medium:"yyyy-M-d H:mm:ss",mediumDate:"yyyy-M-d",mediumTime:"H:mm:ss",short:"yy-M-d ah:mm",shortDate:"yy-M-d",shortTime:"ah:mm"};Wi.SHORTMONTH=Wi.MONTH,M.locate=Wi;var Yi={$id:void 0,$render:void 0,$track:void 0,$element:void 0,$computed:void 0,$watch:void 0,$fire:void 0,$events:void 0,$accessors:void 0,$hashcode:void 0,$mutations:void 0,$vbthis:void 0,$vbsetter:void 0},Gi={stop:function(e){return e.stopPropagation(),e},prevent:function(e){return e.preventDefault(),e}},Ji={esc:27,tab:9,enter:13,space:32,del:46,up:38,left:37,right:39,down:40};for(var Ki in Ji)!function(e,t){Gi[e]=function(e){return e.which!==t&&(e.$return=!0),e}}(Ki,Ji[Ki]);var Qi=avalon.filters={};avalon.composeFilters=function(){var e=arguments;return function(t){for(var n,i=0;n=e[i++];){var r=n[0],o=avalon.filters[r];if("function"==typeof o){n[0]=t;try{t=o.apply(0,n)}catch(e){}}}return t}},avalon.escapeHtml=G,avalon.mix(Qi,{uppercase:function(e){return String(e).toUpperCase()},lowercase:function(e){return String(e).toLowerCase()},truncate:function(e,t,n){return e?(e=String(e),isNaN(t)&&(t=30),n="string"==typeof n?n:"...",e.length>t?e.slice(0,t-n.length)+n:e):""},camelize:avalon.camelize,date:M,escape:G,sanitize:N,number:D,currency:function(e,t,n){return(t||"¥")+D(e,isFinite(n)?n:2)}},{filterBy:z,orderBy:H,selectBy:V,limitBy:X},Gi);var Zi=/^(?:checkbox|radio)$/;avalon.contains=Z,avalon.cloneNode=function(e){return e.cloneNode(!0)},Jn&&function(){function e(e,t){e in Qn||!HTMLElement.prototype.__defineGetter__||HTMLElement.prototype.__defineGetter__(e,t)}ei<10&&(avalon.cloneNode=Q),Kn.contains||(Kn.contains=function(e){return Z(Kn,e)}),avalon.modern&&(Kn.createTextNode("x").contains||(Node.prototype.contains=function(e){return Z(this,e)})),e("outerHTML",function(){var e=Kn.createElement("div");return e.appendChild(this),e.innerHTML}),e("children",function(){for(var e,t=[],n=0;e=this.childNodes[n++];)1===e.nodeType&&t.push(e);return t}),e("innerText",function(){return this.textContent})}(),ee.prototype={toString:function(){var e=this.node,t=e.className,n="string"==typeof t?t:t.baseVal,i=n.match(si);return i?i.join(" "):""},contains:function(e){return(" "+this+" ").indexOf(" "+e+" ")>-1},add:function(e){this.contains(e)||this.set(this+" "+e)},remove:function(e){this.set((" "+this+" ").replace(" "+e+" "," "))},set:function(e){e=e.trim();var t=this.node;"object"==typeof t.className?t.setAttribute("class",e):t.className=e,e||t.removeAttribute("class")}},"add,remove".replace(oi,function(e){avalon.fn[e+"Class"]=function(t){var n=this[0]||{};return t&&"string"==typeof t&&1===n.nodeType&&t.replace(si,function(t){te(n)[e](t)}),this}}),avalon.shadowCopy(avalon.fn,{hasClass:function(e){var t=this[0]||{};return 1===t.nodeType&&te(t).contains(e)},toggleClass:function(e,t){var n="boolean"==typeof t,i=this;return String(e).replace(si,function(e){var r=n?t:!i.hasClass(e);i[r?"addClass":"removeClass"](e)}),this}});var er={};"accept-charset,acceptCharset|char,ch|charoff,chOff|class,className|for,htmlFor|http-equiv,httpEquiv".replace(/[^\|]+/g,function(e){var t=e.split(",");er[t[0]]=t[1]}),["autofocus,autoplay,async,allowTransparency,checked,controls","declare,disabled,defer,defaultChecked,defaultSelected,","isMap,loop,multiple,noHref,noResize,noShade","open,readOnly,selected"].join(",").replace(/\w+/g,function(e){er[e.toLowerCase()]=e}),["accessKey,bgColor,cellPadding,cellSpacing,codeBase,codeType,colSpan","dateTime,defaultValue,contentEditable,frameBorder,longDesc,maxLength,marginWidth,marginHeight,rowSpan,tabIndex,useMap,vSpace,valueType,vAlign"].join(",").replace(/\w+/g,function(e){er[e.toLowerCase()]=e});var tr=/^[\],:{}\s]*$/,nr=/(?:^|:|,)(?:\s*\[)+/g,ir=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,rr=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,or=/^\[object SVG\w*Element\]$/,sr=/&amp;/g,ar={};try{avalon.parseJSON=JSON.parse}catch(e){avalon.parseJSON=ie}avalon.fn.attr=function(e,t){return 2===arguments.length?(this[0].setAttribute(e,t),this):this[0].getAttribute(e)};var lr=o("float","cssFloat");avalon.cssNumber=o("animationIterationCount,columnCount,order,flex,flexGrow,flexShrink,fillOpacity,fontWeight,lineHeight,opacity,orphans,widows,zIndex,zoom");var ur=["","-webkit-","-o-","-moz-","-ms-"];avalon.cssName=function(e,t,n){if(lr[e])return lr[e];t=t||avalon.root.style||{};for(var i=0,r=ur.length;i<r;i++)if((n=avalon.camelize(ur[i]+e))in t)return lr[e]=n;return null},avalon.css=function(e,t,n,i){if(e instanceof avalon&&(e=e[0]),1===e.nodeType){var r=avalon.camelize(t);if(t=avalon.cssName(r)||r,void 0===n||"boolean"==typeof n){i=xi[r+":get"]||xi["@:get"],"background"===t&&(t="backgroundColor");var o=i(e,t);return!0===n?parseFloat(o)||0:o}if(""===n)e.style[t]="";else{if(null==n||n!==n)return;isFinite(n)&&!avalon.cssNumber[r]&&(n+="px"),i=xi[r+":set"]||xi["@:set"],i(e,t,n)}}},avalon.fn.css=function(e,t){if(avalon.isPlainObject(e))for(var n in e)avalon.css(this,n,e[n]);else var i=avalon.css(this,e,t);return void 0!==i?i:this},avalon.fn.position=function(){var e,t,n=this[0],i={top:0,left:0};return n?("fixed"===this.css("position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),"HTML"!==e[0].tagName&&(i=e.offset()),i.top+=avalon.css(e[0],"borderTopWidth",!0),i.left+=avalon.css(e[0],"borderLeftWidth",!0),i.top-=e.scrollTop(),i.left-=e.scrollLeft()),{top:t.top-i.top-avalon.css(n,"marginTop",!0),left:t.left-i.left-avalon.css(n,"marginLeft",!0)}):i},avalon.fn.offsetParent=function(){for(var e=this[0].offsetParent;e&&"static"===avalon.css(e,"position");)e=e.offsetParent;return avalon(e||avalon.root)},xi["@:set"]=function(e,t,n){try{e.style[t]=n}catch(e){}},xi["@:get"]=function(e,t){if(!e||!e.style)throw new Error("getComputedStyle要求传入一个节点 "+e);var n,i=ri.getComputedStyle(e,null);return i&&""===(n="filter"===t?i.getPropertyValue(t):i[t])&&(n=e.style[t]),n},xi["opacity:get"]=function(e){var t=xi["@:get"](e,"opacity");return""===t?"1":t},"top,left".replace(avalon.rword,function(e){xi[e+":get"]=function(t){var n=xi["@:get"](t,e);return/px$/.test(n)?n:avalon(t).position()[e]+"px"}});var cr={position:"absolute",visibility:"hidden",display:"block"},dr=/^(none|table(?!-c[ea]).+)/;if(avalon.each({Width:"width",Height:"height"},function(e,t){var n="client"+e,i="scroll"+e,r="offset"+e;xi[t+":get"]=function(t,n,i){var o=-4;"number"==typeof i&&(o=i),n="Width"===e?["Left","Right"]:["Top","Bottom"];var s=t[r];return 2===o?s+avalon.css(t,"margin"+n[0],!0)+avalon.css(t,"margin"+n[1],!0):(o<0&&(s=s-avalon.css(t,"border"+n[0]+"Width",!0)-avalon.css(t,"border"+n[1]+"Width",!0)),-4===o&&(s=s-avalon.css(t,"padding"+n[0],!0)-avalon.css(t,"padding"+n[1],!0)),s)},xi[t+"&get"]=function(e){var n=[];se(e,n);for(var i,r=xi[t+":get"](e),o=0;i=n[o++];){e=i.node;for(var s in i)"string"==typeof i[s]&&(e.style[s]=i[s])}return r},avalon.fn[t]=function(o){var s=this[0];if(0===arguments.length){if(s.setTimeout)return s["inner"+e]||s.document.documentElement[n]||s.document.body[n];if(9===s.nodeType){var a=s.documentElement;return Math.max(s.body[i],a[i],s.body[r],a[r],a[n])}return xi[t+"&get"](s)}return this.css(t,o)},avalon.fn["inner"+e]=function(){return xi[t+":get"](this[0],void 0,-2)},avalon.fn["outer"+e]=function(e){return xi[t+":get"](this[0],void 0,!0===e?2:0)}}),ei<9){avalon.shadowCopy(lr,o("float","styleFloat"));var pr=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,hr=/^(top|right|bottom|left)$/,fr=/alpha\([^)]+\)/i,mr=/(opacity|\d(\d|\.)*)/g,gr=8===ei,vr={thin:gr?"1px":"2px",medium:gr?"3px":"4px",thick:gr?"5px":"6px"};xi["@:get"]=function(e,t){var n=e.currentStyle,i=n[t];if(pr.test(i)&&!hr.test(i)){var r=e.style,o=r.left,s=e.runtimeStyle.left;e.runtimeStyle.left=n.left,r.left="fontSize"===t?"1em":i||0,i=r.pixelLeft+"px",r.left=o,e.runtimeStyle.left=s}return"medium"===i&&(t=t.replace("Width","Style"),"none"===n[t]&&(i="0px")),""===i?"auto":vr[i]||i},xi["opacity:set"]=function(e,t,n){var i=e.style,r=Number(n)<=1?"alpha(opacity="+100*n+")":"",o=i.filter||"";i.zoom=1,i.filter=(fr.test(o)?o.replace(fr,r):o+" "+r).trim(),i.filter||i.removeAttribute("filter")},xi["opacity:get"]=function(e){for(var t,n=e.style.filter.match(mr)||[],i=!1,r=0;t=n[r++];)if("opacity"===t)i=!0;else if(i)return t/100+"";return"1"}}avalon.fn.offset=function(){var e=this[0],t={left:0,top:0};if(!e||!e.tagName||!e.ownerDocument)return t;var n=e.ownerDocument,i=n.body,r=n.documentElement,o=n.defaultView||n.parentWindow;if(!avalon.contains(r,e))return t;e.getBoundingClientRect&&(t=e.getBoundingClientRect());var s=r.clientTop||i.clientTop,a=r.clientLeft||i.clientLeft,l=Math.max(o.pageYOffset||0,r.scrollTop,i.scrollTop),u=Math.max(o.pageXOffset||0,r.scrollLeft,i.scrollLeft);return{top:t.top+l-s,left:t.left+u-a}},avalon.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){avalon.fn[e]=function(n){var i=this[0]||{},r=ae(i),o=avalon.root,s="scrollTop"===e;if(!arguments.length)return r?t in r?r[t]:o[e]:i[e];r?r.scrollTo(s?avalon(r).scrollLeft():n,s?n:avalon(r).scrollTop()):i[e]=n}});var yr={"option:get":ei?ue:function(e){return e.value},"select:get":function(e,t){for(var n,i=e.options,r=e.selectedIndex,o=yr["option:get"],s="select-one"===e.type||r<0,a=s?null:[],l=s?r+1:i.length,u=r<0?l:s?r:0;u<l;u++)if(n=i[u],(n.selected||u===r)&&!n.disabled&&(!n.parentNode.disabled||"OPTGROUP"!==n.parentNode.tagName)){if(t=o(n),s)return t;a.push(t)}return a},"select:set":function(e,t,n){t=[].concat(t);for(var i,r=yr["option:get"],o=0;i=e.options[o++];)(i.selected=t.indexOf(r(i))>-1)&&(n=!0);n||(e.selectedIndex=-1)}};avalon.fn.val=function(e){var t=this[0];if(t&&1===t.nodeType){var n=0===arguments.length,i=n?":get":":set",r=yr[le(t)+i];if(r)var o=r(t,e);else{if(n)return(t.value||"").replace(/\r/g,"");t.value=e}}return n?o:this};var br={area:1,base:1,basefont:1,bgsound:1,br:1,col:1,command:1,embed:1,frame:1,hr:1,img:1,input:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1},qr=o("div,ul,ol,dl,table,h1,h2,h3,h4,h5,h6,form,fieldset"),_r=ce("tr,style,script"),xr=(ce("option,optgroup,#text"),ce("option,#text"),ce("#text"),ce("th,td,style,script"),ce("col"),ce("base,basefont,bgsound,link,style,script,meta,title,noscript,noframes"),o("head,body"),{xmp:1,style:1,script:1,noscript:1,textarea:1,"#comment":1,template:1}),wr={style:1,script:1,noscript:1,template:1},Sr=/\S/,Tr=/\s/;avalon.lexer=de;var Er=new e(100),Cr=/^(tbody|thead|tfoot)$/,kr=/\<(\w[^\s\/\>]*)/,Ar=/<|&#?\w+;/,Fr=new e(128),Pr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi;avalon.parseHTML=function(e){var t=q();if("string"!=typeof e)return t;if(!Ar.test(e))return Kn.createTextNode(e);e=e.replace(Pr,"<$1></$2>").trim();var n=Fr.get(e);if(n)return avalon.cloneNode(n);for(var i,r=de(e),o=0;i=r[o++];){var s=avalon.vdom(i,"toDOM");t.appendChild(s)}return e.length<1024&&Fr.put(e,t),t},avalon.innerHTML=function(e,t){var n=avalon.parseHTML(t);this.clearHTML(e),e.appendChild(n)},avalon.unescapeHTML=function(e){return String(e).replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},avalon.clearHTML=function(e){for(;e.lastChild;)e.removeChild(e.lastChild);return e};var Dr={click:!0,dblclick:!0,keydown:!0,keypress:!0,keyup:!0,mousedown:!0,mousemove:!0,mouseup:!0,mouseover:!0,mouseout:!0,wheel:!0,mousewheel:!0,input:!0,change:!0,beforeinput:!0,compositionstart:!0,compositionupdate:!0,compositionend:!0,select:!0,cut:!0,copy:!0,paste:!0,beforecut:!0,beforecopy:!0,beforepaste:!0,focusin:!0,focusout:!0,DOMFocusIn:!0,DOMFocusOut:!0,DOMActivate:!0,dragend:!0,datasetchanged:!0},Nr=avalon.modern&&Kn.ontouchstart;avalon.fn.bind=function(e,t,n){if(this[0])return avalon.bind(this[0],e,t,n)},avalon.fn.unbind=function(e,t,n){if(this[0]){var i=mi.call(arguments);i.unshift(this[0]),avalon.unbind.apply(0,i)}return this},avalon.bind=function(e,t,n){if(1===e.nodeType){var i=e.getAttribute("avalon-events")||"",r=y(n),o=bi[t];"click"===t&&Nr&&e.addEventListener("click",avalon.noop),o&&(t=o.type||t,o.fix&&(n=o.fix(e,n),n.uuid=r));var s=t+":"+r;avalon.eventListeners[n.uuid]=n,-1===i.indexOf(t+":")&&(Dr[t]||avalon.modern&&Lr[t]?Te(t):avalon._nativeBind(e,t,Se));var a=i.split(",");return""===a[0]&&a.shift(),-1===a.indexOf(s)&&(a.push(s),xe(e,a.join(","))),n}var l=function(t){n.call(e,new Ee(t))};return avalon._nativeBind(e,t,l),l},avalon.unbind=function(e,t,n){if(1===e.nodeType){var i=e.getAttribute("avalon-events")||"";switch(arguments.length){case 1:avalon._nativeUnBind(e,t,Se),e.removeAttribute("avalon-events");break;case 2:i=i.split(",").filter(function(e){return-1===e.indexOf(t+":")}).join(","),xe(e,i);break;default:var r=t+":"+n.uuid;i=i.split(",").filter(function(e){return e!==r}).join(","),xe(e,i),delete avalon.eventListeners[n.uuid]}}else avalon._nativeUnBind(e,t,n)};var Ir={},Or=/^e/,Lr={focus:!0,blur:!0},Rr={webkitMovementY:1,webkitMovementX:1,keyLocation:1,fixEvent:function(){},preventDefault:function(){var e=this.originalEvent||{};e.returnValue=this.returnValue=!1,ti&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent||{};e.cancelBubble=this.cancelBubble=!0,ti&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.stopPropagation(),this.stopImmediate=!0},toString:function(){return"[object Event]"}};if(Ee.prototype=Rr,"onmouseenter"in Qn||avalon.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){bi[e]={type:t,fix:function(t,n){return function(i){var r=i.relatedTarget;if(!r||r!==t&&!(16&t.compareDocumentPosition(r)))return delete i.type,i.type=e,n.apply(this,arguments)}}}}),avalon.each({AnimationEvent:"animationend",WebKitAnimationEvent:"webkitAnimationEnd"},function(e,t){ri[e]&&!bi.animationend&&(bi.animationend={type:t})}),!("onmousewheel"in Kn)){var jr=void 0!==Kn.onwheel?"wheel":"DOMMouseScroll",Br="wheel"===jr?"deltaY":"detail";bi.mousewheel={type:jr,fix:function(e,t){return function(n){var i=n[Br]>0?-120:120;return n.wheelDelta=~~e._ms_wheel_+i,e._ms_wheel_=n.wheelDeltaY=n.wheelDelta,n.wheelDeltaX=0,Object.defineProperty&&Object.defineProperty(n,"type",{value:"mousewheel"}),t.apply(this,arguments)}}}}ti||(delete Dr.change,delete Dr.select),avalon._nativeBind=ti?function(e,t,n,i){e.addEventListener(t,n,!!i)}:function(e,t,n){e.attachEvent("on"+t,n)},avalon._nativeUnBind=ti?function(e,t,n,i){e.removeEventListener(t,n,!!i)}:function(e,t,n){e.detachEvent("on"+t,n)},avalon.fireDom=function(e,t,n){if(Kn.createEvent){var i=Kn.createEvent("Events");i.initEvent(t,!0,!0,n),avalon.shadowCopy(i,n),e.dispatchEvent(i)}else if(Qn.contains(e)){i=Kn.createEventObject(),n&&avalon.shadowCopy(i,n);try{e.fireEvent("on"+t,i)}catch(e){avalon.log("fireDom",t,"args error")}}};var Mr=/^(?:mouse|contextmenu|drag)|click/;Ee.prototype.fixEvent=function(){var e=this;if(null==e.which&&0===e.type.indexOf("key")&&(e.which=null!=e.charCode?e.charCode:e.keyCode),Mr.test(e.type)&&!("pageX"in e)){var t=e.target.ownerDocument||Kn,n="BackCompat"===t.compatMode?t.body:t.documentElement;e.pageX=e.clientX+(n.scrollLeft>>0)-(n.clientLeft>>0),e.pageY=e.clientY+(n.scrollTop>>0)-(n.clientTop>>0),e.wheelDeltaY=~~e.wheelDelta,e.wheelDeltaX=0}},"oninput"in Kn.createElement("input")||(bi.input={type:"propertychange",fix:function(e,t){return function(e){if("value"===e.propertyName)return e.type="input",t.apply(this,arguments)}}});var Hr=[];avalon.ready=function(e){Hr.push(e),avalon.isReady&&Ce()},avalon.ready(function(){avalon.scan&&avalon.scan(Kn.body)}),Jn&&function(){function e(){try{Qn.doScroll("left"),Ce()}catch(t){setTimeout(e)}}if("complete"===Kn.readyState)setTimeout(Ce);else if(Kn.addEventListener)Kn.addEventListener("DOMContentLoaded",Ce,!1);else if(Kn.attachEvent){Kn.attachEvent("onreadystatechange",function(){"complete"===Kn.readyState&&Ce()});try{var t=null===ri.frameElement}catch(e){}Qn.doScroll&&t&&ri.external&&e()}avalon.bind(ri,"load",Ce)}();var Ur={script:1,style:1,textarea:1,xmp:1,noscript:1,template:1},zr=/<\w+(\s+("[^"]*"|'[^']*'|[^>])+)?>|<\/\w+>/gi,$r=/input|textarea|select/i;Ne.prototype={constructor:Ne,toDOM:function(){if(this.dom)return this.dom;var e=avalon._decode(this.nodeValue);return this.dom=Kn.createTextNode(e)},toHTML:function(){return this.nodeValue}},Ie.prototype={constructor:Ie,toDOM:function(){return this.dom?this.dom:this.dom=Kn.createComment(this.nodeValue)},toHTML:function(){return"\x3c!--"+this.nodeValue+"--\x3e"}},Oe.prototype={constructor:Oe,toDOM:function(){if(this.dom)return this.dom;var e,t=this.nodeName;e=avalon.modern&&Xr[t]?je(t):avalon.modern||!Yr[t]&&!Wr.test(t)?Kn.createElement(t):Be(t);var n=this.props||{};for(var i in n){var r=n[i];Re(r)&&(Vr[i]&&avalon.msie<8?Vr[i](e,r):e.setAttribute(i,r+""))}var o=this.children||[],s=o[0]?o[0].nodeValue:"";switch(this.nodeName){case"script":e.type="noexec",e.text=s;try{e.innerHTML=s}catch(e){}e.type=n.type||"";break;case"noscript":e.textContent=s;case"style":case"xmp":case"template":try{e.innerHTML=s}catch(t){Le(e,this.nodeName,s)}break;case"option":ei<9&&(e.text=s);default:!this.isVoidTag&&this.children&&this.children.forEach(function(t){return o&&e.appendChild(avalon.vdom(o,"toDOM"))})}return this.dom=e},toHTML:function(){var e=[],t=this.props||{};for(var n in t){Re(t[n])&&e.push(n+"="+avalon.quote(t[n]+""))}e=e.length?" "+e.join(" "):"";var i="<"+this.nodeName+e;return this.isVoidTag?i+"/>":(i+=">",this.children&&(i+=this.children.map(function(e){return e?avalon.vdom(e,"toHTML"):""}).join("")),i+"</"+this.nodeName+">")}};var Vr={class:function(e,t){e.className=t},style:function(e,t){e.style.cssText=t},type:function(e,t){try{e.type=t}catch(e){}},for:function(e,t){e.setAttribute("for",t),e.htmlFor=t}},Xr=avalon.oneObject("circle,defs,ellipse,image,line,path,polygon,polyline,rect,symbol,text,use,g,svg"),Wr=/^\w+\:\w+/,Yr=avalon.oneObject("shape,line,polyline,rect,roundrect,oval,arc,curve,background,image,shapetype,group,fill,stroke,shadow, extrusion, textbox, imagedata, textpath");Me.prototype={constructor:Me,toDOM:function(){if(this.dom)return this.dom;var e=this.toFragment();return this.split=e.lastChild,this.dom=e},dispose:function(){this.toFragment(),this.innerRender&&this.innerRender.dispose();for(var e in this)this[e]=null},toFragment:function(){var e=q();return this.children.forEach(function(t){return e.appendChild(avalon.vdom(t,"toDOM"))}),e},toHTML:function(){return this.children.map(function(e){return avalon.vdom(e,"toHTML")}).join("")}},avalon.mix(avalon,{VText:Ne,VComment:Ie,VElement:Oe,VFragment:Me});var Gr={"#text":"VText","#document-fragment":"VFragment","#comment":"VComment"};avalon.vdomAdaptor=avalon.vdom=function(e,t){if(!e)return"toHTML"===t?"":q();var n=e.nodeName;return n?avalon[Gr[n]||"VElement"].prototype[t].call(e):new avalon.VFragment(e)[t]()};avalon.domize=function(e){return avalon.vdom(e,"toDOM")},avalon.pendingActions=[],avalon.uniqActions={},avalon.inTransaction=0,_.trackDeps=!1,avalon.track=function(){_.trackDeps&&avalon.log.apply(avalon,arguments)};var Jr=[];avalon.transaction=Xe;var Kr=0,Qr={map:{}},Zr=/\?\?\d+/g,eo=avalon.oneObject("break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments"),to=avalon.mix({Math:1,Date:1,$event:1,window:1,__vmodel__:1,avalon:1},eo),no=/(^|[^\w\u00c0-\uFFFF_])(@|##)(?=[$\w])/g,io=/\s*(\.|\|)\s*/g,ro=/\|\|/g,oo=/\(([^)]*)\)/,so=/\|(?=\?\?)/,ao=/(^|[^\/])\/(?!\/)(\[.+?]|\\.|[^\/\\\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})]))/g,lo=/\.[\w\.\$]+/g,uo=/(\{|\,)\s*([\$\w]+)\s*:/g,co=/\|(\w+)/g,po=/[$a-zA-Z_][$a-zA-Z0-9_]*/g,ho=new e(300),fo=/^__vmodel__\.[$\w\.]+$/,mo=/__vmodel__\.([^(]+)\(([^)]*)\)/,go=1;rt.prototype={getValue:function(){var e=this.vm;try{return this.getter.call(e,e)}catch(e){avalon.log(this.getter+" exec error")}},setValue:function(e){var t=this.vm;this.setter&&this.setter.call(t,t,e)},get:function(e){this.type;this.deep&&(avalon.deepCollect=!0);var t=$e(this,this.getValue);return this.deep&&avalon.deepCollect&&(avalon.deepCollect=!1),t},beforeUpdate:function(){return this.oldValue=ot(this.value)},update:function(e,t){var n=this.beforeUpdate(),i=this.value=this.get(),r=this.callback;r&&this.diff(i,n,e)&&r.call(this.vm,this.value,n,this.expr),this._isScheduled=!1},schedule:function(){this._isScheduled||(this._isScheduled=!0,avalon.uniqActions[this.uuid]||(avalon.uniqActions[this.uuid]=1,avalon.pendingActions.push(this)),He())},removeDepends:function(){var e=this;this.observers.forEach(function(t){avalon.Array.remove(t.observers,e)})},diff:function(e,t){return e!==t},dispose:function(){this.value=null,this.removeDepends(),this.beforeDispose&&this.beforeDispose();for(var e in this)delete this[e]}};var vo={vm:1,callback:1,observers:1,oldValue:1,value:1,getValue:1,setValue:1,get:1,removeDepends:1,beforeUpdate:1,update:1,dispose:1},yo=1;st.prototype={get:function(){if(avalon.trackingAction){this.collect();var e=this.value;if(e&&e.$events)if(Array.isArray(e))e.forEach(function(e){e&&e.$events&&e.$events.__dep__.collect()});else if(avalon.deepCollect)for(var t in e)if(e.hasOwnProperty(t)){e[t]}}return this.value},collect:function(){avalon.track(name,"被收集"),ze(this)},updateVersion:function(){this.version=Math.random()+Math.random()},notify:function(){We(),Ue(this),Ye()},set:function(e){var t=this.value;if(e!==t){if(avalon.isObject(e)){var n=t&&t.$hashcode,i=ai.createProxy(e,this);i&&(n&&(i.$hashcode=n),e=i)}this.value=e,this.updateVersion(),this.notify()}}};var bo=/(\?|if\b|\(.+\))/,qo=function(e){function t(t,n,i){e.call(this,t,void 0,i),delete n.get,delete n.set,avalon.mix(this,n),this.deps={},this.type="computed",this.depsVersion={},this.isComputed=!0,this.trackAndCompute(),"isStable"in this||(this.isStable=!bo.test(at(this.getter)))}ut(t,e);var n=t.prototype;return n.trackAndCompute=function(){this.isStable&&this.depsCount>0?this.getValue():$e(this,this.getValue.bind(this))},n.getValue=function(){return this.value=this.getter.call(this.vm)},n.schedule=function(){for(var e=this.observers,t=e.length;t--;){var n=e[t];n.schedule&&n.schedule()}},n.shouldCompute=function(){if(this.isStable){var e=!1;for(var t in this.deps)this.deps[t].version!==this.depsVersion[t]&&(e=!0,this.depsVersion[t]=this.deps[t].version);return e}return!0},n.set=function(){this.setter&&avalon.transaction(this.setter,this.vm,arguments)},n.get=function(){return this.collect(),this.shouldCompute()&&(this.trackAndCompute(),this.updateVersion()),this.value},t}(st);avalon.define=function(e){var t=e.$id;t||avalon.error("vm.$id must be specified"),avalon.vmodels[t]&&avalon.warn("error:["+t+"] had defined!");var n=ai.modelFactory(e);return avalon.vmodels[t]=n},ai.modelFactory=function(e,t){var n=e.$computed||{};delete e.$computed;var i=new ct(e,t),r=i.$accessors,o=[];ai.hideProperty(i,"$mutations",{});for(var s in e)if(!(s in Yi)){var a=e[s];o.push(s),dt(s,a)&&(r[s]=ht(s,a))}for(var l in n)if(!(l in Yi)){var a=n[l];"function"==typeof a&&(a={get:a}),a&&a.get&&(a.getter=a.get,a.setter=a.set,avalon.Array.ensure(o,l),r[l]=ht(l,a,!0))}var u=ai.createViewModel(i,r,i);return ai.afterCreate(u,i,o,!t),u};var _o={};ai.createProxy=pt,ai.itemFactory=function(e,t){var n=e.$model,i=new ct(n),r=avalon.shadowCopy(i.$accessors,e.$accessors),o=t.data;for(var s in o){var a=n[s]=i[s]=o[s];r[s]=ht(s,a)}var l=Object.keys(n),u=ai.createViewModel(i,r,i);return ai.afterCreate(u,i,l),u},ai.fuseFactory=function(e,t){var n=avalon.mix(e.$model,t.$model),i=new ct(avalon.mix(n,{$id:e.$id+t.$id})),r=avalon.mix(i.$accessors,e.$accessors,t.$accessors),o=Object.keys(n),s=ai.createViewModel(i,r,i);return ai.afterCreate(s,i,o,!1),s};var xo={get:function(){return ft(this)},set:avalon.noop,enumerable:!1,configurable:!0};ai.toJson=ft,ai.modelAccessor=xo;var wo=di.splice,So={set:function(e,t){if(e>>>0===e&&this[e]!==t){if(e>this.length)throw Error(e+"set方法的第一个参数不能大于原数组长度");this.splice(e,1,t)}},toJSON:function(){return this.$model=ai.toJson(this)},contains:function(e){return-1!==this.indexOf(e)},ensure:function(e){return!this.contains(e)&&(this.push(e),!0)},pushArray:function(e){return this.push.apply(this,e)},remove:function(e){return this.removeAt(this.indexOf(e))},removeAt:function(e){return e>>>0===e?this.splice(e,1):[]},clear:function(){return this.removeAll(),this},removeAll:function(e){var t=(this.length,Array.isArray(e)?function(t){return-1!==e.indexOf(t)}:"function"==typeof e&&e);if(t)for(var n=this.length-1;n>=0;n--)t(this[n],n)&&wo.call(this,n,1);else wo.call(this,0,this.length);this.toJSON(),this.$events.__dep__.notify()}};["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(e){var t=di[e];So[e]=function(){var n=this.$events,i=ai.listFactory(arguments,!0,n.__dep__),r=t.apply(this,i);return this.toJSON(),n.__dep__.notify(e),r}}),ai.listFactory=gt;var To=!0;try{Object.defineProperty({},"_",{value:"x"}),delete Yi.$vbsetter,delete Yi.$vbthis}catch(e){To=!1}var Eo={$vbthis:1,$vbsetter:1};ai.hideProperty=vt,ai.fireFactory=bt,ai.watchFactory=yt,ai.afterCreate=_t;var Co,ko=Object.defineProperties,Ao=new Date-0;if(!To&&("__defineGetter__"in avalon&&(Co=function(e,t,n){return"value"in n&&(e[t]=n.value),"get"in n&&e.__defineGetter__(t,n.get),"set"in n&&e.__defineSetter__(t,n.set),e},ko=function(e,t){for(var n in t)t.hasOwnProperty(n)&&Co(e,n,t[n]);return e}),ei<9)){var Fo={};window.execScript(["Function parseVB(code)","\tExecuteGlobal(code)","End Function"].join("\n"),"VBScript");var Po=function(e,t,n,i){var r=t[n];if(4!==arguments.length)return r.get.call(e);r.set.call(e,i)};ko=function(e,t,n){var i=[];i.push("\tPrivate [$vbsetter]","\tPublic  [$accessors]","\tPublic Default Function [$vbthis](ac"+Ao+", s"+Ao+")","\t\tSet  [$accessors] = ac"+Ao+": set [$vbsetter] = s"+Ao,"\t\tSet  [$vbthis]    = Me","\tEnd Function");var r={$vbthis:!0,$vbsetter:!0,$accessors:!0};for(e in Yi)r[e]||(i.push("\tPublic ["+e+"]"),r[e]=!0);for(e in t)r[e]||(r[e]=!0,i.push("\tPublic Property Let ["+e+"](val"+Ao+")",'\t\tCall [$vbsetter](Me, [$accessors], "'+e+'", val'+Ao+")","\tEnd Property","\tPublic Property Set ["+e+"](val"+Ao+")",'\t\tCall [$vbsetter](Me, [$accessors], "'+e+'", val'+Ao+")","\tEnd Property","\tPublic Property Get ["+e+"]","\tOn Error Resume Next","\t\tSet["+e+'] = [$vbsetter](Me, [$accessors],"'+e+'")',"\tIf Err.Number <> 0 Then","\t\t["+e+'] = [$vbsetter](Me, [$accessors],"'+e+'")',"\tEnd If","\tOn Error Goto 0","\tEnd Property"));for(e in n)r[e]||(r[e]=!0,i.push("\tPublic ["+e+"]"));i.push("\tPublic [hasOwnProperty]"),i.push("End Class");var o=i.join("\r\n"),s=Fo[o];return s||(s=avalon.makeHashCode("VBClass"),window.parseVB("Class "+s+o),window.parseVB(["Function "+s+"Factory(acc, vbm)","\tDim o","\tSet o = (New "+s+")(acc, vbm)","\tSet "+s+"Factory = o","End Function"].join("\r\n")),Fo[o]=s),window[s+"Factory"](t,Po)}}ai.createViewModel=ko;var Do=avalon.directive("important",{priority:1,getScope:function(e,t){var n=avalon.vmodels[e];if(n)return n;throw"error! no vmodel called "+e},update:function(e,t,n){if(avalon.inBrowser){var i=avalon.vdom(e,"toDOM");1===i.nodeType&&(i.removeAttribute(t),avalon(i).removeClass("ms-controller"));var r=avalon.vmodels[n];r&&(r.$element=i,r.$render=this,r.$fire("onReady"),delete r.$events.onReady)}}}),No=Do.update;avalon.directive("controller",{priority:2,getScope:function(e,t){var n=avalon.vmodels[e];return n?(n.$render=this,t&&t!==n?ai.fuseFactory(t,n):n):t},update:No}),avalon.directive("skip",{delay:!0});var Io={},Oo=avalon.directive("css",{diff:function(e,t){if(Object(e)===e){if(e=ai.toJson(e),Array.isArray(e)){var n={};e.forEach(function(e){e&&avalon.shadowCopy(n,e)}),e=n,Io[this.type]||(avalon.warn("ms-"+this.type+"指令的值不建议使用数组形式了！"),Io[this.type]=1)}var i=!1,r={};if(t){if(this.deep){"number"==typeof this.deep&&this.deep;for(var o in e){if(!wt(e[o],t[o],4))return this.value=e,!0;r[o]=e[o]}}else for(var s in e)e[s]!==t[s]&&(i=!0),r[s]=e[s];for(var a in t)a in r||(i=!0,r[a]="")}else r=e,i=!0;if(i)return this.value=r,!0}return!1},update:function(e,t){var n=e.dom;if(n&&1===n.nodeType){var i=avalon(n);for(var r in t)i.css(r,t[r])}}}),Lo=Oo.diff,Ro={TransitionEvent:"transitionend",WebKitTransitionEvent:"webkitTransitionEnd",OTransitionEvent:"oTransitionEnd",otransitionEvent:"otransitionEnd"},jo=void 0,Bo=void 0,Mo=void 0,Ho=void 0,Uo=void 0,zo=void 0;for(Ho in Ro){if(ri[Ho]){Bo=Ro[Ho];break}try{document.createEvent(Ho);Bo=Ro[Ho];break}catch(e){}}"string"==typeof Bo&&(jo=!0,zo=Bo),Ro={AnimationEvent:"animationend",WebKitAnimationEvent:"webkitAnimationEnd"};for(Ho in Ro)if(ri[Ho]){Mo=Ro[Ho];break}"string"==typeof Mo&&(jo=!0,Uo=Mo);var $o=avalon.directive("effect",{priority:5,diff:function(e){var t=this.node;"string"==typeof e&&(this.value=e={is:e},avalon.warn("ms-effect的指令值不再支持字符串,必须是一个对象")),this.value=t.effect=e;var n=this;return!!Lo.call(this,e,this.oldValue)&&(setTimeout(function(){t.animating=!0,$o.update.call(n,t,t.effect)}),t.animating=!1,!0)},update:function(e,t,n){var i=e.dom;if(i&&1===i.nodeType){var r=t||n,o=r.is,s=avalon.effects[o];if(!s)return void avalon.warn(o+" effect is undefined");var a={},l=Vo[r.action];if("function"!=typeof Wo.prototype[l])return void avalon.warn("action is undefined");var u=new avalon.Effect(i);return avalon.mix(a,s,r,{action:l}),a.queue?(Xo.push(function(){u[l](a)}),Et()):u[l](a),!0}}}),Vo={true:"enter",false:"leave",enter:"enter",leave:"leave",move:"move",undefined:"enter"},Xo=[];avalon.effects={},avalon.effect=function(e,t){var n=avalon.effects[e]=t||{};return jo&&!1!==n.css&&(Ct(n,"enterClass",e+"-enter"),Ct(n,"enterActiveClass",n.enterClass+"-active"),Ct(n,"leaveClass",e+"-leave"),Ct(n,"leaveActiveClass",n.leaveClass+"-active")),n};var Wo=function(e){this.dom=e};avalon.Effect=Wo,Wo.prototype={enter:At("Enter"),leave:At("Leave"),move:At("Move")};var Yo=new e(128);avalon.applyEffect=function(e,t,n){var i=n.cb,r=t.effect;if(r&&e&&1===e.nodeType){var o=n.hook,s=r[o];i&&(Array.isArray(s)?s.push(i):r[o]=s?[s,i]:[i]),Ft(n),avalon.directives.effect.update(t,r,avalon.shadowCopy({},n))}else i&&i(e)};var Go=avalon.cssName("transition-duration"),Jo=avalon.cssName("animation-duration"),Ko=/\d+s$/,Qo="none";avalon.parseDisplay=It,avalon.directive("visible",{diff:function(e,t){var n=!!e;if(void 0===t||n!==t)return this.value=n,!0},ready:!0,update:function(e,t){var n=e.dom;if(n&&1===n.nodeType){var i,r=n.style.display;t?(r===Qo&&((i=e.displayValue)||(n.style.display="",""===n.style.cssText&&n.removeAttribute("style"))),""===n.style.display&&avalon(n).css("display")===Qo&&avalon.contains(n.ownerDocument,n)&&(i=It(n))):r!==Qo&&(i=Qo,e.displayValue=r);var o=function(){void 0!==i&&(n.style.display=i)};avalon.applyEffect(n,e,{hook:t?"onEnterDone":"onLeaveDone",cb:o})}}}),avalon.directive("text",{delay:!0,init:function(){var e=this.node;e.isVoidTag&&avalon.error("自闭合元素不能使用ms-text");var t={nodeName:"#text",nodeValue:this.getValue()};e.children.splice(0,e.children.length,t),Jn&&(avalon.clearHTML(e.dom),e.dom.appendChild(avalon.vdom(t,"toDOM"))),this.node=t;this.type=this.name="expr";var n=avalon.directives.expr,i=this;this.callback=function(e){n.update.call(i,i.node,e)}}}),avalon.directive("expr",{update:function(e,t){t=null==t||""===t?"​":t,e.nodeValue=t,e.dom&&(e.dom.data=t)}}),avalon.directive("attr",{diff:Lo,update:function(e,t){var n=e.props;for(var i in t)!1==!!t[i]?delete n[i]:n[i]=t[i];var r=e.dom;r&&1===r.nodeType&&re(r,t)}}),avalon.directive("html",{update:function(e,t){this.beforeDispose(),this.innerRender=avalon.scan('<div class="ms-html-container">'+t+"</div>",this.vm,function(){var t=this.root;e.children&&(e.children.length=0),e.children=t.children,this.root=e,e.dom&&avalon.clearHTML(e.dom)})},beforeDispose:function(){this.innerRender&&this.innerRender.dispose()},delay:!0}),avalon.directive("if",{delay:!0,priority:5,init:function(){this.placeholder=x("if");var e=this.node.props;delete e["ms-if"],delete e[":if"],this.fragment=avalon.vdom(this.node,"toHTML")},diff:function(e,t){var n=!!e;if(void 0===t||n!==t)return this.value=n,!0},update:function(e,t){if(void 0===this.isShow&&t)return void Ot(this,e);this.isShow=t;var n=this.placeholder;if(t){var i=n.parentNode;Ot(this,e),i&&i.replaceChild(e.dom,n)}else{this.beforeDispose(),e.nodeValue="if",e.nodeName="#comment",delete e.children;var r=e.dom,i=r&&r.parentNode;e.dom=n,i&&i.replaceChild(n,r)}},beforeDispose:function(){this.innerRender&&this.innerRender.dispose()}}),avalon.directive("on",{beforeInit:function(){this.getter=avalon.noop},init:function(){var e=this.node,t=this.name.replace("ms-on-","e").replace("-","_"),n=t+"_"+this.expr.replace(/\s/g,"").replace(/[^$a-z]/gi,function(e){return e.charCodeAt(0)}),i=avalon.eventListeners[n];if(!i){var r=et(this.expr),o=r[0],s=r[1];o=tt(o),s&&(s=s.replace(/__value__/g,"$event"),s+="\nif($event.$return){\n\treturn;\n}");var a=["try{","\tvar __vmodel__ = this;","\t"+s,"\treturn "+o,'}catch(e){avalon.log(e, "in on dir")}'].filter(function(e){return/\S/.test(e)});i=new Function("$event",a.join("\n")),i.uuid=n,avalon.eventListeners[n]=i}var l=avalon.vdom(e,"toDOM");l._ms_context_=this.vm,this.eventType=this.param.replace(/\-(\d)$/,""),delete this.param,avalon(l).bind(this.eventType,i)},beforeDispose:function(){avalon(this.node.dom).unbind(this.eventType)}});var Zo={input:function(e){var t=this;e=e||"value";var n=t.dom,i=n[e],r=t.parseValue(i);t.value=i,t.setValue(r),Mt(t);var o=t.pos;n.caret&&t.setCaret(n,o)},radio:function(){var e=this;if(e.isChecked){var t=!e.value;e.setValue(t),Mt(e)}else Zo.input.call(e),e.value=NaN},checkbox:function(){var e=this,t=e.value;Array.isArray(t)||(avalon.warn("ms-duplex应用于checkbox上要对应一个数组"),t=[t]);var n=e.dom.checked?"ensure":"remove";if(t[n]){var i=e.parseValue(e.dom.value);t[n](i),Mt(e)}this.__test__=t},select:function(){var e=this,t=avalon(e.dom).val();t+""!=this.value+""&&(t=Array.isArray(t)?t.map(function(t){return e.parseValue(t)}):e.parseValue(t),e.setValue(t),Mt(e))},contenteditable:function(){Zo.input.call(this,"innerHTML")}},es=/\|\s*change\b/,ts=/\|\s*debounce(?:\(([^)]+)\))?/,ns=!0;try{var is={},rs=HTMLInputElement.prototype,os=HTMLTextAreaElement.prototype,ss=function(e){is[this.tagName].call(this,e);var t=this._ms_duplex_;!this.caret&&t&&t.isString&&t.duplexCb.call(this,{type:"setter"})},as=HTMLInputElement.prototype;Object.getOwnPropertyNames(as),is.INPUT=Object.getOwnPropertyDescriptor(rs,"value").set,Object.defineProperty(rs,"value",{set:ss}),is.TEXTAREA=Object.getOwnPropertyDescriptor(os,"value").set,Object.defineProperty(os,"value",{set:ss}),ns=!1}catch(e){}var ls={input:function(){var e=this.node,t=this.value+"";e.dom.value=e.props.value=t},updateChecked:function(e,t){e.dom&&(e.dom.defaultChecked=e.dom.checked=t)},radio:function(){var e,t=this.node,n=t.props.value;e=this.isChecked?!!this.value:this.value+""===n,t.props.checked=e,ls.updateChecked(t,e)},checkbox:function(){var e=this.node,t=e.props,n=t.value+"",i=[].concat(this.value),r=i.some(function(e){return e+""===n});t.defaultChecked=t.checked=r,ls.updateChecked(e,r)},select:function(){var e=Array.isArray(this.value)?this.value.map(String):this.value+"";Lt(this.node,e)},contenteditable:function(){for(var e,t=de(this.value),n=q(),i=0;e=t[i++];){var r=avalon.vdom(e,"toDOM");n.appendChild(r)}avalon.clearHTML(this.dom).appendChild(n);var o=this.node.children;o.length=0,Array.prototype.push.apply(o,t),this.duplexCb.call(this.dom)}},us=/\s+as\s+([$\w]+)/,cs=/^[$a-zA-Z_][$a-zA-Z0-9_]*$/,ds=/^(null|undefined|NaN|window|this|\$index|\$id)$/,ps=/[$\w_]+/g;avalon.directive("for",{delay:!0,priority:3,beforeInit:function(){var e,t=this.expr;t=t.replace(us,function(t,n){return!cs.test(n)||ds.test(n)?avalon.error("alias "+n+" is invalid --- must be a valid JS identifier which is not a reserved name."):e=n,""});var n=t.split(" in "),i=n[0].match(ps);1===i.length&&i.unshift("$key"),this.expr=n[1],this.keyName=i[0],this.valName=i[1],this.signature=avalon.makeHashCode("for"),e&&(this.asName=e),delete this.param},init:function(){var e=this.userCb;if("string"==typeof e&&e){var t=et(e,"for"),n=tt(t[0]);this.userCb=new Function("$event","var __vmodel__ = this\nreturn "+n)}this.node.forDir=this,this.fragment=["<div>",this.fragment,"\x3c!--",this.signature,"--\x3e</div>"].join(""),this.cache={}},diff:function(e,t){if(!this.updating){this.updating=!0;var n=Yt(this,e);return void 0===this.oldTrackIds||(this.oldTrackIds!==n?(this.oldTrackIds=n,!0):void 0)}},update:function(){if(this.preFragments?(Jt(this),Qt(this)):(this.fragments=this.fragments||[],Gt(this)),this.userCb){var e=this;setTimeout(function(){e.userCb.call(e.vm,{type:"rendered",target:e.begin.dom,signature:e.signature})},0)}delete this.updating},beforeDispose:function(){this.fragments.forEach(function(e){e.dispose()})}}),avalon.directive("class",{diff:function(e,t){var n=this.type,i=this.node,r=i.classEvent||{};"hover"===n?(r.mouseenter=on,r.mouseleave=sn):"active"===n&&(r.tabIndex=i.props.tabindex||-1,r.mousedown=on,r.mouseup=sn,r.mouseleave=sn),i.classEvent=r;var o=rn(e);if(void 0===typeof t||t!==o)return this.value=o,i["change-"+n]=o,!0},update:function(e,t){var n=e.dom;if(n&&1==n.nodeType){var i=this.type,r="change-"+i,o=e.classEvent;if(o){for(var s in o)"tabIndex"===s?n[s]=o[s]:avalon.bind(n,s,o[s]);e.classEvent={}}["class","hover","active"].forEach(function(e){if(i===e)if("class"===e)n&&an(n,t);else{var o=n.getAttribute(r);o&&avalon(n).removeClass(o);var s="change-"+e;n.setAttribute(s,t)}})}}}),ii.active=ii.hover=ii.class;var hs={mouseenter:"change-hover",mouseleave:"change-hover",mousedown:"change-active",mouseup:"change-active"};v(on),v(sn),y(dn),y(pn),y(hn),y(fn),y(Ht),y(un),y(cn),y(mn);var fs=function(e){setTimeout(e,0)};if(avalon.directive("duplex",{priority:9999999,beforeInit:Ut,init:zt,diff:$t,update:function(e,t){this.dom||Vt.call(this,e,ln),yn.call(this,avalon.msie,ns),ls[this.dtype].call(this)}}),avalon.__pollValue=yn,avalon.msie<8){var ms=ls.updateChecked;ls.updateChecked=function(e,t){var n=e.dom;n&&setTimeout(function(){ms(e,t),n.firstCheckedIt=1},n.firstCheckedIt?31:16)}}avalon.directive("rules",{diff:function(e){if(d(e)){return this.node.rules=ai.toJson(e),!0}}});var gs=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/i,vs=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/;avalon.shadowCopy(avalon.validators,{pattern:{message:"必须匹配{{pattern}}这样的格式",get:function(e,t,n){var i=t.dom,r=t.data;if(!bn(r.pattern)){var o=i.getAttribute("pattern");r.pattern=new RegExp("^(?:"+o+")$")}return n(r.pattern.test(e)),e}},digits:{message:"必须整数",get:function(e,t,n){return n(/^\-?\d+$/.test(e)),e}},number:{message:"必须数字",get:function(e,t,n){return n(!!e&&isFinite(e)),e}},norequired:{message:"",get:function(e,t,n){return n(!0),e}},required:{message:"必须填写",get:function(e,t,n){return n(""!==e),e}},equalto:{message:"密码输入不一致",get:function(e,t,n){var i=String(t.data.equalto);return n(e===(avalon(document.getElementById(i)).val()||"")),e}},date:{message:"日期格式不正确",get:function(e,t,n){var i=t.data;return n(bn(i.date)?i.date.test(e):qn(e)),e}},url:{message:"URL格式不正确",get:function(e,t,n){return n(vs.test(e)),e}},email:{message:"email格式不正确",get:function(e,t,n){return n(gs.test(e)),e}},minlength:{message:"最少输入{{minlength}}个字",get:function(e,t,n){var i=parseInt(t.data.minlength,10);return n(e.length>=i),e}},maxlength:{message:"最多输入{{maxlength}}个字",get:function(e,t,n){var i=parseInt(t.data.maxlength,10);return n(e.length<=i),e}},min:{message:"输入值不能小于{{min}}",get:function(e,t,n){var i=parseInt(t.data.min,10);return n(parseFloat(e)>=i),e}},max:{message:"输入值不能大于{{max}}",get:function(e,t,n){var i=parseInt(t.data.max,10);return n(parseFloat(e)<=i),e}},chs:{message:"必须是中文字符",get:function(e,t,n){return n(/^[\u4e00-\u9fa5]+$/.test(e)),e}}});var ys=avalon.directive("validate",{diff:function(e){var t=this.node;if(!t.validator&&d(e)){t.validator=e,e=ai.toJson(e),e.vdom=t,e.dom=t.dom;for(var n in ys.defaults)e.hasOwnProperty(n)||(e[n]=ys.defaults[n]);return e.fields=e.fields||[],t.vmValidator=e,!0}},update:function(e){function t(){var e=this;e&&ys.validateAll.call(e,e.onValidateAll)}var n=e.vmValidator,i=e.validator,r=e.dom;r._ms_validate_=n,wn(e.children,n.fields,n);var o=window.netscape?"keypress":"focusin";avalon.bind(document,o,Sn);try{var s=n.onManual=t.bind(n);i.onManual=s}catch(e){avalon.warn("要想使用onManual方法，必须在validate对象预定义一个空的onManual函数")}delete e.vmValidator,r.setAttribute("novalidate","novalidate"),n.validateAllInSubmit&&avalon.bind(r,"submit",xn)},validateAll:function(e){var t=this,n=this.vdom,i=t.fields=[];wn(n.children,i,t);var r="function"==typeof e?e:t.onValidateAll,o=t.fields.filter(function(e){var n=e.dom;return n&&!n.disabled&&t.dom.contains(n)}).map(function(e){return ys.validate(e,!0)}),s={};return Promise.all(o).then(function(e){var i=e.concat.apply([],e);t.deduplicateInValidateAll&&(i=i.filter(function(e){var t=e.element,n=t.uniqueID||(t.uniqueID=setTimeout("1"));return!s[n]&&(s[n]=!0)})),r.call(n.dom,i)})},validate:function(e,t,n){var i=[],r=e.value,o=e.dom;if("function"!=typeof Promise&&avalon.warn("浏览器不支持原生Promise,请下载并<script src=url>引入\nhttps://github.com/RubyLouvre/avalon/blob/master/test/promise.js"),!o.disabled){var s=e.vdom.rules,a=[],l=!0;if(!s.norequired||""!==r)for(var u in s){var c=s[u];if(!1!==c){var d,p=avalon.validators[u];i.push(new Promise(function(e,t){d=e}));var h=function(t){var n={element:o,data:e.data,message:o.getAttribute("data-"+u+"-message")||o.getAttribute("data-message")||p.message,validateRule:u,getMessage:Cn};t?d(!0):(l=!1,a.push(n),d(!1))};e.data={},e.data[u]=c,p.get(r,e,h)}}return Promise.all(i).then(function(i){if(!t){var r=e.validator;l?r.onSuccess.call(o,[{data:e.data,element:o}],n):r.onError.call(o,a,n),r.onComplete.call(o,a,n)}return a})}}}),bs=/\\?{{([^{}]+)\}}/gm;ys.defaults={validate:ys.validate,onError:avalon.noop,onSuccess:avalon.noop,onComplete:avalon.noop,onManual:avalon.noop,onReset:avalon.noop,onValidateAll:avalon.noop,validateInBlur:!0,validateInKeyup:!0,validateAllInSubmit:!0,resetInFocus:!0,deduplicateInValidateAll:!1};var qs=avalon.oneObject("animationend,blur,change,input,click,dblclick,focus,keydown,keypress,keyup,mousedown,mouseenter,mouseleave,mousemove,mouseout,mouseover,mouseup,scan,scroll,submit","on"),_s=/[+-\?]/,xs=/__value__\)$/,ws={"#text":1,"#comment":1,script:1,style:1,noscript:1};avalon.scan=function(e,t,n){return new Rn(e,t,n||avalon.noop)},Rn.prototype={init:function(){var e;if(this.root&&this.root.nodeType>0)e=Fe(this.root),In(this.root);else{if("string"!=typeof this.root)return avalon.warn("avalon.scan first argument must element or HTML string");e=de(this.root)}this.root=e[0],this.vnodes=e,this.scanChildren(e,this.vm,!0)},scanChildren:function(e,t,n){for(var i=0;i<e.length;i++){var r=e[i];switch(r.nodeName){case"#text":t&&this.scanText(r,t);break;case"#comment":t&&this.scanComment(r,t,e);break;case"#document-fragment":this.scanChildren(r.children,t,!1);break;default:this.scanTag(r,t,e,!1)}}n&&this.complete()},scanText:function(e,t){_.rexpr.test(e.nodeValue)&&this.bindings.push([e,t,{nodeValue:e.nodeValue}])},scanComment:function(e,t,n){Ln(e.nodeValue,"ms-for:")&&this.getForBinding(e,t,n)},scanTag:function(e,t,n,r){var o,s,a={},l=e.props;for(var u in l){var c=l[u],d=u;if(":"===u.charAt(0)&&(u="ms-"+u.slice(1)),Ln(u,"ms-")){a[u]=c;var p=u.match(/\w+/g)[1];p=qs[p]||p,ii[p]||avalon.warn(u+" has not registered!"),o=!0}"ms-for"===u&&(s=c,delete l[d])}var h=a["ms-important"]||a["ms-controller"];if(h){var f=avalon.serverTemplates,m=f&&f[h];if(m){avalon.log("前端再次渲染后端传过来的模板");var g=de(m)[0];for(var v in g)e[v]=g[v];return delete f[h],void this.scanTag(e,t,n,r)}var p=a["ms-important"]===h?"important":"controller",y="ms-"+p in l?"ms-"+p:":"+p;Jn&&delete l[y];var b=ii[p];if(!(t=b.getScope.call(this,h,t)))return;var q=l.class;q&&(l.class=(" "+q+" ").replace(" ms-controller ","").trim());var _=this;t.$render=_,this.callbacks.push(function(){b.update.call(_,e,y,h)})}if(s)return e.dom&&e.dom.removeAttribute(d),this.getForBindingByElement(e,t,n,s);/^ms\-/.test(e.nodeName)&&(l.is=e.nodeName),l.is&&(a["ms-widget"]||(a["ms-widget"]="{}"),o=!0),o&&this.bindings.push([e,t,a]);var x=e.children;!Ur[e.nodeName]&&x&&x.length&&!i(a)&&this.scanChildren(x,t,!1)},complete:function(){if(this.yieldDirectives(),this.beforeReady(),Jn){var e=this.root;if(Jn){Nn(avalon.vdom(e,"toDOM"),e.children)}}this.mount=!0;for(var t;t=this.callbacks.pop();)t();this.optimizeDirectives()},yieldDirectives:function(){for(var e;e=this.bindings.shift();){var t=e[0],n=e[1],i=e[2],r=[];"nodeValue"in i?r=Pn(i):"ms-skip"in i||(r=An(i,e));for(var o,s=0;o=r[s++];){var a=ii[o.type];if(Jn||!/on|duplex|active|hover/.test(o.type)){a.beforeInit&&a.beforeInit.call(o);var l=new kn(n,o,t,this);this.directives.push(l)}}}},optimizeDirectives:function(){for(var e,t=0;e=this.directives[t++];)e.callback=ii[e.type].update,e.update=jn,e._isScheduled=!1},update:function(){for(var e,t=0;e=this.directives[t++];)e.update()},dispose:function(){for(var e,t=this.directives||[],n=0;e=t[n++];)e.dispose();for(var i in this)"dispose"!==i&&delete this[i]},getForBinding:function(e,t,n,i){var r=e.nodeValue.replace("ms-for:","").trim();e.nodeValue="ms-for:"+r;var o=On(n,e),s=o.end,a=avalon.vdom(o,"toHTML");n.splice(o.start,o.length),e.props={},this.bindings.push([e,t,{"ms-for":r},{begin:e,end:s,expr:r,userCb:i,fragment:a,parentChildren:n}])},getForBindingByElement:function(e,t,n,i){var r=n.indexOf(e),o=e.props,s={nodeName:"#comment",nodeValue:"ms-for:"+i};o.slot&&(s.slot=o.slot,delete o.slot);var a={nodeName:"#comment",nodeValue:"ms-for-end:"};n.splice(r,1,s,e,a),this.getForBinding(s,t,n,o["data-for-rendered"])}};var Ss,Ts=avalon.oneObject("onInit,onReady,onViewChange,onDispose,onEnter,onLeave"),Es=[];return avalon.directive("widget",{delay:!0,priority:4,deep:!0,init:function(){var e=this.node;if(this.cacheVm=!!e.props.cached,e.dom&&"#comment"===e.nodeName)var t=e.dom;var n=this.getValue(),i=Bn(n),r=e.props.is||i.is;this.is=r;var o=avalon.components[r];if(!("fragment"in this))if(e.isVoidTag)this.fragment=!1;else{var s=e.children[0];s&&s.nodeValue?this.fragment=s.nodeValue:this.fragment=avalon.vdom(e.children,"toHTML")}if(!o)return this.readyState=0,e.nodeName="#comment",e.nodeValue="unresolved component placeholder",delete e.dom,void avalon.Array.ensure(Es,this);var a=i.id||i.$id,l=avalon.vmodels[a],u=!1;if(l)c=l,this.comVm=c,Mn(this,c.$render),u=!0;else{"function"==typeof o&&(o=new o(i));var c=Un(o,i,r);this.readyState=1,Hn(c,e,"Init"),this.comVm=c;var d=avalon.scan(o.template,c);c.$render=d,Mn(this,d);var p=[],h=[];if(this.fragment||o.soleSlot){var f=this.fragment?this.vm:c,m=this.fragment||"{{##"+o.soleSlot+"}}",g=avalon.scan("<div>"+m+"</div>",f,function(){p=this.root.children});h=g.directives,this.childBoss=g;for(var v in g)delete g[v]}Array.prototype.push.apply(d.directives,h);var y=[],b={};o.soleSlot?y=p:p.forEach(function(e,t){if(e.slot){var n=On(p,e);n.push(n.end),n.unshift(e),b[e.slot]=n}else if(e.props){var i=e.props.slot;i&&(delete e.props.slot,Array.isArray(b[i])?b[i].push(e):b[i]=[e])}}),o.soleSlot?Vn(d.vnodes,y):Xn(d.vnodes,b)}if(t){var q=avalon.vdom(e,"toDOM");t.parentNode.replaceChild(q,t),c.$element=d.root.dom=q,delete this.reInit}In(e.dom),c.$element=e.dom,Nn(e.dom,e.children),u?Hn(c,e,"Enter"):Hn(c,e,"Ready")},diff:function(e,t){if(Lo.call(this,e,t))return!0},update:function(e,t){switch(this.readyState){case 0:this.reInit&&(this.init(),this.readyState++);break;case 1:this.readyState++;break;default:this.readyState++;var n=this.comVm;avalon.viewChanging=!0,avalon.transaction(function(){for(var e in t)n.hasOwnProperty(e)&&(Array.isArray(t[e])?n[e]=t[e].concat():n[e]=t[e])}),Hn(n,e,"ViewChange"),delete avalon.viewChanging}this.value=avalon.mix(!0,{},t)},beforeDispose:function(){var e=this.comVm;this.cacheVm?Hn(e,this.node,"Leave"):(Hn(e,this.node,"Dispose"),e.$hashcode=!1,delete avalon.vmodels[e.$id],this.innerRender&&this.innerRender.dispose())}}),avalon.components={},avalon.component=function(e,t){return t.extend=Yn,Wn(e,t)},avalon})}).call(exports,t("./node_modules/webpack/buildin/global.js"))},"./node_modules/bootstrap-loader/lib/bootstrap.loader.js!./node_modules/bootstrap-loader/no-op.js":function(e,exports,t){e.exports.css=t('./node_modules/extract-text-webpack-plugin/loader.js?{"omit":1,"remove":true}!./node_modules/style-loader/index.js!./node_modules/css-loader/index.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/bootstrap-loader/lib/bootstrap.styles.loader.js?{"bootstrapVersion":3,"useCustomIconFontPath":false,"extractStyles":true,"styleLoaders":["style","css","sass"],"styles":["mixins","normalize","print","scaffolding","type","code","grid","tables","forms","buttons","component-animations","dropdowns","button-groups","input-groups","navs","navbar","breadcrumbs","pagination","pager","labels","badges","jumbotron","thumbnails","alerts","progress-bars","media","list-group","panels","wells","responsive-embed","close","modals","utilities","responsive-utilities"],"scripts":["alert","modal"],"configFilePath":"D:/Wnmp/html/dev/pintuan/local/pintuan/tools/.bootstraprc","bootstrapPath":"D:/Wnmp/html/dev/pintuan/local/pintuan/tools/node_modules/bootstrap-sass","bootstrapRelPath":"../bootstrap-sass"}!./node_modules/bootstrap-loader/no-op.js'),e.exports.js=t('./node_modules/bootstrap-loader/lib/bootstrap.scripts.loader.js?{"bootstrapVersion":3,"useCustomIconFontPath":false,"extractStyles":true,"styleLoaders":["style","css","sass"],"styles":["mixins","normalize","print","scaffolding","type","code","grid","tables","forms","buttons","component-animations","dropdowns","button-groups","input-groups","navs","navbar","breadcrumbs","pagination","pager","labels","badges","jumbotron","thumbnails","alerts","progress-bars","media","list-group","panels","wells","responsive-embed","close","modals","utilities","responsive-utilities"],"scripts":["alert","modal"],"configFilePath":"D:/Wnmp/html/dev/pintuan/local/pintuan/tools/.bootstraprc","bootstrapPath":"D:/Wnmp/html/dev/pintuan/local/pintuan/tools/node_modules/bootstrap-sass","bootstrapRelPath":"../bootstrap-sass"}!./node_modules/bootstrap-loader/no-op.js')},'./node_modules/bootstrap-loader/lib/bootstrap.scripts.loader.js?{"bootstrapVersion":3,"useCustomIconFontPath":false,"extractStyles":true,"styleLoaders":["style","css","sass"],"styles":["mixins","normalize","print","scaffolding","type","code","grid","tables","forms","buttons","component-animations","dropdowns","button-groups","input-groups","navs","navbar","breadcrumbs","pagination","pager","labels","badges","jumbotron","thumbnails","alerts","progress-bars","media","list-group","panels","wells","responsive-embed","close","modals","utilities","responsive-utilities"],"scripts":["alert","modal"],"configFilePath":"D:/Wnmp/html/dev/pintuan/local/pintuan/tools/.bootstraprc","bootstrapPath":"D:/Wnmp/html/dev/pintuan/local/pintuan/tools/node_modules/bootstrap-sass","bootstrapRelPath":"../bootstrap-sass"}!./node_modules/bootstrap-loader/no-op.js':function(e,exports,t){t("./node_modules/bootstrap-sass/assets/javascripts/bootstrap/alert.js"),t("./node_modules/bootstrap-sass/assets/javascripts/bootstrap/modal.js")},"./node_modules/bootstrap-loader/loader.js":function(e,exports,t){e.exports=t("./node_modules/bootstrap-loader/lib/bootstrap.loader.js!./node_modules/bootstrap-loader/no-op.js")},"./node_modules/bootstrap-sass/assets/javascripts/bootstrap/alert.js":function(e,exports,t){(function(e){+function($){"use strict";function e(e){return this.each(function(){var t=$(this),i=t.data("bs.alert");i||t.data("bs.alert",i=new n(this)),"string"==typeof e&&i[e].call(t)})}var t='[data-dismiss="alert"]',n=function(e){$(e).on("click",t,this.close)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.close=function(e){function t(){o.detach().trigger("closed.bs.alert").remove()}var i=$(this),r=i.attr("data-target");r||(r=i.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var o=$("#"===r?[]:r);e&&e.preventDefault(),o.length||(o=i.closest(".alert")),o.trigger(e=$.Event("close.bs.alert")),e.isDefaultPrevented()||(o.removeClass("in"),$.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",t).emulateTransitionEnd(n.TRANSITION_DURATION):t())};var i=$.fn.alert;$.fn.alert=e,$.fn.alert.Constructor=n,$.fn.alert.noConflict=function(){return $.fn.alert=i,this},$(document).on("click.bs.alert.data-api",t,n.prototype.close)}(e)}).call(exports,t("./node_modules/jquery/dist/jquery.js"))},"./node_modules/bootstrap-sass/assets/javascripts/bootstrap/modal.js":function(e,exports,t){(function(e){+function($){"use strict";function e(e,n){return this.each(function(){var i=$(this),r=i.data("bs.modal"),o=$.extend({},t.DEFAULTS,i.data(),"object"==typeof e&&e);r||i.data("bs.modal",r=new t(this,o)),"string"==typeof e?r[e](n):o.show&&r.show(n)})}var t=function(e,t){this.options=t,this.$body=$(document.body),this.$element=$(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,$.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};t.VERSION="3.3.7",t.TRANSITION_DURATION=300,t.BACKDROP_TRANSITION_DURATION=150,t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},t.prototype.show=function(e){var n=this,i=$.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',$.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(e){$(e.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var i=$.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),i&&n.$element[0].offsetWidth,n.$element.addClass("in"),n.enforceFocus();var r=$.Event("shown.bs.modal",{relatedTarget:e});i?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(t.TRANSITION_DURATION):n.$element.trigger("focus").trigger(r)}))},t.prototype.hide=function(e){e&&e.preventDefault(),e=$.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),$(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),$.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",$.proxy(this.hideModal,this)).emulateTransitionEnd(t.TRANSITION_DURATION):this.hideModal())},t.prototype.enforceFocus=function(){$(document).off("focusin.bs.modal").on("focusin.bs.modal",$.proxy(function(e){document===e.target||this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",$.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},t.prototype.resize=function(){this.isShown?$(window).on("resize.bs.modal",$.proxy(this.handleUpdate,this)):$(window).off("resize.bs.modal")},t.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(e){var n=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=$.support.transition&&i;if(this.$backdrop=$(document.createElement("div")).addClass("modal-backdrop "+i).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",$.proxy(function(e){if(this.ignoreBackdropClick)return void(this.ignoreBackdropClick=!1);e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;r?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){n.removeBackdrop(),e&&e()};$.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):o()}else e&&e()},t.prototype.handleUpdate=function(){this.adjustDialog()},t.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},t.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},t.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},t.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},t.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},t.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var n=$.fn.modal;$.fn.modal=e,$.fn.modal.Constructor=t,$.fn.modal.noConflict=function(){return $.fn.modal=n,this},$(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var n=$(this),i=n.attr("href"),r=$(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),o=r.data("bs.modal")?"toggle":$.extend({remote:!/#/.test(i)&&i},r.data(),n.data());n.is("a")&&t.preventDefault(),r.one("show.bs.modal",function(e){e.isDefaultPrevented()||r.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),e.call(r,o,this)})}(e)}).call(exports,t("./node_modules/jquery/dist/jquery.js"))},"./node_modules/es6-promise/auto.js":function(e,exports,t){"use strict";e.exports=t("./node_modules/es6-promise/dist/es6-promise.js").polyfill()},"./node_modules/es6-promise/dist/es6-promise.js":function(e,exports,t){(function(n,i){!function(t,n){e.exports=n()}(0,function(){"use strict";function e(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function r(e){return"function"==typeof e}function o(e){X=e}function s(e){W=e}function a(){return void 0!==V?function(){V(u)}:l()}function l(){var e=setTimeout;return function(){return e(u,1)}}function u(){for(var e=0;e<z;e+=2){(0,Z[e])(Z[e+1]),Z[e]=void 0,Z[e+1]=void 0}z=0}function c(e,t){var n=arguments,i=this,r=new this.constructor(p);void 0===r[te]&&P(r);var o=i._state;return o?function(){var e=n[o-1];W(function(){return k(o,r,e,i._result)})}():S(i,r,e,t),r}function d(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(p);return q(n,e),n}function p(){}function h(){return new TypeError("You cannot resolve a promise with itself")}function f(){return new TypeError("A promises callback cannot return that same promise.")}function m(e){try{return e.then}catch(e){return oe.error=e,oe}}function g(e,t,n,i){try{e.call(t,n,i)}catch(e){return e}}function v(e,t,n){W(function(e){var i=!1,r=g(n,t,function(n){i||(i=!0,t!==n?q(e,n):x(e,n))},function(t){i||(i=!0,w(e,t))},"Settle: "+(e._label||" unknown promise"));!i&&r&&(i=!0,w(e,r))},e)}function y(e,t){t._state===ie?x(e,t._result):t._state===re?w(e,t._result):S(t,void 0,function(t){return q(e,t)},function(t){return w(e,t)})}function b(e,t,n){t.constructor===e.constructor&&n===c&&t.constructor.resolve===d?y(e,t):n===oe?(w(e,oe.error),oe.error=null):void 0===n?x(e,t):r(n)?v(e,t,n):x(e,t)}function q(t,n){t===n?w(t,h()):e(n)?b(t,n,m(n)):x(t,n)}function _(e){e._onerror&&e._onerror(e._result),T(e)}function x(e,t){e._state===ne&&(e._result=t,e._state=ie,0!==e._subscribers.length&&W(T,e))}function w(e,t){e._state===ne&&(e._state=re,e._result=t,W(_,e))}function S(e,t,n,i){var r=e._subscribers,o=r.length;e._onerror=null,r[o]=t,r[o+ie]=n,r[o+re]=i,0===o&&e._state&&W(T,e)}function T(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var i=void 0,r=void 0,o=e._result,s=0;s<t.length;s+=3)i=t[s],r=t[s+n],i?k(n,i,r,o):r(o);e._subscribers.length=0}}function E(){this.error=null}function C(e,t){try{return e(t)}catch(e){return se.error=e,se}}function k(e,t,n,i){var o=r(n),s=void 0,a=void 0,l=void 0,u=void 0;if(o){if(s=C(n,i),s===se?(u=!0,a=s.error,s.error=null):l=!0,t===s)return void w(t,f())}else s=i,l=!0;t._state!==ne||(o&&l?q(t,s):u?w(t,a):e===ie?x(t,s):e===re&&w(t,s))}function A(e,t){try{t(function(t){q(e,t)},function(t){w(e,t)})}catch(t){w(e,t)}}function F(){return ae++}function P(e){e[te]=ae++,e._state=void 0,e._result=void 0,e._subscribers=[]}function D(e,t){this._instanceConstructor=e,this.promise=new e(p),this.promise[te]||P(this.promise),U(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?x(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&x(this.promise,this._result))):w(this.promise,N())}function N(){return new Error("Array Methods must be provided an Array")}function I(e){return new D(this,e).promise}function O(e){var t=this;return new t(U(e)?function(n,i){for(var r=e.length,o=0;o<r;o++)t.resolve(e[o]).then(n,i)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function L(e){var t=this,n=new t(p);return w(n,e),n}function R(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function j(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function B(e){this[te]=F(),this._result=this._state=void 0,this._subscribers=[],p!==e&&("function"!=typeof e&&R(),this instanceof B?A(this,e):j())}function M(){var e=void 0;if(void 0!==i)e=i;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=B}var H=void 0;H=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var U=H,z=0,V=void 0,X=void 0,W=function(e,t){Z[z]=e,Z[z+1]=t,2===(z+=2)&&(X?X(u):ee())},Y="undefined"!=typeof window?window:void 0,G=Y||{},J=G.MutationObserver||G.WebKitMutationObserver,K="undefined"==typeof self&&void 0!==n&&"[object process]"==={}.toString.call(n),Q="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Z=new Array(1e3),ee=void 0;ee=K?function(){return function(){return n.nextTick(u)}}():J?function(){var e=0,t=new J(u),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():Q?function(){var e=new MessageChannel;return e.port1.onmessage=u,function(){return e.port2.postMessage(0)}}():void 0===Y?function(){try{var e=t(0);return V=e.runOnLoop||e.runOnContext,a()}catch(e){return l()}}():l();var te=Math.random().toString(36).substring(16),ne=void 0,ie=1,re=2,oe=new E,se=new E,ae=0;return D.prototype._enumerate=function(e){for(var t=0;this._state===ne&&t<e.length;t++)this._eachEntry(e[t],t)},D.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,i=n.resolve;if(i===d){var r=m(e);if(r===c&&e._state!==ne)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(n===B){var o=new n(p);b(o,e,r),this._willSettleAt(o,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(i(e),t)},D.prototype._settledAt=function(e,t,n){var i=this.promise;i._state===ne&&(this._remaining--,e===re?w(i,n):this._result[t]=n),0===this._remaining&&x(i,this._result)},D.prototype._willSettleAt=function(e,t){var n=this;S(e,void 0,function(e){return n._settledAt(ie,t,e)},function(e){return n._settledAt(re,t,e)})},B.all=I,B.race=O,B.resolve=d,B.reject=L,B._setScheduler=o,B._setAsap=s,B._asap=W,B.prototype={constructor:B,then:c,catch:function(e){return this.then(null,e)}},B.polyfill=M,B.Promise=B,B})}).call(exports,t("./node_modules/process/browser.js"),t("./node_modules/webpack/buildin/global.js"))},'./node_modules/extract-text-webpack-plugin/loader.js?{"omit":1,"remove":true}!./node_modules/style-loader/index.js!./node_modules/css-loader/index.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/bootstrap-loader/lib/bootstrap.styles.loader.js?{"bootstrapVersion":3,"useCustomIconFontPath":false,"extractStyles":true,"styleLoaders":["style","css","sass"],"styles":["mixins","normalize","print","scaffolding","type","code","grid","tables","forms","buttons","component-animations","dropdowns","button-groups","input-groups","navs","navbar","breadcrumbs","pagination","pager","labels","badges","jumbotron","thumbnails","alerts","progress-bars","media","list-group","panels","wells","responsive-embed","close","modals","utilities","responsive-utilities"],"scripts":["alert","modal"],"configFilePath":"D:/Wnmp/html/dev/pintuan/local/pintuan/tools/.bootstraprc","bootstrapPath":"D:/Wnmp/html/dev/pintuan/local/pintuan/tools/node_modules/bootstrap-sass","bootstrapRelPath":"../bootstrap-sass"}!./node_modules/bootstrap-loader/no-op.js':function(e,exports){},"./node_modules/fine-uploader/fine-uploader/fine-uploader.min.js":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;!function(global){var qq=function(e){"use strict";return{hide:function(){return e.style.display="none",this},attach:function(t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n),function(){qq(e).detach(t,n)}},detach:function(t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.attachEvent&&e.detachEvent("on"+t,n),this},contains:function(t){return!!t&&(e===t||(e.contains?e.contains(t):!!(8&t.compareDocumentPosition(e))))},insertBefore:function(t){return t.parentNode.insertBefore(e,t),this},remove:function(){return e.parentNode.removeChild(e),this},css:function(t){if(null==e.style)throw new qq.Error("Can't apply style to node as it is not on the HTMLElement prototype chain!");return null!=t.opacity&&"string"!=typeof e.style.opacity&&void 0!==e.filters&&(t.filter="alpha(opacity="+Math.round(100*t.opacity)+")"),qq.extend(e.style,t),this},hasClass:function(t,n){var i=new RegExp("(^| )"+t+"( |$)");return i.test(e.className)||!(!n||!i.test(e.parentNode.className))},addClass:function(t){return qq(e).hasClass(t)||(e.className+=" "+t),this},removeClass:function(t){var n=new RegExp("(^| )"+t+"( |$)");return e.className=e.className.replace(n," ").replace(/^\s+|\s+$/g,""),this},getByClass:function(t,n){var i,r=[];return n&&e.querySelector?e.querySelector("."+t):e.querySelectorAll?e.querySelectorAll("."+t):(i=e.getElementsByTagName("*"),qq.each(i,function(e,n){qq(n).hasClass(t)&&r.push(n)}),n?r[0]:r)},getFirstByClass:function(t){return qq(e).getByClass(t,!0)},children:function(){for(var t=[],n=e.firstChild;n;)1===n.nodeType&&t.push(n),n=n.nextSibling;return t},setText:function(t){return e.innerText=t,e.textContent=t,this},clearText:function(){return qq(e).setText("")},hasAttribute:function(t){var n;return e.hasAttribute?!!e.hasAttribute(t)&&null==/^false$/i.exec(e.getAttribute(t)):void 0!==(n=e[t])&&null==/^false$/i.exec(n)}}};!function(){"use strict";qq.canvasToBlob=function(e,t,n){return qq.dataUriToBlob(e.toDataURL(t,n))},qq.dataUriToBlob=function(e){var t,n,i,r;return n=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):decodeURI(e.split(",")[1]),r=e.split(",")[0].split(":")[1].split(";")[0],t=new ArrayBuffer(n.length),i=new Uint8Array(t),qq.each(n,function(e,t){i[e]=t.charCodeAt(0)}),function(e,t){var n=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,i=n&&new n;return i?(i.append(e),i.getBlob(t)):new Blob([e],{type:t})}(t,r)},qq.log=function(e,t){window.console&&(t&&"info"!==t?window.console[t]?window.console[t](e):window.console.log("<"+t+"> "+e):window.console.log(e))},qq.isObject=function(e){return e&&!e.nodeType&&"[object Object]"===Object.prototype.toString.call(e)},qq.isFunction=function(e){return"function"==typeof e},qq.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)||e&&window.ArrayBuffer&&e.buffer&&e.buffer.constructor===ArrayBuffer},qq.isItemList=function(e){return"[object DataTransferItemList]"===Object.prototype.toString.call(e)},qq.isNodeList=function(e){return"[object NodeList]"===Object.prototype.toString.call(e)||e.item&&e.namedItem},qq.isString=function(e){return"[object String]"===Object.prototype.toString.call(e)},qq.trimStr=function(e){return String.prototype.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},qq.format=function(e){var t=Array.prototype.slice.call(arguments,1),n=e,i=n.indexOf("{}");return qq.each(t,function(e,t){if(n=n.substring(0,i)+t+n.substring(i+2),(i=n.indexOf("{}",i+t.length))<0)return!1}),n},qq.isFile=function(e){return window.File&&"[object File]"===Object.prototype.toString.call(e)},qq.isFileList=function(e){return window.FileList&&"[object FileList]"===Object.prototype.toString.call(e)},qq.isFileOrInput=function(e){return qq.isFile(e)||qq.isInput(e)},qq.isInput=function(e,t){var n=function(e){var n=e.toLowerCase();return t?"file"!==n:"file"===n};return!!(window.HTMLInputElement&&"[object HTMLInputElement]"===Object.prototype.toString.call(e)&&e.type&&n(e.type))||!!(e.tagName&&"input"===e.tagName.toLowerCase()&&e.type&&n(e.type))},qq.isBlob=function(e){if(window.Blob&&"[object Blob]"===Object.prototype.toString.call(e))return!0},qq.isXhrUploadSupported=function(){var e=document.createElement("input");return e.type="file",void 0!==e.multiple&&"undefined"!=typeof File&&"undefined"!=typeof FormData&&void 0!==qq.createXhrInstance().upload},qq.createXhrInstance=function(){if(window.XMLHttpRequest)return new XMLHttpRequest;try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(e){return qq.log("Neither XHR or ActiveX are supported!","error"),null}},qq.isFolderDropSupported=function(e){return e.items&&e.items.length>0&&e.items[0].webkitGetAsEntry},qq.isFileChunkingSupported=function(){return!qq.androidStock()&&qq.isXhrUploadSupported()&&(void 0!==File.prototype.slice||void 0!==File.prototype.webkitSlice||void 0!==File.prototype.mozSlice)},qq.sliceBlob=function(e,t,n){return(e.slice||e.mozSlice||e.webkitSlice).call(e,t,n)},qq.arrayBufferToHex=function(e){var t="",n=new Uint8Array(e);return qq.each(n,function(e,n){var i=n.toString(16);i.length<2&&(i="0"+i),t+=i}),t},qq.readBlobToHex=function(e,t,n){var i=qq.sliceBlob(e,t,t+n),r=new FileReader,o=new qq.Promise;return r.onload=function(){o.success(qq.arrayBufferToHex(r.result))},r.onerror=o.failure,r.readAsArrayBuffer(i),o},qq.extend=function(e,t,n){return qq.each(t,function(t,i){n&&qq.isObject(i)?(void 0===e[t]&&(e[t]={}),qq.extend(e[t],i,!0)):e[t]=i}),e},qq.override=function(e,t){var n={},i=t(n);return qq.each(i,function(t,i){void 0!==e[t]&&(n[t]=e[t]),e[t]=i}),e},qq.indexOf=function(e,t,n){if(e.indexOf)return e.indexOf(t,n);n=n||0;var i=e.length;for(n<0&&(n+=i);n<i;n+=1)if(e.hasOwnProperty(n)&&e[n]===t)return n;return-1},qq.getUniqueId=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},qq.ie=function(){return-1!==navigator.userAgent.indexOf("MSIE")||-1!==navigator.userAgent.indexOf("Trident")},qq.ie7=function(){return-1!==navigator.userAgent.indexOf("MSIE 7")},qq.ie8=function(){return-1!==navigator.userAgent.indexOf("MSIE 8")},qq.ie10=function(){return-1!==navigator.userAgent.indexOf("MSIE 10")},qq.ie11=function(){return qq.ie()&&-1!==navigator.userAgent.indexOf("rv:11")},qq.edge=function(){return navigator.userAgent.indexOf("Edge")>=0},qq.safari=function(){return void 0!==navigator.vendor&&-1!==navigator.vendor.indexOf("Apple")},qq.chrome=function(){return void 0!==navigator.vendor&&-1!==navigator.vendor.indexOf("Google")},qq.opera=function(){return void 0!==navigator.vendor&&-1!==navigator.vendor.indexOf("Opera")},qq.firefox=function(){return!qq.edge()&&!qq.ie11()&&-1!==navigator.userAgent.indexOf("Mozilla")&&void 0!==navigator.vendor&&""===navigator.vendor},qq.windows=function(){return"Win32"===navigator.platform},qq.android=function(){return-1!==navigator.userAgent.toLowerCase().indexOf("android")},qq.androidStock=function(){return qq.android()&&navigator.userAgent.toLowerCase().indexOf("chrome")<0},qq.ios6=function(){return qq.ios()&&-1!==navigator.userAgent.indexOf(" OS 6_")},qq.ios7=function(){return qq.ios()&&-1!==navigator.userAgent.indexOf(" OS 7_")},qq.ios8=function(){return qq.ios()&&-1!==navigator.userAgent.indexOf(" OS 8_")},qq.ios800=function(){return qq.ios()&&-1!==navigator.userAgent.indexOf(" OS 8_0 ")},qq.ios=function(){return-1!==navigator.userAgent.indexOf("iPad")||-1!==navigator.userAgent.indexOf("iPod")||-1!==navigator.userAgent.indexOf("iPhone")},qq.iosChrome=function(){return qq.ios()&&-1!==navigator.userAgent.indexOf("CriOS")},qq.iosSafari=function(){return qq.ios()&&!qq.iosChrome()&&-1!==navigator.userAgent.indexOf("Safari")},qq.iosSafariWebView=function(){return qq.ios()&&!qq.iosChrome()&&!qq.iosSafari()},qq.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},qq.toElement=function(){var e=document.createElement("div");return function(t){e.innerHTML=t;var n=e.firstChild;return e.removeChild(n),n}}(),qq.each=function(e,t){var n;if(e)if(window.Storage&&e.constructor===window.Storage)for(n=0;n<e.length&&!1!==t(e.key(n),e.getItem(e.key(n)));n++);else if(qq.isArray(e)||qq.isItemList(e)||qq.isNodeList(e))for(n=0;n<e.length&&!1!==t(n,e[n]);n++);else if(qq.isString(e))for(n=0;n<e.length&&!1!==t(n,e.charAt(n));n++);else for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&!1===t(n,e[n]))break},qq.bind=function(e,t){if(qq.isFunction(e)){var n=Array.prototype.slice.call(arguments,2);return function(){var i=qq.extend([],n);return arguments.length&&(i=i.concat(Array.prototype.slice.call(arguments))),e.apply(t,i)}}throw new Error("first parameter must be a function!")},qq.obj2url=function(e,t,n){var i=[],r="&",o=function(e,n){var r=t?/\[\]$/.test(t)?t:t+"["+n+"]":n;"undefined"!==r&&"undefined"!==n&&i.push("object"==typeof e?qq.obj2url(e,r,!0):"[object Function]"===Object.prototype.toString.call(e)?encodeURIComponent(r)+"="+encodeURIComponent(e()):encodeURIComponent(r)+"="+encodeURIComponent(e))};return!n&&t?(r=/\?/.test(t)?/\?$/.test(t)?"":"&":"?",i.push(t),i.push(qq.obj2url(e))):"[object Array]"===Object.prototype.toString.call(e)&&void 0!==e?qq.each(e,function(e,t){o(t,e)}):void 0!==e&&null!==e&&"object"==typeof e?qq.each(e,function(e,t){o(t,e)}):i.push(encodeURIComponent(t)+"="+encodeURIComponent(e)),t?i.join(r):i.join(r).replace(/^&/,"").replace(/%20/g,"+")},qq.obj2FormData=function(e,t,n){return t||(t=new FormData),qq.each(e,function(e,i){e=n?n+"["+e+"]":e,qq.isObject(i)?qq.obj2FormData(i,t,e):qq.isFunction(i)?t.append(e,i()):t.append(e,i)}),t},qq.obj2Inputs=function(e,t){var n;return t||(t=document.createElement("form")),qq.obj2FormData(e,{append:function(e,i){n=document.createElement("input"),n.setAttribute("name",e),n.setAttribute("value",i),t.appendChild(n)}}),t},qq.parseJson=function(json){return window.JSON&&qq.isFunction(JSON.parse)?JSON.parse(json):eval("("+json+")")},qq.getExtension=function(e){var t=e.lastIndexOf(".")+1;if(t>0)return e.substr(t,e.length-t)},qq.getFilename=function(e){return qq.isInput(e)?e.value.replace(/.*(\/|\\)/,""):qq.isFile(e)&&null!==e.fileName&&void 0!==e.fileName?e.fileName:e.name},qq.DisposeSupport=function(){var e=[];return{dispose:function(){var t;do{(t=e.shift())&&t()}while(t)},attach:function(){var e=arguments;this.addDisposer(qq(e[0]).attach.apply(this,Array.prototype.slice.call(arguments,1)))},addDisposer:function(t){e.push(t)}}}}(),function(){"use strict";void 0!==(__WEBPACK_AMD_DEFINE_RESULT__=function(){return qq}.call(exports,__webpack_require__,exports,module))&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(),function(){"use strict";qq.Error=function(e){this.message="[Fine Uploader "+qq.version+"] "+e},qq.Error.prototype=new Error}(),qq.version="5.15.4",qq.supportedFeatures=function(){"use strict";function e(){return!!window.XMLHttpRequest&&void 0!==qq.createXhrInstance().withCredentials}function t(){return void 0!==window.XDomainRequest}var n,i,r,o,s,a,l,u,c,d,p,h,f,m,g;return n=function(){var e,t=!0;try{e=document.createElement("input"),e.type="file",qq(e).hide(),e.disabled&&(t=!1)}catch(e){t=!1}return t}(),o=n&&qq.isXhrUploadSupported(),i=o&&!qq.androidStock(),r=o&&function(){var e=document.createElement("span");return("draggable"in e||"ondragstart"in e&&"ondrop"in e)&&!qq.android()&&!qq.ios()}(),s=r&&function(){return(qq.chrome()||qq.opera())&&void 0!==navigator.userAgent.match(/Chrome\/[2][1-9]|Chrome\/[3-9][0-9]/)}(),a=o&&qq.isFileChunkingSupported(),l=o&&a&&function(){try{return!!window.localStorage&&qq.isFunction(window.localStorage.setItem)}catch(e){return!1}}(),u=o&&function(){return(qq.chrome()||qq.opera())&&void 0!==navigator.userAgent.match(/Chrome\/[1][4-9]|Chrome\/[2-9][0-9]/)}(),c=n&&(void 0!==window.postMessage||o),p=e(),d=t(),h=function(){return!!e()||t()}(),f=function(){return void 0!==document.createElement("input").webkitdirectory}(),m=o&&void 0!==window.FileReader,g=function(){return!!o&&!qq.androidStock()&&!qq.iosChrome()}(),{ajaxUploading:o,blobUploading:i,canDetermineSize:o,chunking:a,deleteFileCors:h,deleteFileCorsXdr:d,deleteFileCorsXhr:p,dialogElement:!!window.HTMLDialogElement,fileDrop:r,folderDrop:s,folderSelection:f,imagePreviews:m,imageValidation:m,itemSizeValidation:o,pause:a,progressBar:g,resume:l,scaling:m&&i,tiffPreviews:qq.safari(),unlimitedScaledImageSize:!qq.ios(),uploading:n,uploadCors:c,uploadCustomHeaders:o,uploadNonMultipart:o,uploadViaPaste:u}}(),qq.isGenericPromise=function(e){"use strict";return!!(e&&e.then&&qq.isFunction(e.then))},qq.Promise=function(){"use strict";var e,t,n=[],i=[],r=[],o=0;qq.extend(this,{then:function(r,s){return 0===o?(r&&n.push(r),s&&i.push(s)):-1===o?s&&s.apply(null,t):r&&r.apply(null,e),this},done:function(n){return 0===o?r.push(n):n.apply(null,void 0===t?e:t),this},success:function(){return o=1,e=arguments,n.length&&qq.each(n,function(t,n){n.apply(null,e)}),r.length&&qq.each(r,function(t,n){n.apply(null,e)}),this},failure:function(){return o=-1,t=arguments,i.length&&qq.each(i,function(e,n){n.apply(null,t)}),r.length&&qq.each(r,function(e,n){n.apply(null,t)}),this}})},qq.BlobProxy=function(e,t){"use strict";qq.extend(this,{referenceBlob:e,create:function(){return t(e)}})},qq.UploadButton=function(e){"use strict";function t(){var e=document.createElement("input");return e.setAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME,i),e.setAttribute("title",s.title),r.setMultiple(s.multiple,e),s.folders&&qq.supportedFeatures.folderSelection&&e.setAttribute("webkitdirectory",""),s.acceptFiles&&e.setAttribute("accept",s.acceptFiles),e.setAttribute("type","file"),e.setAttribute("name",s.name),qq(e).css({position:"absolute",right:0,top:0,fontFamily:"Arial",fontSize:qq.ie()&&!qq.ie8()?"3500px":"118px",margin:0,padding:0,cursor:"pointer",opacity:0}),!qq.ie7()&&qq(e).css({height:"100%"}),s.element.appendChild(e),o.attach(e,"change",function(){s.onChange(e)}),o.attach(e,"mouseover",function(){qq(s.element).addClass(s.hoverClass)}),o.attach(e,"mouseout",function(){qq(s.element).removeClass(s.hoverClass)}),o.attach(e,"focus",function(){qq(s.element).addClass(s.focusClass)}),o.attach(e,"blur",function(){qq(s.element).removeClass(s.focusClass)}),e}var n,i,r=this,o=new qq.DisposeSupport,s={acceptFiles:null,element:null,focusClass:"qq-upload-button-focus",folders:!1,hoverClass:"qq-upload-button-hover",ios8BrowserCrashWorkaround:!1,multiple:!1,name:"qqfile",onChange:function(e){},title:null};qq.extend(s,e),i=qq.getUniqueId(),qq(s.element).css({position:"relative",overflow:"hidden",direction:"ltr"}),qq.extend(this,{getInput:function(){return n},getButtonId:function(){return i},setMultiple:function(e,t){var n=t||this.getInput();s.ios8BrowserCrashWorkaround&&qq.ios8()&&(qq.iosChrome()||qq.iosSafariWebView())?n.setAttribute("multiple",""):e?n.setAttribute("multiple",""):n.removeAttribute("multiple")},setAcceptFiles:function(e){e!==s.acceptFiles&&n.setAttribute("accept",e)},reset:function(){n.parentNode&&qq(n).remove(),qq(s.element).removeClass(s.focusClass),n=null,n=t()}}),n=t()},qq.UploadButton.BUTTON_ID_ATTR_NAME="qq-button-id",qq.UploadData=function(e){"use strict";function t(e){if(qq.isArray(e)){var t=[];return qq.each(e,function(e,n){t.push(r[n])}),t}return r[e]}function n(e){if(qq.isArray(e)){var t=[];return qq.each(e,function(e,n){t.push(r[o[n]])}),t}return r[o[e]]}function i(e){var t=[],n=[].concat(e);return qq.each(n,function(e,n){var i=s[n];void 0!==i&&qq.each(i,function(e,n){t.push(r[n])})}),t}var r=[],o={},s={},a={},l={};qq.extend(this,{addFile:function(t){var n=t.status||qq.status.SUBMITTING,i=r.push({name:t.name,originalName:t.name,uuid:t.uuid,size:null==t.size?-1:t.size,status:n})-1;return t.batchId&&(r[i].batchId=t.batchId,void 0===l[t.batchId]&&(l[t.batchId]=[]),l[t.batchId].push(i)),t.proxyGroupId&&(r[i].proxyGroupId=t.proxyGroupId,void 0===a[t.proxyGroupId]&&(a[t.proxyGroupId]=[]),a[t.proxyGroupId].push(i)),r[i].id=i,o[t.uuid]=i,void 0===s[n]&&(s[n]=[]),s[n].push(i),t.onBeforeStatusChange&&t.onBeforeStatusChange(i),e.onStatusChange(i,null,n),i},retrieve:function(e){return qq.isObject(e)&&r.length?void 0!==e.id?t(e.id):void 0!==e.uuid?n(e.uuid):e.status?i(e.status):void 0:qq.extend([],r,!0)},reset:function(){r=[],o={},s={},l={}},setStatus:function(t,n){var i=r[t].status,o=qq.indexOf(s[i],t);s[i].splice(o,1),r[t].status=n,void 0===s[n]&&(s[n]=[]),s[n].push(t),e.onStatusChange(t,i,n)},uuidChanged:function(e,t){var n=r[e].uuid;r[e].uuid=t,o[t]=e,delete o[n]},updateName:function(e,t){r[e].name=t},updateSize:function(e,t){r[e].size=t},setParentId:function(e,t){r[e].parentId=t},getIdsInProxyGroup:function(e){var t=r[e].proxyGroupId;return t?a[t]:[]},getIdsInBatch:function(e){return l[r[e].batchId]}})},qq.status={SUBMITTING:"submitting",SUBMITTED:"submitted",REJECTED:"rejected",QUEUED:"queued",CANCELED:"canceled",PAUSED:"paused",UPLOADING:"uploading",UPLOAD_RETRYING:"retrying upload",UPLOAD_SUCCESSFUL:"upload successful",UPLOAD_FAILED:"upload failed",DELETE_FAILED:"delete failed",DELETING:"deleting",DELETED:"deleted"},function(){"use strict";qq.basePublicApi={addBlobs:function(e,t,n){this.addFiles(e,t,n)},addInitialFiles:function(e){var t=this;qq.each(e,function(e,n){t._addCannedFile(n)})},addFiles:function(e,t,n){this._maybeHandleIos8SafariWorkaround();var i=0===this._storedIds.length?qq.getUniqueId():this._currentBatchId,r=qq.bind(function(e){this._handleNewFile({blob:e,name:this._options.blobs.defaultName},i,c)},this),o=qq.bind(function(e){this._handleNewFile(e,i,c)},this),s=qq.bind(function(e){var t=qq.canvasToBlob(e);this._handleNewFile({blob:t,name:this._options.blobs.defaultName+".png"},i,c)},this),a=qq.bind(function(e){var t=e.quality&&e.quality/100,n=qq.canvasToBlob(e.canvas,e.type,t);this._handleNewFile({blob:n,name:e.name},i,c)},this),l=qq.bind(function(e){if(qq.isInput(e)&&qq.supportedFeatures.ajaxUploading){var t=Array.prototype.slice.call(e.files),n=this;qq.each(t,function(e,t){n._handleNewFile(t,i,c)})}else this._handleNewFile(e,i,c)},this),u=this,c=[];this._currentBatchId=i,e&&(function(){qq.isFileList(e)&&(e=Array.prototype.slice.call(e)),e=[].concat(e)}(),qq.each(e,function(e,t){qq.isFileOrInput(t)?l(t):qq.isBlob(t)?r(t):qq.isObject(t)?t.blob&&t.name?o(t):t.canvas&&t.name&&a(t):t.tagName&&"canvas"===t.tagName.toLowerCase()?s(t):u.log(t+" is not a valid file container!  Ignoring!","warn")}),this.log("Received "+c.length+" files."),this._prepareItemsForUpload(c,t,n))},cancel:function(e){this._handler.cancel(e)},cancelAll:function(){var e=[],t=this;qq.extend(e,this._storedIds),qq.each(e,function(e,n){t.cancel(n)}),this._handler.cancelAll()},clearStoredFiles:function(){this._storedIds=[]},continueUpload:function(e){var t=this._uploadData.retrieve({id:e});return!(!qq.supportedFeatures.pause||!this._options.chunking.enabled||(t.status===qq.status.PAUSED?(this.log(qq.format("Paused file ID {} ({}) will be continued.  Not paused.",e,this.getName(e))),this._uploadFile(e),0):(this.log(qq.format("Ignoring continue for file ID {} ({}).  Not paused.",e,this.getName(e)),"error"),1)))},deleteFile:function(e){return this._onSubmitDelete(e)},doesExist:function(e){return this._handler.isValid(e)},drawThumbnail:function(e,t,n,i,r){var o,s,a=new qq.Promise;return this._imageGenerator?(o=this._thumbnailUrls[e],s={customResizeFunction:r,maxSize:n>0?n:null,scale:n>0},!i&&qq.supportedFeatures.imagePreviews&&(o=this.getFile(e)),null==o?a.failure({container:t,error:"File or URL not found."}):this._imageGenerator.generate(o,t,s).then(function(e){a.success(e)},function(e,t){a.failure({container:e,error:t||"Problem generating thumbnail"})})):a.failure({container:t,error:"Missing image generator module"}),a},getButton:function(e){return this._getButton(this._buttonIdsForFileIds[e])},getEndpoint:function(e){return this._endpointStore.get(e)},getFile:function(e){return this._handler.getFile(e)||null},getInProgress:function(){return this._uploadData.retrieve({status:[qq.status.UPLOADING,qq.status.UPLOAD_RETRYING,qq.status.QUEUED]}).length},getName:function(e){return this._uploadData.retrieve({id:e}).name},getParentId:function(e){var t=this.getUploads({id:e}),n=null;return t&&void 0!==t.parentId&&(n=t.parentId),n},getResumableFilesData:function(){return this._handler.getResumableFilesData()},getSize:function(e){return this._uploadData.retrieve({id:e}).size},getNetUploads:function(){return this._netUploaded},getRemainingAllowedItems:function(){var e=this._currentItemLimit;return e>0?e-this._netUploadedOrQueued:null},getUploads:function(e){return this._uploadData.retrieve(e)},getUuid:function(e){return this._uploadData.retrieve({id:e}).uuid},log:function(e,t){!this._options.debug||t&&"info"!==t?t&&"info"!==t&&qq.log("[Fine Uploader "+qq.version+"] "+e,t):qq.log("[Fine Uploader "+qq.version+"] "+e)},pauseUpload:function(e){var t=this._uploadData.retrieve({id:e});if(!qq.supportedFeatures.pause||!this._options.chunking.enabled)return!1;if(qq.indexOf([qq.status.UPLOADING,qq.status.UPLOAD_RETRYING],t.status)>=0){if(this._handler.pause(e))return this._uploadData.setStatus(e,qq.status.PAUSED),!0;this.log(qq.format("Unable to pause file ID {} ({}).",e,this.getName(e)),"error")}else this.log(qq.format("Ignoring pause for file ID {} ({}).  Not in progress.",e,this.getName(e)),"error");return!1},removeFileRef:function(e){this._handler.expunge(e)},reset:function(){this.log("Resetting uploader..."),this._handler.reset(),this._storedIds=[],this._autoRetries=[],this._retryTimeouts=[],this._preventRetries=[],this._thumbnailUrls=[],qq.each(this._buttons,function(e,t){t.reset()}),this._paramsStore.reset(),this._endpointStore.reset(),this._netUploadedOrQueued=0,this._netUploaded=0,this._uploadData.reset(),this._buttonIdsForFileIds=[],this._pasteHandler&&this._pasteHandler.reset(),this._options.session.refreshOnReset&&this._refreshSessionData(),this._succeededSinceLastAllComplete=[],this._failedSinceLastAllComplete=[],this._totalProgress&&this._totalProgress.reset()},retry:function(e){return this._manualRetry(e)},scaleImage:function(e,t){var n=this;return qq.Scaler.prototype.scaleImage(e,t,{log:qq.bind(n.log,n),getFile:qq.bind(n.getFile,n),uploadData:n._uploadData})},setCustomHeaders:function(e,t){this._customHeadersStore.set(e,t)},setDeleteFileCustomHeaders:function(e,t){this._deleteFileCustomHeadersStore.set(e,t)},setDeleteFileEndpoint:function(e,t){this._deleteFileEndpointStore.set(e,t)},setDeleteFileParams:function(e,t){this._deleteFileParamsStore.set(e,t)},setEndpoint:function(e,t){this._endpointStore.set(e,t)},setForm:function(e){this._updateFormSupportAndParams(e)},setItemLimit:function(e){this._currentItemLimit=e},setName:function(e,t){this._uploadData.updateName(e,t)},setParams:function(e,t){this._paramsStore.set(e,t)},setUuid:function(e,t){return this._uploadData.uuidChanged(e,t)},setStatus:function(e,t){if(!this.getUploads({id:e}))throw new qq.Error(e+" is not a valid file ID.");switch(t){case qq.status.DELETED:this._onDeleteComplete(e,null,!1);break;case qq.status.DELETE_FAILED:this._onDeleteComplete(e,null,!0);break;default:var n="Method setStatus called on '"+name+"' not implemented yet for "+t;throw this.log(n),new qq.Error(n)}},uploadStoredFiles:function(){0===this._storedIds.length?this._itemError("noFilesError"):this._uploadStoredFiles()}},qq.basePrivateApi={_addCannedFile:function(e){var t=this;return this._uploadData.addFile({uuid:e.uuid,name:e.name,size:e.size,status:qq.status.UPLOAD_SUCCESSFUL,onBeforeStatusChange:function(n){e.deleteFileEndpoint&&t.setDeleteFileEndpoint(e.deleteFileEndpoint,n),e.deleteFileParams&&t.setDeleteFileParams(e.deleteFileParams,n),e.thumbnailUrl&&(t._thumbnailUrls[n]=e.thumbnailUrl),t._netUploaded++,t._netUploadedOrQueued++}})},_annotateWithButtonId:function(e,t){qq.isFile(e)&&(e.qqButtonId=this._getButtonId(t))},_batchError:function(e){this._options.callbacks.onError(null,null,e,void 0)},_createDeleteHandler:function(){var e=this;return new qq.DeleteFileAjaxRequester({method:this._options.deleteFile.method.toUpperCase(),maxConnections:this._options.maxConnections,uuidParamName:this._options.request.uuidName,customHeaders:this._deleteFileCustomHeadersStore,paramsStore:this._deleteFileParamsStore,endpointStore:this._deleteFileEndpointStore,cors:this._options.cors,log:qq.bind(e.log,e),onDelete:function(t){e._onDelete(t),e._options.callbacks.onDelete(t)},onDeleteComplete:function(t,n,i){e._onDeleteComplete(t,n,i),e._options.callbacks.onDeleteComplete(t,n,i)}})},_createPasteHandler:function(){var e=this;return new qq.PasteSupport({targetElement:this._options.paste.targetElement,callbacks:{log:qq.bind(e.log,e),pasteReceived:function(t){e._handleCheckedCallback({name:"onPasteReceived",callback:qq.bind(e._options.callbacks.onPasteReceived,e,t),onSuccess:qq.bind(e._handlePasteSuccess,e,t),identifier:"pasted image"})}}})},_createStore:function(e,t){var n={},i=e,r={},o=t,s=function(e){return qq.isObject(e)?qq.extend({},e):e},a=function(){return qq.isFunction(o)?o():o},l=function(e,t){o&&qq.isObject(t)&&qq.extend(t,a()),r[e]&&qq.extend(t,r[e])};return{set:function(e,t){null==t?(n={},i=s(e)):n[t]=s(e)},get:function(e){var t;return t=null!=e&&n[e]?n[e]:s(i),l(e,t),s(t)},addReadOnly:function(e,t){qq.isObject(n)&&(null===e?qq.isFunction(t)?o=t:(o=o||{},qq.extend(o,t)):(r[e]=r[e]||{},qq.extend(r[e],t)))},remove:function(e){return delete n[e]},reset:function(){n={},r={},i=e}}},_createUploadDataTracker:function(){var e=this;return new qq.UploadData({getName:function(t){return e.getName(t)},getUuid:function(t){return e.getUuid(t)},getSize:function(t){return e.getSize(t)},onStatusChange:function(t,n,i){e._onUploadStatusChange(t,n,i),e._options.callbacks.onStatusChange(t,n,i),e._maybeAllComplete(t,i),e._totalProgress&&setTimeout(function(){e._totalProgress.onStatusChange(t,n,i)},0)}})},_createUploadButton:function(e){var t,n=this,i=e.accept||this._options.validation.acceptFiles,r=e.allowedExtensions||this._options.validation.allowedExtensions;return t=new qq.UploadButton({acceptFiles:i,element:e.element,focusClass:this._options.classes.buttonFocus,folders:e.folders,hoverClass:this._options.classes.buttonHover,ios8BrowserCrashWorkaround:this._options.workarounds.ios8BrowserCrash,multiple:function(){return!!qq.supportedFeatures.ajaxUploading&&!(n._options.workarounds.iosEmptyVideos&&qq.ios()&&!qq.ios6()&&n._isAllowedExtension(r,".mov"))&&(void 0===e.multiple?n._options.multiple:e.multiple)}(),name:this._options.request.inputName,onChange:function(e){n._onInputChange(e)},title:null==e.title?this._options.text.fileInputTitle:e.title}),this._disposeSupport.addDisposer(function(){t.dispose()}),n._buttons.push(t),t},_createUploadHandler:function(e,t){var n=this,i={},r={debug:this._options.debug,maxConnections:this._options.maxConnections,cors:this._options.cors,paramsStore:this._paramsStore,endpointStore:this._endpointStore,chunking:this._options.chunking,resume:this._options.resume,blobs:this._options.blobs,log:qq.bind(n.log,n),preventRetryParam:this._options.retry.preventRetryResponseProperty,onProgress:function(e,t,r,o){r<0||o<0||(i[e]?i[e].loaded===r&&i[e].total===o||(n._onProgress(e,t,r,o),n._options.callbacks.onProgress(e,t,r,o)):(n._onProgress(e,t,r,o),n._options.callbacks.onProgress(e,t,r,o)),i[e]={loaded:r,total:o})},onComplete:function(e,t,r,o){delete i[e];var s,a=n.getUploads({id:e}).status;a!==qq.status.UPLOAD_SUCCESSFUL&&a!==qq.status.UPLOAD_FAILED&&(s=n._onComplete(e,t,r,o),s instanceof qq.Promise?s.done(function(){n._options.callbacks.onComplete(e,t,r,o)}):n._options.callbacks.onComplete(e,t,r,o))},onCancel:function(e,t,i){var r=new qq.Promise;return n._handleCheckedCallback({name:"onCancel",callback:qq.bind(n._options.callbacks.onCancel,n,e,t),onFailure:r.failure,onSuccess:function(){i.then(function(){n._onCancel(e,t)}),r.success()},identifier:e}),r},onUploadPrep:qq.bind(this._onUploadPrep,this),onUpload:function(e,t){n._onUpload(e,t),n._options.callbacks.onUpload(e,t)},onUploadChunk:function(e,t,i){n._onUploadChunk(e,i),n._options.callbacks.onUploadChunk(e,t,i)},onUploadChunkSuccess:function(e,t,i,r){n._options.callbacks.onUploadChunkSuccess.apply(n,arguments)},onResume:function(e,t,i){return n._options.callbacks.onResume(e,t,i)},onAutoRetry:function(e,t,i,r){return n._onAutoRetry.apply(n,arguments)},onUuidChanged:function(e,t){n.log("Server requested UUID change from '"+n.getUuid(e)+"' to '"+t+"'"),n.setUuid(e,t)},getName:qq.bind(n.getName,n),getUuid:qq.bind(n.getUuid,n),getSize:qq.bind(n.getSize,n),setSize:qq.bind(n._setSize,n),getDataByUuid:function(e){return n.getUploads({uuid:e})},isQueued:function(e){var t=n.getUploads({id:e}).status;return t===qq.status.QUEUED||t===qq.status.SUBMITTED||t===qq.status.UPLOAD_RETRYING||t===qq.status.PAUSED},getIdsInProxyGroup:n._uploadData.getIdsInProxyGroup,getIdsInBatch:n._uploadData.getIdsInBatch};return qq.each(this._options.request,function(e,t){r[e]=t}),r.customHeaders=this._customHeadersStore,e&&qq.each(e,function(e,t){r[e]=t}),new qq.UploadHandlerController(r,t)},_fileOrBlobRejected:function(e){this._netUploadedOrQueued--,this._uploadData.setStatus(e,qq.status.REJECTED)},_formatSize:function(e){if(0===e)return e+this._options.text.sizeSymbols[0];var t=-1;do{e/=1e3,t++}while(e>999);return Math.max(e,.1).toFixed(1)+this._options.text.sizeSymbols[t]},_generateExtraButtonSpecs:function(){var e=this;this._extraButtonSpecs={},qq.each(this._options.extraButtons,function(t,n){var i=n.multiple,r=qq.extend({},e._options.validation,!0),o=qq.extend({},n);void 0===i&&(i=e._options.multiple),o.validation&&qq.extend(r,n.validation,!0),qq.extend(o,{multiple:i,validation:r},!0),e._initExtraButton(o)})},_getButton:function(e){var t=this._extraButtonSpecs[e];return t?t.element:e===this._defaultButtonId?this._options.button:void 0},_getButtonId:function(e){var t,n,i=e;if(i instanceof qq.BlobProxy&&(i=i.referenceBlob),i&&!qq.isBlob(i)){if(qq.isFile(i))return i.qqButtonId;if("input"===i.tagName.toLowerCase()&&"file"===i.type.toLowerCase())return i.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME);if(t=i.getElementsByTagName("input"),qq.each(t,function(e,t){if("file"===t.getAttribute("type"))return n=t,!1}),n)return n.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME)}},_getNotFinished:function(){return this._uploadData.retrieve({status:[qq.status.UPLOADING,qq.status.UPLOAD_RETRYING,qq.status.QUEUED,qq.status.SUBMITTING,qq.status.SUBMITTED,qq.status.PAUSED]}).length},_getValidationBase:function(e){var t=this._extraButtonSpecs[e];return t?t.validation:this._options.validation},_getValidationDescriptor:function(e){return e.file instanceof qq.BlobProxy?{name:qq.getFilename(e.file.referenceBlob),size:e.file.referenceBlob.size}:{name:this.getUploads({id:e.id}).name,size:this.getUploads({id:e.id}).size}},_getValidationDescriptors:function(e){var t=this,n=[];return qq.each(e,function(e,i){n.push(t._getValidationDescriptor(i))}),n},_handleCameraAccess:function(){if(this._options.camera.ios&&qq.ios()){var e=this._options.camera.button,t=e?this._getButtonId(e):this._defaultButtonId,n=this._options;t&&t!==this._defaultButtonId&&(n=this._extraButtonSpecs[t]),n.multiple=!1,null===n.validation.acceptFiles?n.validation.acceptFiles="image/*;capture=camera":n.validation.acceptFiles+=",image/*;capture=camera",qq.each(this._buttons,function(e,i){if(i.getButtonId()===t)return i.setMultiple(n.multiple),i.setAcceptFiles(n.acceptFiles),!1})}},_handleCheckedCallback:function(e){var t=this,n=e.callback();return qq.isGenericPromise(n)?(this.log(e.name+" - waiting for "+e.name+" promise to be fulfilled for "+e.identifier),n.then(function(n){t.log(e.name+" promise success for "+e.identifier),e.onSuccess(n)},function(){e.onFailure?(t.log(e.name+" promise failure for "+e.identifier),e.onFailure()):t.log(e.name+" promise failure for "+e.identifier)})):(!1!==n?e.onSuccess(n):e.onFailure?(this.log(e.name+" - return value was 'false' for "+e.identifier+".  Invoking failure callback."),e.onFailure()):this.log(e.name+" - return value was 'false' for "+e.identifier+".  Will not proceed."),n)},_handleNewFile:function(e,t,n){var i=this,r=qq.getUniqueId(),o=-1,s=qq.getFilename(e),a=e.blob||e,l=this._customNewFileHandler?this._customNewFileHandler:qq.bind(i._handleNewFileGeneric,i);!qq.isInput(a)&&a.size>=0&&(o=a.size),l(a,s,r,o,n,t,this._options.request.uuidName,{uploadData:i._uploadData,paramsStore:i._paramsStore,addFileToHandler:function(e,t){i._handler.add(e,t),i._netUploadedOrQueued++,i._trackButton(e)}})},_handleNewFileGeneric:function(e,t,n,i,r,o){var s=this._uploadData.addFile({uuid:n,name:t,size:i,batchId:o});this._handler.add(s,e),this._trackButton(s),this._netUploadedOrQueued++,r.push({id:s,file:e})},_handlePasteSuccess:function(e,t){var n=e.type.split("/")[1],i=t;null==i&&(i=this._options.paste.defaultName),i+="."+n,this.addFiles({name:i,blob:e})},_handleDeleteSuccess:function(e){if(this.getUploads({id:e}).status!==qq.status.DELETED){var t=this.getName(e);this._netUploadedOrQueued--,this._netUploaded--,this._handler.expunge(e),this._uploadData.setStatus(e,qq.status.DELETED),this.log("Delete request for '"+t+"' has succeeded.")}},_handleDeleteFailed:function(e,t){var n=this.getName(e);this._uploadData.setStatus(e,qq.status.DELETE_FAILED),this.log("Delete request for '"+n+"' has failed.","error"),t&&void 0!==t.withCredentials?this._options.callbacks.onError(e,n,"Delete request failed with response code "+t.status,t):this._options.callbacks.onError(e,n,"Delete request failed",t)},_initExtraButton:function(e){var t=this._createUploadButton({accept:e.validation.acceptFiles,allowedExtensions:e.validation.allowedExtensions,element:e.element,folders:e.folders,multiple:e.multiple,title:e.fileInputTitle});this._extraButtonSpecs[t.getButtonId()]=e},_initFormSupportAndParams:function(){this._formSupport=qq.FormSupport&&new qq.FormSupport(this._options.form,qq.bind(this.uploadStoredFiles,this),qq.bind(this.log,this)),this._formSupport&&this._formSupport.attachedToForm?(this._paramsStore=this._createStore(this._options.request.params,this._formSupport.getFormInputsAsObject),this._options.autoUpload=this._formSupport.newAutoUpload,this._formSupport.newEndpoint&&(this._options.request.endpoint=this._formSupport.newEndpoint)):this._paramsStore=this._createStore(this._options.request.params)},_isDeletePossible:function(){return!(!qq.DeleteFileAjaxRequester||!this._options.deleteFile.enabled||this._options.cors.expected&&!qq.supportedFeatures.deleteFileCorsXhr&&(!qq.supportedFeatures.deleteFileCorsXdr||!this._options.cors.allowXdr))},_isAllowedExtension:function(e,t){var n=!1;return!e.length||(qq.each(e,function(e,i){if(qq.isString(i)){var r=new RegExp("\\."+i+"$","i");if(null!=t.match(r))return n=!0,!1}}),n)},_itemError:function(e,t,n){function i(e,t){s=s.replace(e,t)}var r,o,s=this._options.messages[e],a=[],l=[].concat(t),u=l[0],c=this._getButtonId(n),d=this._getValidationBase(c);return qq.each(d.allowedExtensions,function(e,t){qq.isString(t)&&a.push(t)}),r=a.join(", ").toLowerCase(),i("{file}",this._options.formatFileName(u)),i("{extensions}",r),i("{sizeLimit}",this._formatSize(d.sizeLimit)),i("{minSizeLimit}",this._formatSize(d.minSizeLimit)),o=s.match(/(\{\w+\})/g),null!==o&&qq.each(o,function(e,t){i(t,l[e])}),this._options.callbacks.onError(null,u,s,void 0),s},_manualRetry:function(e,t){if(this._onBeforeManualRetry(e))return this._netUploadedOrQueued++,this._uploadData.setStatus(e,qq.status.UPLOAD_RETRYING),t?t(e):this._handler.retry(e),!0},_maybeAllComplete:function(e,t){var n=this,i=this._getNotFinished();t===qq.status.UPLOAD_SUCCESSFUL?this._succeededSinceLastAllComplete.push(e):t===qq.status.UPLOAD_FAILED&&this._failedSinceLastAllComplete.push(e),0===i&&(this._succeededSinceLastAllComplete.length||this._failedSinceLastAllComplete.length)&&setTimeout(function(){n._onAllComplete(n._succeededSinceLastAllComplete,n._failedSinceLastAllComplete)},0)},_maybeHandleIos8SafariWorkaround:function(){var e=this;if(this._options.workarounds.ios8SafariUploads&&qq.ios800()&&qq.iosSafari())throw setTimeout(function(){window.alert(e._options.messages.unsupportedBrowserIos8Safari)},0),new qq.Error(this._options.messages.unsupportedBrowserIos8Safari)},_maybeParseAndSendUploadError:function(e,t,n,i){if(!n.success)if(i&&200!==i.status&&!n.error)this._options.callbacks.onError(e,t,"XHR returned response code "+i.status,i);else{var r=n.error?n.error:this._options.text.defaultResponseError;this._options.callbacks.onError(e,t,r,i)}},_maybeProcessNextItemAfterOnValidateCallback:function(e,t,n,i,r){var o=this;if(t.length>n)if(e||!this._options.validation.stopOnFirstInvalidFile)setTimeout(function(){var e=o._getValidationDescriptor(t[n]),s=o._getButtonId(t[n].file),a=o._getButton(s);o._handleCheckedCallback({name:"onValidate",callback:qq.bind(o._options.callbacks.onValidate,o,e,a),onSuccess:qq.bind(o._onValidateCallbackSuccess,o,t,n,i,r),onFailure:qq.bind(o._onValidateCallbackFailure,o,t,n,i,r),identifier:"Item '"+e.name+"', size: "+e.size})},0);else if(!e)for(;n<t.length;n++)o._fileOrBlobRejected(t[n].id)},_onAllComplete:function(e,t){this._totalProgress&&this._totalProgress.onAllComplete(e,t,this._preventRetries),this._options.callbacks.onAllComplete(qq.extend([],e),qq.extend([],t)),this._succeededSinceLastAllComplete=[],this._failedSinceLastAllComplete=[]},_onAutoRetry:function(e,t,n,i,r){var o=this;if(o._preventRetries[e]=n[o._options.retry.preventRetryResponseProperty],o._shouldAutoRetry(e,t,n)){var s=1e3*o._options.retry.autoAttemptDelay;return o._maybeParseAndSendUploadError.apply(o,arguments),o._options.callbacks.onAutoRetry(e,t,o._autoRetries[e]),o._onBeforeAutoRetry(e,t),o._uploadData.setStatus(e,qq.status.UPLOAD_RETRYING),o._retryTimeouts[e]=setTimeout(function(){o.log("Starting retry for "+t+"..."),r?r(e):o._handler.retry(e)},s),!0}},_onBeforeAutoRetry:function(e,t){this.log("Waiting "+this._options.retry.autoAttemptDelay+" seconds before retrying "+t+"...")},_onBeforeManualRetry:function(e){var t,n=this._currentItemLimit;return this._preventRetries[e]?(this.log("Retries are forbidden for id "+e,"warn"),!1):this._handler.isValid(e)?(t=this.getName(e),!1!==this._options.callbacks.onManualRetry(e,t)&&(n>0&&this._netUploadedOrQueued+1>n?(this._itemError("retryFailTooManyItems"),!1):(this.log("Retrying upload for '"+t+"' (id: "+e+")..."),!0))):(this.log("'"+e+"' is not a valid file ID","error"),!1)},_onCancel:function(e,t){this._netUploadedOrQueued--,clearTimeout(this._retryTimeouts[e]);var n=qq.indexOf(this._storedIds,e);!this._options.autoUpload&&n>=0&&this._storedIds.splice(n,1),this._uploadData.setStatus(e,qq.status.CANCELED)},_onComplete:function(e,t,n,i){return n.success?(n.thumbnailUrl&&(this._thumbnailUrls[e]=n.thumbnailUrl),this._netUploaded++,this._uploadData.setStatus(e,qq.status.UPLOAD_SUCCESSFUL)):(this._netUploadedOrQueued--,this._uploadData.setStatus(e,qq.status.UPLOAD_FAILED),!0===n[this._options.retry.preventRetryResponseProperty]&&(this._preventRetries[e]=!0)),this._maybeParseAndSendUploadError(e,t,n,i),!!n.success},_onDelete:function(e){this._uploadData.setStatus(e,qq.status.DELETING)},_onDeleteComplete:function(e,t,n){this.getName(e),n?this._handleDeleteFailed(e,t):this._handleDeleteSuccess(e)},_onInputChange:function(e){var t;if(qq.supportedFeatures.ajaxUploading){for(t=0;t<e.files.length;t++)this._annotateWithButtonId(e.files[t],e);this.addFiles(e.files)}else e.value.length>0&&this.addFiles(e);qq.each(this._buttons,function(e,t){t.reset()})},_onProgress:function(e,t,n,i){this._totalProgress&&this._totalProgress.onIndividualProgress(e,n,i)},_onSubmit:function(e,t){},_onSubmitCallbackSuccess:function(e,t){this._onSubmit.apply(this,arguments),this._uploadData.setStatus(e,qq.status.SUBMITTED),this._onSubmitted.apply(this,arguments),this._options.autoUpload?(this._options.callbacks.onSubmitted.apply(this,arguments),this._uploadFile(e)):(this._storeForLater(e),this._options.callbacks.onSubmitted.apply(this,arguments))},_onSubmitDelete:function(e,t,n){var i,r=this.getUuid(e);return t&&(i=qq.bind(t,this,e,r,n)),this._isDeletePossible()?(this._handleCheckedCallback({name:"onSubmitDelete",callback:qq.bind(this._options.callbacks.onSubmitDelete,this,e),onSuccess:i||qq.bind(this._deleteHandler.sendDelete,this,e,r,n),identifier:e}),!0):(this.log("Delete request ignored for ID "+e+", delete feature is disabled or request not possible due to CORS on a user agent that does not support pre-flighting.","warn"),!1)},_onSubmitted:function(e){},_onTotalProgress:function(e,t){this._options.callbacks.onTotalProgress(e,t)},_onUploadPrep:function(e){},_onUpload:function(e,t){this._uploadData.setStatus(e,qq.status.UPLOADING)},_onUploadChunk:function(e,t){},_onUploadStatusChange:function(e,t,n){n===qq.status.PAUSED&&clearTimeout(this._retryTimeouts[e])},_onValidateBatchCallbackFailure:function(e){var t=this;qq.each(e,function(e,n){t._fileOrBlobRejected(n.id)})},_onValidateBatchCallbackSuccess:function(e,t,n,i,r){var o,s=this._currentItemLimit,a=this._netUploadedOrQueued;0===s||a<=s?t.length>0?this._handleCheckedCallback({name:"onValidate",callback:qq.bind(this._options.callbacks.onValidate,this,e[0],r),onSuccess:qq.bind(this._onValidateCallbackSuccess,this,t,0,n,i),onFailure:qq.bind(this._onValidateCallbackFailure,this,t,0,n,i),identifier:"Item '"+t[0].file.name+"', size: "+t[0].file.size}):this._itemError("noFilesError"):(this._onValidateBatchCallbackFailure(t),o=this._options.messages.tooManyItemsError.replace(/\{netItems\}/g,a).replace(/\{itemLimit\}/g,s),this._batchError(o))},_onValidateCallbackFailure:function(e,t,n,i){var r=t+1;this._fileOrBlobRejected(e[t].id,e[t].file.name),this._maybeProcessNextItemAfterOnValidateCallback(!1,e,r,n,i)},_onValidateCallbackSuccess:function(e,t,n,i){var r=this,o=t+1,s=this._getValidationDescriptor(e[t]);this._validateFileOrBlobData(e[t],s).then(function(){r._upload(e[t].id,n,i),r._maybeProcessNextItemAfterOnValidateCallback(!0,e,o,n,i)},function(){r._maybeProcessNextItemAfterOnValidateCallback(!1,e,o,n,i)})},_prepareItemsForUpload:function(e,t,n){if(0===e.length)return void this._itemError("noFilesError");var i=this._getValidationDescriptors(e),r=this._getButtonId(e[0].file),o=this._getButton(r);this._handleCheckedCallback({name:"onValidateBatch",callback:qq.bind(this._options.callbacks.onValidateBatch,this,i,o),onSuccess:qq.bind(this._onValidateBatchCallbackSuccess,this,i,e,t,n,o),onFailure:qq.bind(this._onValidateBatchCallbackFailure,this,e),identifier:"batch validation"})},_preventLeaveInProgress:function(){var e=this;this._disposeSupport.attach(window,"beforeunload",function(t){if(e.getInProgress())return t=t||window.event,t.returnValue=e._options.messages.onLeave,e._options.messages.onLeave})},_refreshSessionData:function(){var e=this,t=this._options.session;qq.Session&&null!=this._options.session.endpoint&&(this._session||(qq.extend(t,{cors:this._options.cors}),t.log=qq.bind(this.log,this),t.addFileRecord=qq.bind(this._addCannedFile,this),this._session=new qq.Session(t)),setTimeout(function(){e._session.refresh().then(function(t,n){e._sessionRequestComplete(),e._options.callbacks.onSessionRequestComplete(t,!0,n)},function(t,n){e._options.callbacks.onSessionRequestComplete(t,!1,n)})},0))},_sessionRequestComplete:function(){},_setSize:function(e,t){this._uploadData.updateSize(e,t),this._totalProgress&&this._totalProgress.onNewSize(e)},_shouldAutoRetry:function(e,t,n){var i=this._uploadData.retrieve({id:e});return!!(!this._preventRetries[e]&&this._options.retry.enableAuto&&i.status!==qq.status.PAUSED&&(void 0===this._autoRetries[e]&&(this._autoRetries[e]=0),this._autoRetries[e]<this._options.retry.maxAutoAttempts))&&(this._autoRetries[e]+=1,!0)},_storeForLater:function(e){this._storedIds.push(e)},_trackButton:function(e){var t;(t=qq.supportedFeatures.ajaxUploading?this._handler.getFile(e).qqButtonId:this._getButtonId(this._handler.getInput(e)))&&(this._buttonIdsForFileIds[e]=t)},_updateFormSupportAndParams:function(e){this._options.form.element=e,this._formSupport=qq.FormSupport&&new qq.FormSupport(this._options.form,qq.bind(this.uploadStoredFiles,this),qq.bind(this.log,this)),this._formSupport&&this._formSupport.attachedToForm&&(this._paramsStore.addReadOnly(null,this._formSupport.getFormInputsAsObject),this._options.autoUpload=this._formSupport.newAutoUpload,this._formSupport.newEndpoint&&this.setEndpoint(this._formSupport.newEndpoint))},_upload:function(e,t,n){var i=this.getName(e);t&&this.setParams(t,e),n&&this.setEndpoint(n,e),this._handleCheckedCallback({name:"onSubmit",callback:qq.bind(this._options.callbacks.onSubmit,this,e,i),onSuccess:qq.bind(this._onSubmitCallbackSuccess,this,e,i),onFailure:qq.bind(this._fileOrBlobRejected,this,e,i),identifier:e})},_uploadFile:function(e){this._handler.upload(e)||this._uploadData.setStatus(e,qq.status.QUEUED)},_uploadStoredFiles:function(){for(var e,t,n=this;this._storedIds.length;)e=this._storedIds.shift(),this._uploadFile(e);(t=this.getUploads({status:qq.status.SUBMITTING}).length)&&(qq.log("Still waiting for "+t+" files to clear submit queue. Will re-parse stored IDs array shortly."),setTimeout(function(){n._uploadStoredFiles()},1e3))},_validateFileOrBlobData:function(e,t){var n=this,i=function(){return e.file instanceof qq.BlobProxy?e.file.referenceBlob:e.file}(),r=t.name,o=t.size,s=this._getButtonId(e.file),a=this._getValidationBase(s),l=new qq.Promise;return l.then(function(){},function(){n._fileOrBlobRejected(e.id,r)}),qq.isFileOrInput(i)&&!this._isAllowedExtension(a.allowedExtensions,r)?(this._itemError("typeError",r,i),l.failure()):this._options.validation.allowEmpty||0!==o?o>0&&a.sizeLimit&&o>a.sizeLimit?(this._itemError("sizeError",r,i),l.failure()):o>0&&o<a.minSizeLimit?(this._itemError("minSizeError",r,i),l.failure()):(qq.ImageValidation&&qq.supportedFeatures.imagePreviews&&qq.isFile(i)?new qq.ImageValidation(i,qq.bind(n.log,n)).validate(a.image).then(l.success,function(e){n._itemError(e+"ImageError",r,i),l.failure()}):l.success(),l):(this._itemError("emptyError",r,i),l.failure())},_wrapCallbacks:function(){var e,t,n;e=this,t=function(t,n,i){var r;try{return n.apply(e,i)}catch(n){r=n.message||n.toString(),e.log("Caught exception in '"+t+"' callback - "+r,"error")}};for(n in this._options.callbacks)!function(){var i,r;i=n,r=e._options.callbacks[i],e._options.callbacks[i]=function(){return t(i,r,arguments)}}()}}}(),function(){"use strict";qq.FineUploaderBasic=function(e){var t=this;this._options={debug:!1,button:null,multiple:!0,maxConnections:3,disableCancelForFormUploads:!1,autoUpload:!0,request:{customHeaders:{},endpoint:"/server/upload",filenameParam:"qqfilename",forceMultipart:!0,inputName:"qqfile",method:"POST",params:{},paramsInBody:!0,totalFileSizeName:"qqtotalfilesize",uuidName:"qquuid"},validation:{allowedExtensions:[],sizeLimit:0,minSizeLimit:0,itemLimit:0,stopOnFirstInvalidFile:!0,acceptFiles:null,image:{maxHeight:0,maxWidth:0,minHeight:0,minWidth:0},allowEmpty:!1},callbacks:{onSubmit:function(e,t){},onSubmitted:function(e,t){},onComplete:function(e,t,n,i){},onAllComplete:function(e,t){},onCancel:function(e,t){},onUpload:function(e,t){},onUploadChunk:function(e,t,n){},onUploadChunkSuccess:function(e,t,n,i){},onResume:function(e,t,n){},onProgress:function(e,t,n,i){},onTotalProgress:function(e,t){},onError:function(e,t,n,i){},onAutoRetry:function(e,t,n){},onManualRetry:function(e,t){},onValidateBatch:function(e){},onValidate:function(e){},onSubmitDelete:function(e){},onDelete:function(e){},onDeleteComplete:function(e,t,n){},onPasteReceived:function(e){},onStatusChange:function(e,t,n){},onSessionRequestComplete:function(e,t,n){}},messages:{typeError:"{file} has an invalid extension. Valid extension(s): {extensions}.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",noFilesError:"No files to upload.",tooManyItemsError:"Too many items ({netItems}) would be uploaded.  Item limit is {itemLimit}.",maxHeightImageError:"Image is too tall.",maxWidthImageError:"Image is too wide.",minHeightImageError:"Image is not tall enough.",minWidthImageError:"Image is not wide enough.",retryFailTooManyItems:"Retry failed - you have reached your file limit.",onLeave:"The files are being uploaded, if you leave now the upload will be canceled.",unsupportedBrowserIos8Safari:"Unrecoverable error - this browser does not permit file uploading of any kind due to serious bugs in iOS8 Safari.  Please use iOS8 Chrome until Apple fixes these issues."},retry:{enableAuto:!1,maxAutoAttempts:3,autoAttemptDelay:5,preventRetryResponseProperty:"preventRetry"},classes:{buttonHover:"qq-upload-button-hover",buttonFocus:"qq-upload-button-focus"},chunking:{enabled:!1,concurrent:{enabled:!1},mandatory:!1,paramNames:{partIndex:"qqpartindex",partByteOffset:"qqpartbyteoffset",chunkSize:"qqchunksize",totalFileSize:"qqtotalfilesize",totalParts:"qqtotalparts"},partSize:2e6,success:{endpoint:null}},resume:{enabled:!1,recordsExpireIn:7,paramNames:{resuming:"qqresume"}},formatFileName:function(e){return e},text:{defaultResponseError:"Upload failure reason unknown",fileInputTitle:"file input",sizeSymbols:["kB","MB","GB","TB","PB","EB"]},deleteFile:{enabled:!1,method:"DELETE",endpoint:"/server/upload",customHeaders:{},params:{}},cors:{expected:!1,sendCredentials:!1,allowXdr:!1},blobs:{defaultName:"misc_data"},paste:{targetElement:null,defaultName:"pasted_image"},camera:{ios:!1,button:null},extraButtons:[],session:{endpoint:null,params:{},customHeaders:{},refreshOnReset:!0},form:{element:"qq-form",autoUpload:!1,interceptSubmit:!0},scaling:{customResizer:null,sendOriginal:!0,orient:!0,defaultType:null,defaultQuality:80,failureText:"Failed to scale",includeExif:!1,sizes:[]},workarounds:{iosEmptyVideos:!0,ios8SafariUploads:!0,ios8BrowserCrash:!1}},qq.extend(this._options,e,!0),this._buttons=[],this._extraButtonSpecs={},this._buttonIdsForFileIds=[],this._wrapCallbacks(),this._disposeSupport=new qq.DisposeSupport,this._storedIds=[],this._autoRetries=[],this._retryTimeouts=[],this._preventRetries=[],this._thumbnailUrls=[],this._netUploadedOrQueued=0,this._netUploaded=0,this._uploadData=this._createUploadDataTracker(),this._initFormSupportAndParams(),this._customHeadersStore=this._createStore(this._options.request.customHeaders),this._deleteFileCustomHeadersStore=this._createStore(this._options.deleteFile.customHeaders),this._deleteFileParamsStore=this._createStore(this._options.deleteFile.params),this._endpointStore=this._createStore(this._options.request.endpoint),this._deleteFileEndpointStore=this._createStore(this._options.deleteFile.endpoint),this._handler=this._createUploadHandler(),this._deleteHandler=qq.DeleteFileAjaxRequester&&this._createDeleteHandler(),this._options.button&&(this._defaultButtonId=this._createUploadButton({element:this._options.button,title:this._options.text.fileInputTitle}).getButtonId()),this._generateExtraButtonSpecs(),this._handleCameraAccess(),this._options.paste.targetElement&&(qq.PasteSupport?this._pasteHandler=this._createPasteHandler():this.log("Paste support module not found","error")),this._preventLeaveInProgress(),this._imageGenerator=qq.ImageGenerator&&new qq.ImageGenerator(qq.bind(this.log,this)),this._refreshSessionData(),this._succeededSinceLastAllComplete=[],this._failedSinceLastAllComplete=[],this._scaler=qq.Scaler&&new qq.Scaler(this._options.scaling,qq.bind(this.log,this))||{},this._scaler.enabled&&(this._customNewFileHandler=qq.bind(this._scaler.handleNewFile,this._scaler)),qq.TotalProgress&&qq.supportedFeatures.progressBar&&(this._totalProgress=new qq.TotalProgress(qq.bind(this._onTotalProgress,this),function(e){var n=t._uploadData.retrieve({id:e});return n&&n.size||0})),this._currentItemLimit=this._options.validation.itemLimit},qq.FineUploaderBasic.prototype=qq.basePublicApi,qq.extend(qq.FineUploaderBasic.prototype,qq.basePrivateApi)}(),qq.AjaxRequester=function(e){"use strict";function t(){return qq.indexOf(["GET","POST","HEAD"],x.method)>=0}function n(e){var t=!1;return qq.each(t,function(e,n){if(qq.indexOf(["Accept","Accept-Language","Content-Language","Content-Type"],n)<0)return t=!0,!1}),t}function i(e){return x.cors.expected&&void 0===e.withCredentials}function r(){var e;return(window.XMLHttpRequest||window.ActiveXObject)&&(e=qq.createXhrInstance(),void 0===e.withCredentials&&(e=new XDomainRequest,e.onload=function(){},e.onerror=function(){},e.ontimeout=function(){},e.onprogress=function(){})),e}function o(e,t){var n=_[e].xhr;return n||(n=t||(x.cors.expected?r():qq.createXhrInstance()),_[e].xhr=n),n}function s(e){var t,n=qq.indexOf(q,e),i=x.maxConnections;delete _[e],q.splice(n,1),q.length>=i&&n<i&&(t=q[i-1],u(t))}function a(e,t){var n=o(e),r=x.method,a=!0===t;s(e),a?y(r+" request for "+e+" has failed","error"):i(n)||g(n.status)||(a=!0,y(r+" request for "+e+" has failed - response code "+n.status,"error")),x.onComplete(e,n,a)}function l(e){var t,n=_[e].additionalParams,i=x.mandatedParams;return x.paramsStore.get&&(t=x.paramsStore.get(e)),n&&qq.each(n,function(e,n){t=t||{},t[e]=n}),i&&qq.each(i,function(e,n){t=t||{},t[e]=n}),t}function u(e,t){var n,r=o(e,t),s=x.method,a=l(e),u=_[e].payload;return x.onSend(e),n=c(e,a,_[e].additionalQueryParams),i(r)?(r.onload=h(e),r.onerror=f(e)):r.onreadystatechange=d(e),p(e),r.open(s,n,!0),x.cors.expected&&x.cors.sendCredentials&&!i(r)&&(r.withCredentials=!0),m(e),y("Sending "+s+" request for "+e),u?r.send(u):b||!a?r.send():a&&x.contentType&&x.contentType.toLowerCase().indexOf("application/x-www-form-urlencoded")>=0?r.send(qq.obj2url(a,"")):a&&x.contentType&&x.contentType.toLowerCase().indexOf("application/json")>=0?r.send(JSON.stringify(a)):r.send(a),r}function c(e,t,n){var i=x.endpointStore.get(e),r=_[e].addToPath;return void 0!=r&&(i+="/"+r),b&&t&&(i=qq.obj2url(t,i)),n&&(i=qq.obj2url(n,i)),i}function d(e){return function(){4===o(e).readyState&&a(e)}}function p(e){var t=x.onProgress;t&&(o(e).upload.onprogress=function(n){n.lengthComputable&&t(e,n.loaded,n.total)})}function h(e){return function(){a(e)}}function f(e){return function(){a(e,!0)}}function m(e){var r=o(e),s=x.customHeaders,a=_[e].additionalHeaders||{},l=x.method,u={};i(r)||(x.acceptHeader&&r.setRequestHeader("Accept",x.acceptHeader),x.allowXRequestedWithAndCacheControl&&(x.cors.expected&&t()&&!n(s)||(r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("Cache-Control","no-cache"))),!x.contentType||"POST"!==l&&"PUT"!==l||r.setRequestHeader("Content-Type",x.contentType),qq.extend(u,qq.isFunction(s)?s(e):s),qq.extend(u,a),qq.each(u,function(e,t){r.setRequestHeader(e,t)}))}function g(e){return qq.indexOf(x.successfulResponseCodes[x.method],e)>=0}function v(e,t,n,i,r,o,s){if(_[e]={addToPath:n,additionalParams:i,additionalQueryParams:r,additionalHeaders:o,payload:s},q.push(e)<=x.maxConnections)return u(e,t)}var y,b,q=[],_={},x={acceptHeader:null,validMethods:["PATCH","POST","PUT"],method:"POST",contentType:"application/x-www-form-urlencoded",maxConnections:3,customHeaders:{},endpointStore:{},paramsStore:{},mandatedParams:{},allowXRequestedWithAndCacheControl:!0,successfulResponseCodes:{DELETE:[200,202,204],PATCH:[200,201,202,203,204],POST:[200,201,202,203,204],PUT:[200,201,202,203,204],GET:[200]},cors:{expected:!1,sendCredentials:!1},log:function(e,t){},onSend:function(e){},onComplete:function(e,t,n){},onProgress:null};if(qq.extend(x,e),y=x.log,qq.indexOf(x.validMethods,x.method)<0)throw new Error("'"+x.method+"' is not a supported method for this type of request!");b="GET"===x.method||"DELETE"===x.method,qq.extend(this,{initTransport:function(e){var t,n,i,r,o,s;return{withPath:function(e){return t=e,this},withParams:function(e){return n=e,this},withQueryParams:function(e){return s=e,this},withHeaders:function(e){return i=e,this},withPayload:function(e){return r=e,this},withCacheBuster:function(){return o=!0,this},send:function(a){return o&&qq.indexOf(["GET","DELETE"],x.method)>=0&&(n.qqtimestamp=(new Date).getTime()),v(e,a,t,n,s,i,r)}}},canceled:function(e){s(e)}})},qq.UploadHandler=function(e){"use strict";var t=e.proxy,n={},i=t.onCancel,r=t.getName;qq.extend(this,{add:function(e,t){n[e]=t,n[e].temp={}},cancel:function(e){var t=this,o=new qq.Promise;i(e,r(e),o).then(function(){t.isValid(e)&&(n[e].canceled=!0,t.expunge(e)),o.success()})},expunge:function(e){delete n[e]},getThirdPartyFileId:function(e){return n[e].key},isValid:function(e){return void 0!==n[e]},reset:function(){n={}},_getFileState:function(e){return n[e]},_setThirdPartyFileId:function(e,t){n[e].key=t},_wasCanceled:function(e){return!!n[e].canceled}})},qq.UploadHandlerController=function(e,t){"use strict";var n,i,r,o=this,s=!1,a=!1,l={paramsStore:{},maxConnections:3,chunking:{enabled:!1,multiple:{enabled:!1}},log:function(e,t){},onProgress:function(e,t,n,i){},onComplete:function(e,t,n,i){},onCancel:function(e,t){},onUploadPrep:function(e){},onUpload:function(e,t){},onUploadChunk:function(e,t,n){},onUploadChunkSuccess:function(e,t,n,i){},onAutoRetry:function(e,t,n,i){},onResume:function(e,t,n){},onUuidChanged:function(e,t){},getName:function(e){},setSize:function(e,t){},isQueued:function(e){},getIdsInProxyGroup:function(e){},getIdsInBatch:function(e){}},u={done:function(e,t,n,i){var o=r._getChunkData(e,t);r._getFileState(e).attemptingResume=!1,delete r._getFileState(e).temp.chunkProgress[t],r._getFileState(e).loaded+=o.size,l.onUploadChunkSuccess(e,r._getChunkDataForCallback(o),n,i)},finalize:function(e){var t=l.getSize(e),n=l.getName(e);i("All chunks have been uploaded for "+e+" - finalizing...."),r.finalizeChunks(e).then(function(o,s){i("Finalize successful for "+e);var a=p.normalizeResponse(o,!0);l.onProgress(e,n,t,t),r._maybeDeletePersistedChunkData(e),p.cleanup(e,a,s)},function(t,r){var o=p.normalizeResponse(t,!1);i("Problem finalizing chunks for file ID "+e+" - "+o.error,"error"),o.reset&&u.reset(e),l.onAutoRetry(e,n,o,r)||p.cleanup(e,o,r)})},handleFailure:function(e,t,n,o){var s=l.getName(t);i("Chunked upload request failed for "+t+", chunk "+e),r.clearCachedChunk(t,e);var d,h=p.normalizeResponse(n,!1);h.reset?u.reset(t):(d=qq.indexOf(r._getFileState(t).chunking.inProgress,e))>=0&&(r._getFileState(t).chunking.inProgress.splice(d,1),r._getFileState(t).chunking.remaining.unshift(e)),r._getFileState(t).temp.ignoreFailure||(a&&(r._getFileState(t).temp.ignoreFailure=!0,i(qq.format("Going to attempt to abort these chunks: {}. These are currently in-progress: {}.",JSON.stringify(Object.keys(r._getXhrs(t))),JSON.stringify(r._getFileState(t).chunking.inProgress))),qq.each(r._getXhrs(t),function(e,n){i(qq.format("Attempting to abort file {}.{}. XHR readyState {}. ",t,e,n.readyState)),n.abort(),n._cancelled=!0}),r.moveInProgressToRemaining(t),c.free(t,!0)),l.onAutoRetry(t,s,h,o)||p.cleanup(t,h,o))},hasMoreParts:function(e){return!!r._getFileState(e).chunking.remaining.length},nextPart:function(e){var t=r._getFileState(e).chunking.remaining.shift();return t>=r._getTotalChunks(e)&&(t=null),t},reset:function(e){i("Server or callback has ordered chunking effort to be restarted on next attempt for item ID "+e,"error"),r._maybeDeletePersistedChunkData(e),r.reevaluateChunking(e),r._getFileState(e).loaded=0},sendNext:function(e){var t=l.getSize(e),n=l.getName(e),o=u.nextPart(e),s=r._getChunkData(e,o),d=r._getFileState(e).attemptingResume,h=r._getFileState(e).chunking.inProgress||[];null==r._getFileState(e).loaded&&(r._getFileState(e).loaded=0),d&&!1===l.onResume(e,n,s)&&(u.reset(e),o=u.nextPart(e),s=r._getChunkData(e,o),d=!1),null==o&&0===h.length?u.finalize(e):(i(qq.format("Sending chunked upload request for item {}.{}, bytes {}-{} of {}.",e,o,s.start+1,s.end,t)),l.onUploadChunk(e,n,r._getChunkDataForCallback(s)),h.push(o),r._getFileState(e).chunking.inProgress=h,a&&c.open(e,o),a&&c.available()&&r._getFileState(e).chunking.remaining.length&&u.sendNext(e),0===s.blob.size?(i(qq.format("Chunk {} for file {} will not be uploaded, zero sized chunk.",o,e),"error"),u.handleFailure(o,e,"File is no longer available",null)):r.uploadChunk(e,o,d).then(function(t,n){i("Chunked upload request succeeded for "+e+", chunk "+o),r.clearCachedChunk(e,o);var s=r._getFileState(e).chunking.inProgress||[],a=p.normalizeResponse(t,!0),l=qq.indexOf(s,o);i(qq.format("Chunk {} for file {} uploaded successfully.",o,e)),u.done(e,o,a,n),l>=0&&s.splice(l,1),r._maybePersistChunkedState(e),u.hasMoreParts(e)||0!==s.length?u.hasMoreParts(e)?u.sendNext(e):i(qq.format("File ID {} has no more chunks to send and these chunk indexes are still marked as in-progress: {}",e,JSON.stringify(s))):u.finalize(e)},function(t,n){u.handleFailure(o,e,t,n)}).done(function(){r.clearXhr(e,o)}))}},c={_open:[],_openChunks:{},_waiting:[],available:function(){var e=l.maxConnections,t=0,n=0;return qq.each(c._openChunks,function(e,i){t++,n+=i.length}),e-(c._open.length-t+n)},free:function(e,t){var n,o=!t,s=qq.indexOf(c._waiting,e),a=qq.indexOf(c._open,e);delete c._openChunks[e],p.getProxyOrBlob(e)instanceof qq.BlobProxy&&(i("Generated blob upload has ended for "+e+", disposing generated blob."),delete r._getFileState(e).file),s>=0?c._waiting.splice(s,1):o&&a>=0&&(c._open.splice(a,1),(n=c._waiting.shift())>=0&&(c._open.push(n),p.start(n)))},getWaitingOrConnected:function(){var e=[];return qq.each(c._openChunks,function(t,n){n&&n.length&&e.push(parseInt(t))}),qq.each(c._open,function(t,n){c._openChunks[n]||e.push(parseInt(n))}),e=e.concat(c._waiting)},isUsingConnection:function(e){return qq.indexOf(c._open,e)>=0},open:function(e,t){return null==t&&c._waiting.push(e),!!c.available()&&(null==t?(c._waiting.pop(),c._open.push(e)):function(){var n=c._openChunks[e]||[];n.push(t),c._openChunks[e]=n}(),!0)},reset:function(){c._waiting=[],c._open=[]}},d={send:function(e,t){r._getFileState(e).loaded=0,i("Sending simple upload request for "+e),r.uploadFile(e).then(function(n,r){i("Simple upload request succeeded for "+e);var o=p.normalizeResponse(n,!0),s=l.getSize(e);l.onProgress(e,t,s,s),p.maybeNewUuid(e,o),p.cleanup(e,o,r)},function(n,r){i("Simple upload request failed for "+e);var o=p.normalizeResponse(n,!1);l.onAutoRetry(e,t,o,r)||p.cleanup(e,o,r)})}},p={cancel:function(e){i("Cancelling "+e),l.paramsStore.remove(e),c.free(e)},cleanup:function(e,t,n){var i=l.getName(e);l.onComplete(e,i,t,n),r._getFileState(e)&&r._clearXhrs&&r._clearXhrs(e),c.free(e)},getProxyOrBlob:function(e){return r.getProxy&&r.getProxy(e)||r.getFile&&r.getFile(e)},initHandler:function(){r=new(t?qq[t]:qq.traditional)[(qq.supportedFeatures.ajaxUploading?"Xhr":"Form")+"UploadHandler"](l,{getDataByUuid:l.getDataByUuid,getName:l.getName,getSize:l.getSize,getUuid:l.getUuid,log:i,onCancel:l.onCancel,onProgress:l.onProgress,onUuidChanged:l.onUuidChanged}),r._removeExpiredChunkingRecords&&r._removeExpiredChunkingRecords()},isDeferredEligibleForUpload:function(e){return l.isQueued(e)},maybeDefer:function(e,t){return t&&!r.getFile(e)&&t instanceof qq.BlobProxy?(l.onUploadPrep(e),i("Attempting to generate a blob on-demand for "+e),t.create().then(function(t){i("Generated an on-demand blob for "+e),r.updateBlob(e,t),l.setSize(e,t.size),r.reevaluateChunking(e),p.maybeSendDeferredFiles(e)},function(t){var r={};t&&(r.error=t),i(qq.format("Failed to generate blob for ID {}.  Error message: {}.",e,t),"error"),l.onComplete(e,l.getName(e),qq.extend(r,n),null),p.maybeSendDeferredFiles(e),c.free(e)}),!1):p.maybeSendDeferredFiles(e)},maybeSendDeferredFiles:function(e){var t=l.getIdsInProxyGroup(e),n=!1;return t&&t.length?(i("Maybe ready to upload proxy group file "+e),qq.each(t,function(t,i){if(p.isDeferredEligibleForUpload(i)&&r.getFile(i))n=i===e,p.now(i);else if(p.isDeferredEligibleForUpload(i))return!1})):(n=!0,p.now(e)),n},maybeNewUuid:function(e,t){void 0!==t.newUuid&&l.onUuidChanged(e,t.newUuid)},normalizeResponse:function(e,t){var n=e;return qq.isObject(e)||(n={},qq.isString(e)&&!t&&(n.error=e)),n.success=t,n},now:function(e){var t=l.getName(e);if(!o.isValid(e))throw new qq.Error(e+" is not a valid file ID to upload!");l.onUpload(e,t),s&&r._shouldChunkThisFile(e)?u.sendNext(e):d.send(e,t)},start:function(e){var t=p.getProxyOrBlob(e);return t?p.maybeDefer(e,t):(p.now(e),!0)}};qq.extend(this,{add:function(e,t){r.add.apply(this,arguments)},upload:function(e){return!!c.open(e)&&p.start(e)},retry:function(e){return a&&(r._getFileState(e).temp.ignoreFailure=!1),c.isUsingConnection(e)?p.start(e):o.upload(e)},cancel:function(e){var t=r.cancel(e);qq.isGenericPromise(t)?t.then(function(){p.cancel(e)}):!1!==t&&p.cancel(e)},cancelAll:function(){var e,t=c.getWaitingOrConnected();if(t.length)for(e=t.length-1;e>=0;e--)o.cancel(t[e]);c.reset()},getFile:function(e){return r.getProxy&&r.getProxy(e)?r.getProxy(e).referenceBlob:r.getFile&&r.getFile(e)},isProxied:function(e){return!(!r.getProxy||!r.getProxy(e))},getInput:function(e){if(r.getInput)return r.getInput(e)},reset:function(){i("Resetting upload handler"),o.cancelAll(),c.reset(),r.reset()},expunge:function(e){if(o.isValid(e))return r.expunge(e)},isValid:function(e){return r.isValid(e)},getResumableFilesData:function(){return r.getResumableFilesData?r.getResumableFilesData():[]},getThirdPartyFileId:function(e){if(o.isValid(e))return r.getThirdPartyFileId(e)},pause:function(e){return!!(o.isResumable(e)&&r.pause&&o.isValid(e)&&r.pause(e))&&(c.free(e),r.moveInProgressToRemaining(e),!0)},isResumable:function(e){return!!r.isResumable&&r.isResumable(e)}}),qq.extend(l,e),i=l.log,s=l.chunking.enabled&&qq.supportedFeatures.chunking,a=s&&l.chunking.concurrent.enabled,n=function(){var e={};return e[l.preventRetryParam]=!0,e}(),p.initHandler()},qq.WindowReceiveMessage=function(e){"use strict";var t={log:function(e,t){}},n={};qq.extend(t,e),qq.extend(this,{receiveMessage:function(e,t){var i=function(e){t(e.data)};window.postMessage?n[e]=qq(window).attach("message",i):log("iframe message passing not supported in this browser!","error")},stopReceivingMessages:function(e){if(window.postMessage){var t=n[e];t&&t()}}})},qq.FormUploadHandler=function(e){"use strict";function t(e){delete c[e],p&&(clearTimeout(d[e]),delete d[e],g.stopReceivingMessages(e));var t=document.getElementById(s._getIframeName(e));t&&(t.setAttribute("src","javascript:false;"),qq(t).remove())}function n(e){return e.split("_")[0]}function i(e){var t=qq.toElement("<iframe src='javascript:false;' name='"+e+"' />");return t.setAttribute("id",e),t.style.display="none",document.body.appendChild(t),t}function r(e,t){var i=e.id,r=n(i);u[f(r)]=t,c[r]=qq(e).attach("load",function(){s.getInput(r)&&(m("Received iframe load event for CORS upload request (iframe name "+i+")"),d[i]=setTimeout(function(){var e="No valid message received from loaded iframe for iframe name "+i;m(e,"error"),t({error:e})},1e3))}),g.receiveMessage(i,function(e){m("Received the following window message: '"+e+"'");var t,r=(n(i),s._parseJsonResponse(e)),o=r.uuid;o&&u[o]?(m("Handling response for iframe name "+i),clearTimeout(d[i]),delete d[i],s._detachLoadEvent(i),t=u[o],delete u[o],g.stopReceivingMessages(i),t(r)):o||m("'"+e+"' does not contain a UUID - ignoring.")})}var o=e.options,s=this,a=e.proxy,l=qq.getUniqueId(),u={},c={},d={},p=o.isCors,h=o.inputName,f=a.getUuid,m=a.log,g=new qq.WindowReceiveMessage({log:m});qq.extend(this,new qq.UploadHandler(e)),qq.override(this,function(e){return{add:function(t,n){e.add(t,{input:n}),n.setAttribute("name",h),n.parentNode&&qq(n).remove()},expunge:function(n){t(n),e.expunge(n)},isValid:function(t){return e.isValid(t)&&void 0!==s._getFileState(t).input}}}),qq.extend(this,{getInput:function(e){return s._getFileState(e).input},_attachLoadEvent:function(e,t){var n;p?r(e,t):c[e.id]=qq(e).attach("load",function(){if(m("Received response for "+e.id),e.parentNode){try{if(e.contentDocument&&e.contentDocument.body&&"false"==e.contentDocument.body.innerHTML)return}catch(e){m("Error when attempting to access iframe during handling of upload response ("+e.message+")","error"),n={success:!1}}t(n)}})},_createIframe:function(e){return i(s._getIframeName(e))},_detachLoadEvent:function(e){void 0!==c[e]&&(c[e](),delete c[e])},_getIframeName:function(e){return e+"_"+l},_initFormForUpload:function(e){var t=e.method,n=e.endpoint,i=e.params,r=e.paramsInBody,o=e.targetName,s=qq.toElement("<form method='"+t+"' enctype='multipart/form-data'></form>"),a=n;return r?qq.obj2Inputs(i,s):a=qq.obj2url(i,n),s.setAttribute("action",a),s.setAttribute("target",o),s.style.display="none",document.body.appendChild(s),s},_parseJsonResponse:function(e){var t={};try{t=qq.parseJson(e)}catch(e){m("Error when attempting to parse iframe upload response ("+e.message+")","error")}return t}})},qq.XhrUploadHandler=function(e){"use strict";function t(e){qq.each(n._getXhrs(e),function(t,i){var r=n._getAjaxRequester(e,t);i.onreadystatechange=null,i.upload.onprogress=null,i.abort(),r&&r.canceled&&r.canceled(e)})}var n=this,i=e.options.namespace,r=e.proxy,o=e.options.chunking,s=e.options.resume,a=o&&e.options.chunking.enabled&&qq.supportedFeatures.chunking,l=s&&e.options.resume.enabled&&a&&qq.supportedFeatures.resume,u=r.getName,c=r.getSize,d=r.getUuid,p=r.getEndpoint,h=r.getDataByUuid,f=r.onUuidChanged,m=r.onProgress,g=r.log;qq.extend(this,new qq.UploadHandler(e)),qq.override(this,function(e){return{add:function(t,i){if(qq.isFile(i)||qq.isBlob(i))e.add(t,{file:i});else{if(!(i instanceof qq.BlobProxy))throw new Error("Passed obj is not a File, Blob, or proxy");e.add(t,{proxy:i})}n._initTempState(t),l&&n._maybePrepareForResume(t)},expunge:function(i){t(i),n._maybeDeletePersistedChunkData(i),n._clearXhrs(i),e.expunge(i)}}}),qq.extend(this,{clearCachedChunk:function(e,t){delete n._getFileState(e).temp.cachedChunks[t]},clearXhr:function(e,t){var i=n._getFileState(e).temp;i.xhrs&&delete i.xhrs[t],i.ajaxRequesters&&delete i.ajaxRequesters[t]},finalizeChunks:function(e,t){var i=n._getTotalChunks(e)-1,r=n._getXhr(e,i);return t?(new qq.Promise).success(t(r),r):(new qq.Promise).success({},r)},getFile:function(e){return n.isValid(e)&&n._getFileState(e).file},getProxy:function(e){return n.isValid(e)&&n._getFileState(e).proxy},getResumableFilesData:function(){var e=[];return n._iterateResumeRecords(function(t,i){n.moveInProgressToRemaining(null,i.chunking.inProgress,i.chunking.remaining);var r={name:i.name,remaining:i.chunking.remaining,size:i.size,uuid:i.uuid};i.key&&(r.key=i.key),e.push(r)}),e},isResumable:function(e){return!!o&&n.isValid(e)&&!n._getFileState(e).notResumable},moveInProgressToRemaining:function(e,t,i){var r=t||n._getFileState(e).chunking.inProgress,o=i||n._getFileState(e).chunking.remaining;r&&(g(qq.format("Moving these chunks from in-progress {}, to remaining.",JSON.stringify(r))),r.reverse(),qq.each(r,function(e,t){o.unshift(t)}),r.length=0)},pause:function(e){if(n.isValid(e))return g(qq.format("Aborting XHR upload for {} '{}' due to pause instruction.",e,u(e))),n._getFileState(e).paused=!0,t(e),!0},reevaluateChunking:function(e){if(o&&n.isValid(e)){var t,i,r=n._getFileState(e);if(delete r.chunking,r.chunking={},(t=n._getTotalChunks(e))>1||o.mandatory){for(r.chunking.enabled=!0,r.chunking.parts=t,r.chunking.remaining=[],i=0;i<t;i++)r.chunking.remaining.push(i);n._initTempState(e)}else r.chunking.enabled=!1}},updateBlob:function(e,t){n.isValid(e)&&(n._getFileState(e).file=t)},_clearXhrs:function(e){var t=n._getFileState(e).temp;qq.each(t.ajaxRequesters,function(e){delete t.ajaxRequesters[e]}),qq.each(t.xhrs,function(e){delete t.xhrs[e]})},_createXhr:function(e,t){return n._registerXhr(e,t,qq.createXhrInstance())},_getAjaxRequester:function(e,t){var i=null==t?-1:t;return n._getFileState(e).temp.ajaxRequesters[i]},_getChunkData:function(e,t){var i=o.partSize,r=c(e),s=n.getFile(e),a=i*t,l=a+i>=r?r:a+i,u=n._getTotalChunks(e),d=this._getFileState(e).temp.cachedChunks,p=d[t]||qq.sliceBlob(s,a,l);return d[t]=p,{part:t,start:a,end:l,count:u,blob:p,size:l-a}},_getChunkDataForCallback:function(e){return{partIndex:e.part,startByte:e.start+1,endByte:e.end,totalParts:e.count}},_getLocalStorageId:function(e){var t=u(e),n=c(e),r=o.partSize,s=p(e);return qq.format("qq{}resume{}-{}-{}-{}-{}",i,"5.0",t,n,r,s)},_getMimeType:function(e){return n.getFile(e).type},_getPersistableData:function(e){return n._getFileState(e).chunking},_getTotalChunks:function(e){if(o){var t=c(e),n=o.partSize;return Math.ceil(t/n)}},_getXhr:function(e,t){var i=null==t?-1:t;return n._getFileState(e).temp.xhrs[i]},_getXhrs:function(e){return n._getFileState(e).temp.xhrs},_iterateResumeRecords:function(e){l&&qq.each(localStorage,function(t,n){0===t.indexOf(qq.format("qq{}resume",i))&&e(t,JSON.parse(n))})},_initTempState:function(e){n._getFileState(e).temp={ajaxRequesters:{},chunkProgress:{},xhrs:{},cachedChunks:{}}},_markNotResumable:function(e){n._getFileState(e).notResumable=!0},_maybeDeletePersistedChunkData:function(e){var t;return!!(l&&n.isResumable(e)&&(t=n._getLocalStorageId(e))&&localStorage.getItem(t))&&(localStorage.removeItem(t),!0)},_maybePrepareForResume:function(e){var t,i,r=n._getFileState(e);l&&void 0===r.key&&(t=n._getLocalStorageId(e),(i=localStorage.getItem(t))&&(i=JSON.parse(i),h(i.uuid)?n._markNotResumable(e):(g(qq.format("Identified file with ID {} and name of {} as resumable.",e,u(e))),f(e,i.uuid),r.key=i.key,r.chunking=i.chunking,r.loaded=i.loaded,r.attemptingResume=!0,n.moveInProgressToRemaining(e))))},_maybePersistChunkedState:function(e){var t,i,r=n._getFileState(e);if(l&&n.isResumable(e)){t=n._getLocalStorageId(e),i={name:u(e),size:c(e),uuid:d(e),key:r.key,chunking:r.chunking,loaded:r.loaded,lastUpdated:Date.now()};try{localStorage.setItem(t,JSON.stringify(i))}catch(t){g(qq.format("Unable to save resume data for '{}' due to error: '{}'.",e,t.toString()),"warn")}}},_registerProgressHandler:function(e,t,i){var r=n._getXhr(e,t),o=u(e),s={simple:function(t,n){var i=c(e);t===n?m(e,o,i,i):m(e,o,t>=i?i-1:t,i)},chunked:function(r,s){var a=n._getFileState(e).temp.chunkProgress,l=n._getFileState(e).loaded,u=r,d=s,p=c(e),h=u-(d-i),f=l;a[t]=h,qq.each(a,function(e,t){f+=t}),m(e,o,f,p)}};r.upload.onprogress=function(e){e.lengthComputable&&s[null==i?"simple":"chunked"](e.loaded,e.total)}},_registerXhr:function(e,t,i,r){var o=null==t?-1:t,s=n._getFileState(e).temp;return s.xhrs=s.xhrs||{},s.ajaxRequesters=s.ajaxRequesters||{},s.xhrs[o]=i,r&&(s.ajaxRequesters[o]=r),i},_removeExpiredChunkingRecords:function(){var e=s.recordsExpireIn;n._iterateResumeRecords(function(t,n){var i=new Date(n.lastUpdated);i.setDate(i.getDate()+e),i.getTime()<=Date.now()&&(g("Removing expired resume record with key "+t),localStorage.removeItem(t))})},_shouldChunkThisFile:function(e){var t=n._getFileState(e);return t.chunking||n.reevaluateChunking(e),t.chunking.enabled}})},qq.DeleteFileAjaxRequester=function(e){"use strict";var t,n={method:"DELETE",uuidParamName:"qquuid",endpointStore:{},maxConnections:3,customHeaders:function(e){return{}},paramsStore:{},cors:{expected:!1,sendCredentials:!1},log:function(e,t){},onDelete:function(e){},onDeleteComplete:function(e,t,n){}};qq.extend(n,e),t=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",validMethods:["POST","DELETE"],method:n.method,endpointStore:n.endpointStore,paramsStore:n.paramsStore,mandatedParams:function(){return"POST"===n.method.toUpperCase()?{_method:"DELETE"}:{}}(),maxConnections:n.maxConnections,customHeaders:function(e){return n.customHeaders.get(e)},log:n.log,onSend:n.onDelete,onComplete:n.onDeleteComplete,cors:n.cors})),qq.extend(this,{sendDelete:function(e,i,r){var o=r||{};n.log("Submitting delete file request for "+e),"DELETE"===n.method?t.initTransport(e).withPath(i).withParams(o).send():(o[n.uuidParamName]=i,t.initTransport(e).withParams(o).send())}})},function(){function e(e){var t,n=e.naturalWidth,i=e.naturalHeight,r=document.createElement("canvas");return n*i>1048576&&(r.width=r.height=1,t=r.getContext("2d"),t.drawImage(e,1-n,0),0===t.getImageData(0,0,1,1).data[3])}function t(e,t,n){var i,r,o,s,a=document.createElement("canvas"),l=0,u=n,c=n;for(a.width=1,a.height=n,i=a.getContext("2d"),i.drawImage(e,0,0),r=i.getImageData(0,0,1,n).data;c>l;)o=r[4*(c-1)+3],0===o?u=c:l=c,c=u+l>>1;return s=c/n,0===s?1:s}function n(e,t,n,i){var o=document.createElement("canvas"),s=n.mime||"image/jpeg",a=new qq.Promise;return r(e,t,o,n,i).then(function(){a.success(o.toDataURL(s,n.quality||.8))}),a}function i(e){if(!qq.ios())throw new qq.Error("Downsampled dimensions can only be reliably calculated for iOS!");if(e.origHeight*e.origWidth>5241e3)return{newHeight:Math.round(Math.sqrt(e.origHeight/e.origWidth*5241e3)),newWidth:Math.round(Math.sqrt(e.origWidth/e.origHeight*5241e3))}}function r(n,r,a,l,u){var c,d=n.naturalWidth,p=n.naturalHeight,h=l.width,f=l.height,m=a.getContext("2d"),g=new qq.Promise;return m.save(),l.resize?o({blob:r,canvas:a,image:n,imageHeight:p,imageWidth:d,orientation:l.orientation,resize:l.resize,targetHeight:f,targetWidth:h}):(qq.supportedFeatures.unlimitedScaledImageSize||(c=i({origWidth:h,origHeight:f}))&&(qq.log(qq.format("Had to reduce dimensions due to device limitations from {}w / {}h to {}w / {}h",h,f,c.newWidth,c.newHeight),"warn"),h=c.newWidth,f=c.newHeight),s(a,h,f,l.orientation),qq.ios()?function(){e(n)&&(d/=2,p/=2);var i,r,o,s=1024,a=document.createElement("canvas"),l=u?t(n,d,p):1,c=Math.ceil(s*h/d),g=Math.ceil(s*f/p/l),v=0,y=0;for(a.width=a.height=s,i=a.getContext("2d");v<p;){for(r=0,o=0;r<d;)i.clearRect(0,0,s,s),i.drawImage(n,-r,-v),m.drawImage(a,0,0,s,s,o,y,c,g),r+=s,o+=c;v+=s,y+=g}m.restore(),a=i=null}():m.drawImage(n,0,0,h,f),a.qqImageRendered&&a.qqImageRendered(),g.success(),g)}function o(e){var t=e.blob,n=e.image,i=e.imageHeight,r=e.imageWidth,o=e.orientation,a=new qq.Promise,l=e.resize,u=document.createElement("canvas"),c=u.getContext("2d"),d=e.canvas,p=e.targetHeight,h=e.targetWidth;return s(u,r,i,o),d.height=p,d.width=h,c.drawImage(n,0,0),l({blob:t,height:p,image:n,sourceCanvas:u,targetCanvas:d,width:h}).then(function(){d.qqImageRendered&&d.qqImageRendered(),a.success()},a.failure),a}function s(e,t,n,i){switch(i){case 5:case 6:case 7:case 8:e.width=n,e.height=t;break;default:e.width=t,e.height=n}var r=e.getContext("2d");switch(i){case 2:r.translate(t,0),r.scale(-1,1);break;case 3:r.translate(t,n),r.rotate(Math.PI);break;case 4:r.translate(0,n),r.scale(1,-1);break;case 5:r.rotate(.5*Math.PI),r.scale(1,-1);break;case 6:r.rotate(.5*Math.PI),r.translate(0,-n);break;case 7:r.rotate(.5*Math.PI),r.translate(t,-n),r.scale(-1,1);break;case 8:r.rotate(-.5*Math.PI),r.translate(-t,0)}}function a(e,t){var n=this;window.Blob&&e instanceof Blob&&function(){var t=new Image,i=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;if(!i)throw Error("No createObjectURL function found to create blob url");t.src=i.createObjectURL(e),n.blob=e,e=t}(),e.naturalWidth||e.naturalHeight||(e.onload=function(){var e=n.imageLoadListeners;e&&(n.imageLoadListeners=null,setTimeout(function(){for(var t=0,n=e.length;t<n;t++)e[t]()},0))},e.onerror=t,this.imageLoadListeners=[]),this.srcImage=e}a.prototype.render=function(e,t){t=t||{};var i,o=this,s=this.srcImage.naturalWidth,a=this.srcImage.naturalHeight,l=t.width,u=t.height,c=t.maxWidth,d=t.maxHeight,p=!this.blob||"image/jpeg"===this.blob.type,h=e.tagName.toLowerCase();if(this.imageLoadListeners)return void this.imageLoadListeners.push(function(){o.render(e,t)});l&&!u?u=a*l/s<<0:u&&!l?l=s*u/a<<0:(l=s,u=a),c&&l>c&&(l=c,u=a*l/s<<0),d&&u>d&&(u=d,l=s*u/a<<0),i={width:l,height:u},qq.each(t,function(e,t){i[e]=t}),"img"===h?function(){var t=e.src;n(o.srcImage,o.blob,i,p).then(function(n){e.src=n,t===e.src&&e.onload()})}():"canvas"===h&&r(this.srcImage,this.blob,e,i,p),"function"==typeof this.onrender&&this.onrender(e)},qq.MegaPixImage=a}(),qq.ImageGenerator=function(e){"use strict";function t(e){return"img"===e.tagName.toLowerCase()}function n(e){return"canvas"===e.tagName.toLowerCase()}function i(){return void 0!==(new Image).crossOrigin}function r(){var e=document.createElement("canvas");return e.getContext&&e.getContext("2d")}function o(e){var t=e.split("/"),n=t[t.length-1].split("?")[0],i=qq.getExtension(n);switch(i=i&&i.toLowerCase()){case"jpeg":case"jpg":return"image/jpeg";case"png":return"image/png";case"bmp":return"image/bmp";case"gif":return"image/gif";case"tiff":case"tif":return"image/tiff"}}function s(e){var t,n,i,r=document.createElement("a");return r.href=e,t=r.protocol,i=r.port,n=r.hostname,t.toLowerCase()!==window.location.protocol.toLowerCase()||n.toLowerCase()!==window.location.hostname.toLowerCase()||i!==window.location.port&&!qq.ie()}function a(t,n){t.onload=function(){t.onload=null,t.onerror=null,n.success(t)},t.onerror=function(){t.onload=null,t.onerror=null,e("Problem drawing thumbnail!","error"),n.failure(t,"Problem drawing thumbnail!")}}function l(e,t){e.qqImageRendered=function(){t.success(e)}}function u(i,r){var o=t(i)||n(i);return t(i)?a(i,r):n(i)?l(i,r):(r.failure(i),e(qq.format("Element container of type {} is not supported!",i.tagName),"error")),o}function c(t,n,i){var r=new qq.Promise,o=new qq.Identify(t,e),s=i.maxSize,a=null==i.orient||i.orient,l=function(){n.onerror=null,n.onload=null,e("Could not render preview, file may be too large!","error"),r.failure(n,"Browser cannot render image!")};return o.isPreviewable().then(function(o){var c={parse:function(){return(new qq.Promise).success()}},d=a?new qq.Exif(t,e):c,p=new qq.MegaPixImage(t,l);u(n,r)&&d.parse().then(function(e){var t=e&&e.Orientation;p.render(n,{maxWidth:s,maxHeight:s,orientation:t,mime:o,resize:i.customResizeFunction})},function(t){e(qq.format("EXIF data could not be parsed ({}).  Assuming orientation = 1.",t)),p.render(n,{maxWidth:s,maxHeight:s,mime:o,resize:i.customResizeFunction})})},function(){e("Not previewable"),r.failure(n,"Not previewable")}),r}function d(e,t,n,i,r){var a=new Image,l=new qq.Promise;u(a,l),s(e)&&(a.crossOrigin="anonymous"),a.src=e,l.then(function(){u(t,n),new qq.MegaPixImage(a).render(t,{maxWidth:i,maxHeight:i,mime:o(e),resize:r})},n.failure)}function p(e,t,n,i){u(t,n),qq(t).css({maxWidth:i+"px",maxHeight:i+"px"}),t.src=e}function h(e,o,a){var l=new qq.Promise,c=a.scale,h=c?a.maxSize:null;return c&&t(o)?r()?s(e)&&!i()?p(e,o,l,h):d(e,o,l,h):p(e,o,l,h):n(o)?d(e,o,l,h):u(o,l)&&(o.src=e),l}qq.extend(this,{generate:function(t,n,i){return qq.isString(t)?(e("Attempting to update thumbnail based on server response."),h(t,n,i||{})):(e("Attempting to draw client-side image preview."),c(t,n,i||{}))}}),this._testing={},this._testing.isImg=t,this._testing.isCanvas=n,this._testing.isCrossOrigin=s,this._testing.determineMimeOfFileName=o},qq.Exif=function(e,t){"use strict";function n(e){for(var t=0,n=0;e.length>0;)t+=parseInt(e.substring(0,2),16)*Math.pow(2,n),e=e.substring(2,e.length),n+=8;return t}function i(t,n){var r=t,o=n;return void 0===r&&(r=2,o=new qq.Promise),qq.readBlobToHex(e,r,4).then(function(e){var t,n=/^ffe([0-9])/.exec(e);n?"1"!==n[1]?(t=parseInt(e.slice(4,8),16),i(r+t+2,o)):o.success(r):o.failure("No EXIF header to be found!")}),o}function r(){var t=new qq.Promise;return qq.readBlobToHex(e,0,6).then(function(e){0!==e.indexOf("ffd8")?t.failure("Not a valid JPEG!"):i().then(function(e){t.success(e)},function(e){t.failure(e)})}),t}function o(t){var n=new qq.Promise;return qq.readBlobToHex(e,t+10,2).then(function(e){n.success("4949"===e)}),n}function s(t,i){var r=new qq.Promise;return qq.readBlobToHex(e,t+18,2).then(function(e){if(i)return r.success(n(e));r.success(parseInt(e,16))}),r}function a(t,n){var i=t+20,r=12*n;return qq.readBlobToHex(e,i,r)}function l(e){for(var t=[],n=0;n+24<=e.length;)t.push(e.slice(n,n+24)),n+=24;return t}function u(e,t){var i=qq.extend([],c),r={};return qq.each(t,function(t,o){var s,a,l,u=o.slice(0,4),c=e?n(u):parseInt(u,16),p=i.indexOf(c);if(p>=0&&(a=d[c].name,l=d[c].bytes,s=o.slice(16,16+2*l),r[a]=e?n(s):parseInt(s,16),i.splice(p,1)),0===i.length)return!1}),r}var c=[274],d={274:{name:"Orientation",bytes:2}};qq.extend(this,{parse:function(){var n=new qq.Promise,i=function(e){t(qq.format("EXIF header parse failed: '{}' ",e)),n.failure(e)};return r().then(function(r){t(qq.format("Moving forward with EXIF header parsing for '{}'",void 0===e.name?"blob":e.name)),o(r).then(function(e){t(qq.format("EXIF Byte order is {} endian",e?"little":"big")),s(r,e).then(function(o){t(qq.format("Found {} APP1 directory entries",o)),a(r,o).then(function(i){var r=l(i),o=u(e,r);t("Successfully parsed some EXIF tags"),n.success(o)},i)},i)},i)},i),n}}),this._testing={},this._testing.parseLittleEndian=n},qq.Identify=function(e,t){"use strict";function n(e,t){var n=!1,i=[].concat(e);return qq.each(i,function(e,i){if(0===t.indexOf(i))return n=!0,!1}),n}qq.extend(this,{isPreviewable:function(){var i=this,r=new qq.Promise,o=!1,s=void 0===e.name?"blob":e.name;return t(qq.format("Attempting to determine if {} can be rendered in this browser",s)),t("First pass: check type attribute of blob object."),this.isPreviewableSync()?(t("Second pass: check for magic bytes in file header."),qq.readBlobToHex(e,0,4).then(function(e){qq.each(i.PREVIEWABLE_MIME_TYPES,function(t,i){if(n(i,e))return("image/tiff"!==t||qq.supportedFeatures.tiffPreviews)&&(o=!0,r.success(t)),!1}),t(qq.format("'{}' is {} able to be rendered in this browser",s,o?"":"NOT")),o||r.failure()},function(){t("Error reading file w/ name '"+s+"'.  Not able to be rendered in this browser."),r.failure()})):r.failure(),r},isPreviewableSync:function(){var n=e.type,i=qq.indexOf(Object.keys(this.PREVIEWABLE_MIME_TYPES),n)>=0,r=!1,o=void 0===e.name?"blob":e.name;return i&&(r="image/tiff"!==n||qq.supportedFeatures.tiffPreviews),!r&&t(o+" is not previewable in this browser per the blob's type attr"),r}})},qq.Identify.prototype.PREVIEWABLE_MIME_TYPES={"image/jpeg":"ffd8ff","image/gif":"474946","image/png":"89504e","image/bmp":"424d","image/tiff":["49492a00","4d4d002a"]},qq.ImageValidation=function(e,t){"use strict";function n(e){var t=!1;return qq.each(e,function(e,n){if(n>0)return t=!0,!1}),t}function i(){var n=new qq.Promise;return new qq.Identify(e,t).isPreviewable().then(function(){var i=new Image,r=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;r?(i.onerror=function(){t("Cannot determine dimensions for image.  May be too large.","error"),n.failure()},i.onload=function(){n.success({width:this.width,height:this.height})},i.src=r.createObjectURL(e)):(t("No createObjectURL function available to generate image URL!","error"),n.failure())},n.failure),n}function r(e,t){var n;return qq.each(e,function(e,i){if(i>0){var r=/(max|min)(Width|Height)/.exec(e),o=r[2].charAt(0).toLowerCase()+r[2].slice(1),s=t[o];switch(r[1]){case"min":if(s<i)return n=e,!1;break;case"max":if(s>i)return n=e,!1}}}),n}this.validate=function(e){var o=new qq.Promise;return t("Attempting to validate image."),n(e)?i().then(function(t){var n=r(e,t);n?o.failure(n):o.success()},o.success):o.success(),o}},qq.Session=function(e){"use strict";function t(e){if(qq.isArray(e))return!0;i.log("Session response is not an array.","error")}function n(e,n,r,o){var s=!1;n=n&&t(e),n&&qq.each(e,function(e,t){if(null==t.uuid)s=!0,i.log(qq.format("Session response item {} did not include a valid UUID - ignoring.",e),"error");else if(null==t.name)s=!0,i.log(qq.format("Session response item {} did not include a valid name - ignoring.",e),"error");else try{return i.addFileRecord(t),!0}catch(e){s=!0,i.log(e.message,"error")}return!1}),o[n&&!s?"success":"failure"](e,r)}var i={endpoint:null,params:{},customHeaders:{},cors:{},addFileRecord:function(e){},log:function(e,t){}};qq.extend(i,e,!0),this.refresh=function(){var e=new qq.Promise,t=function(t,i,r){n(t,i,r,e)},r=qq.extend({},i);return new qq.SessionAjaxRequester(qq.extend(r,{onComplete:t})).queryServer(),e}},qq.SessionAjaxRequester=function(e){"use strict";function t(e,t,n){var r=null;if(null!=t.responseText)try{r=qq.parseJson(t.responseText)}catch(e){i.log("Problem parsing session response: "+e.message,"error"),n=!0}i.onComplete(r,!n,t)}var n,i={endpoint:null,customHeaders:{},params:{},cors:{expected:!1,sendCredentials:!1},onComplete:function(e,t,n){},log:function(e,t){}};qq.extend(i,e),n=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",validMethods:["GET"],method:"GET",endpointStore:{get:function(){return i.endpoint}},customHeaders:i.customHeaders,log:i.log,onComplete:t,cors:i.cors})),qq.extend(this,{queryServer:function(){var e=qq.extend({},i.params);i.log("Session query request."),n.initTransport("sessionRefresh").withParams(e).withCacheBuster().send()}})},qq.Scaler=function(e,t){"use strict";var n=e.customResizer,i=e.sendOriginal,r=e.orient,o=e.defaultType,s=e.defaultQuality/100,a=e.failureText,l=e.includeExif,u=this._getSortedSizes(e.sizes);qq.extend(this,{enabled:qq.supportedFeatures.scaling&&u.length>0,getFileRecords:function(e,c,d){var p=this,h=[],f=d.blob?d.blob:d;return new qq.Identify(f,t).isPreviewableSync()?(qq.each(u,function(e,i){var u=p._determineOutputType({defaultType:o,requestedType:i.type,refType:f.type});h.push({uuid:qq.getUniqueId(),name:p._getName(c,{name:i.name,type:u,refType:f.type}),blob:new qq.BlobProxy(f,qq.bind(p._generateScaledImage,p,{customResizeFunction:n,maxSize:i.maxSize,orient:r,type:u,quality:s,failedText:a,includeExif:l,log:t}))})}),h.push({uuid:e,name:c,size:f.size,blob:i?f:null})):h.push({uuid:e,name:c,size:f.size,blob:f}),h},handleNewFile:function(e,t,n,i,r,o,s,a){var l=this,u=(e.qqButtonId||e.blob&&e.blob.qqButtonId,[]),c=null,d=a.addFileToHandler,p=a.uploadData,h=a.paramsStore,f=qq.getUniqueId();qq.each(l.getFileRecords(n,t,e),function(e,t){var n,i=t.size;t.blob instanceof qq.BlobProxy&&(i=-1),n=p.addFile({uuid:t.uuid,name:t.name,size:i,batchId:o,proxyGroupId:f}),t.blob instanceof qq.BlobProxy?u.push(n):c=n,t.blob?(d(n,t.blob),r.push({id:n,file:t.blob})):p.setStatus(n,qq.status.REJECTED)}),null!==c&&(qq.each(u,function(e,t){var n={qqparentuuid:p.retrieve({id:c}).uuid,qqparentsize:p.retrieve({id:c}).size};n[s]=p.retrieve({id:t}).uuid,p.setParentId(t,c),h.addReadOnly(t,n)}),u.length&&function(){var e={};e[s]=p.retrieve({id:c}).uuid,h.addReadOnly(c,e)}())}})},qq.extend(qq.Scaler.prototype,{scaleImage:function(e,t,n){"use strict";if(!qq.supportedFeatures.scaling)throw new qq.Error("Scaling is not supported in this browser!");var i=new qq.Promise,r=n.log,o=n.getFile(e),s=n.uploadData.retrieve({id:e}),a=s&&s.name,l=s&&s.uuid,u={customResizer:t.customResizer,sendOriginal:!1,orient:t.orient,defaultType:t.type||null,defaultQuality:t.quality,failedToScaleText:"Unable to scale",sizes:[{name:"",maxSize:t.maxSize}]},c=new qq.Scaler(u,r);return qq.Scaler&&qq.supportedFeatures.imagePreviews&&o?qq.bind(function(){var t=c.getFileRecords(l,a,o)[0];t&&t.blob instanceof qq.BlobProxy?t.blob.create().then(i.success,i.failure):(r(e+" is not a scalable image!","error"),i.failure())},this)():(i.failure(),r("Could not generate requested scaled image for "+e+".  Scaling is either not possible in this browser, or the file could not be located.","error")),i},_determineOutputType:function(e){"use strict";var t=e.requestedType,n=e.defaultType,i=e.refType;return n||t?t&&qq.indexOf(Object.keys(qq.Identify.prototype.PREVIEWABLE_MIME_TYPES),t)>=0?"image/tiff"===t?qq.supportedFeatures.tiffPreviews?t:n:t:n:"image/jpeg"!==i?"image/png":i},_getName:function(e,t){"use strict";var n=e.lastIndexOf("."),i=t.type||"image/png",r=t.refType,o="",s=qq.getExtension(e),a="";return t.name&&t.name.trim().length&&(a=" ("+t.name+")"),n>=0?(o=e.substr(0,n),r!==i&&(s=i.split("/")[1]),o+=a+"."+s):o=e+a,o},_getSortedSizes:function(e){"use strict";return e=qq.extend([],e),e.sort(function(e,t){return e.maxSize>t.maxSize?1:e.maxSize<t.maxSize?-1:0})},_generateScaledImage:function(e,t){"use strict";var n=this,i=e.customResizeFunction,r=e.log,o=e.maxSize,s=e.orient,a=e.type,l=e.quality,u=e.failedText,c=e.includeExif&&"image/jpeg"===t.type&&"image/jpeg"===a,d=new qq.Promise,p=new qq.ImageGenerator(r),h=document.createElement("canvas");return r("Attempting to generate scaled version for "+t.name),p.generate(t,h,{maxSize:o,orient:s,customResizeFunction:i}).then(function(){var e=h.toDataURL(a,l),i=function(){r("Success generating scaled version for "+t.name);var n=qq.dataUriToBlob(e);d.success(n)};c?n._insertExifHeader(t,e,r).then(function(t){e=t,i()},function(){r("Problem inserting EXIF header into scaled image.  Using scaled image w/out EXIF data.","error"),i()}):i()},function(){r("Failed attempt to generate scaled version for "+t.name,"error"),d.failure(u)}),d},_insertExifHeader:function(e,t,n){"use strict";var i=new FileReader,r=new qq.Promise,o="";return i.onload=function(){o=i.result,r.success(qq.ExifRestorer.restore(o,t))},i.onerror=function(){n("Problem reading "+e.name+" during attempt to transfer EXIF data to scaled version.","error"),r.failure()},i.readAsDataURL(e),r},_dataUriToBlob:function(e){"use strict";var t,n,i,r;return t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):decodeURI(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(t.length),r=new Uint8Array(i),qq.each(t,function(e,t){r[e]=t.charCodeAt(0)}),this._createBlob(i,n)},_createBlob:function(e,t){"use strict";var n=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,i=n&&new n;return i?(i.append(e),i.getBlob(t)):new Blob([e],{type:t})}}),qq.ExifRestorer=function(){var e={};return e.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e.encode64=function(e){var t,n,i,r,o,s="",a="",l="",u=0;do{t=e[u++],n=e[u++],a=e[u++],i=t>>2,r=(3&t)<<4|n>>4,o=(15&n)<<2|a>>6,l=63&a,isNaN(n)?o=l=64:isNaN(a)&&(l=64),s=s+this.KEY_STR.charAt(i)+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(l),t=n=a="",i=r=o=l=""}while(u<e.length);return s},e.restore=function(e,t){if(!e.match("data:image/jpeg;base64,"))return t;var n=this.decode64(e.replace("data:image/jpeg;base64,","")),i=this.slice2Segments(n),r=this.exifManipulation(t,i);return"data:image/jpeg;base64,"+this.encode64(r)},e.exifManipulation=function(e,t){var n=this.getExifArray(t),i=this.insertExif(e,n);return new Uint8Array(i)},e.getExifArray=function(e){for(var t,n=0;n<e.length;n++)if(t=e[n],255==t[0]&225==t[1])return t;return[]},e.insertExif=function(e,t){var n=e.replace("data:image/jpeg;base64,",""),i=this.decode64(n),r=i.indexOf(255,3),o=i.slice(0,r),s=i.slice(r),a=o;return a=a.concat(t),a=a.concat(s)},e.slice2Segments=function(e){for(var t=0,n=[];!(255==e[t]&218==e[t+1]);){if(255==e[t]&216==e[t+1])t+=2;else{var i=256*e[t+2]+e[t+3],r=t+i+2,o=e.slice(t,r);n.push(o),t=r}if(t>e.length)break}return n},e.decode64=function(e){var t,n,i,r,o,s="",a="",l=0,u=[];if(/[^A-Za-z0-9\+\/\=]/g.exec(e))throw new Error("There were invalid base64 characters in the input text.  Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='");e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{i=this.KEY_STR.indexOf(e.charAt(l++)),r=this.KEY_STR.indexOf(e.charAt(l++)),o=this.KEY_STR.indexOf(e.charAt(l++)),a=this.KEY_STR.indexOf(e.charAt(l++)),t=i<<2|r>>4,n=(15&r)<<4|o>>2,s=(3&o)<<6|a,u.push(t),64!=o&&u.push(n),64!=a&&u.push(s),t=n=s="",i=r=o=a=""}while(l<e.length);return u},e}(),qq.TotalProgress=function(e,t){"use strict";var n={},i=0,r=0,o=-1,s=-1,a=function(t,n){t===o&&n===s||e(t,n),o=t,s=n},l=function(e,t){var n=!0;return qq.each(e,function(e,i){if(qq.indexOf(t,i)>=0)return n=!1,!1}),n},u=function(e){p(e,-1,-1),delete n[e]},c=function(e,t,n){(0===t.length||l(t,n))&&(a(r,r),this.reset())},d=function(e){var i=t(e);i>0&&(p(e,0,i),n[e]={loaded:0,total:i})},p=function(e,t,o){var s=n[e]?n[e].loaded:0,l=n[e]?n[e].total:0;-1===t&&-1===o?(i-=s,r-=l):(t&&(i+=t-s),o&&(r+=o-l)),a(i,r)};qq.extend(this,{onAllComplete:c,onStatusChange:function(e,t,n){n===qq.status.CANCELED||n===qq.status.REJECTED?u(e):n===qq.status.SUBMITTING&&d(e)},onIndividualProgress:function(e,t,i){p(e,t,i),n[e]={loaded:t,total:i}},onNewSize:function(e){d(e)},reset:function(){n={},i=0,r=0}})},qq.PasteSupport=function(e){"use strict";function t(e){return e.type&&0===e.type.indexOf("image/")}function n(){r&&r()}var i,r;i={targetElement:null,callbacks:{log:function(e,t){},pasteReceived:function(e){}}},qq.extend(i,e),function(){r=qq(i.targetElement).attach("paste",function(e){var n=e.clipboardData;n&&qq.each(n.items,function(e,n){if(t(n)){var r=n.getAsFile();i.callbacks.pasteReceived(r)}})})}(),qq.extend(this,{reset:function(){n()}})},qq.FormSupport=function(e,t,n){"use strict";function i(e){e.getAttribute("action")&&(s.newEndpoint=e.getAttribute("action"))}function r(e,t){if(!e.checkValidity||e.checkValidity())return!0;n("Form did not pass validation checks - will not upload.","error"),t()}function o(e){var n=e.submit;qq(e).attach("submit",function(i){i=i||window.event,i.preventDefault?i.preventDefault():i.returnValue=!1,r(e,n)&&t()}),e.submit=function(){r(e,n)&&t()}}var s=this,a=e.interceptSubmit,l=e.element,u=e.autoUpload;qq.extend(this,{newEndpoint:null,newAutoUpload:u,attachedToForm:!1,getFormInputsAsObject:function(){return null==l?null:s._form2Obj(l)}}),l=function(e){return e&&(qq.isString(e)&&(e=document.getElementById(e)),e&&(n("Attaching to form element."),i(e),a&&o(e))),e}(l),this.attachedToForm=!!l},qq.extend(qq.FormSupport.prototype,{_form2Obj:function(e){"use strict";var t={},n=function(e){var t=["button","image","reset","submit"];return qq.indexOf(t,e.toLowerCase())<0},i=function(e){return qq.indexOf(["checkbox","radio"],e.toLowerCase())>=0},r=function(e){return!(!i(e.type)||e.checked)||e.disabled&&"hidden"!==e.type.toLowerCase()},o=function(e){var t=null;return qq.each(qq(e).children(),function(e,n){if("option"===n.tagName.toLowerCase()&&n.selected)return t=n.value,!1}),t};return qq.each(e.elements,function(e,i){if(!qq.isInput(i,!0)&&"textarea"!==i.tagName.toLowerCase()||!n(i.type)||r(i)){if("select"===i.tagName.toLowerCase()&&!r(i)){var s=o(i);null!==s&&(t[i.name]=s)}}else t[i.name]=i.value}),t}}),qq.traditional=qq.traditional||{},qq.traditional.FormUploadHandler=function(e,t){"use strict";function n(e,t){var n,i,o;try{i=t.contentDocument||t.contentWindow.document,o=i.body.innerHTML,a("converting iframe's innerHTML to JSON"),a("innerHTML = "+o),o&&o.match(/^<pre/i)&&(o=i.body.firstChild.firstChild.nodeValue),n=r._parseJsonResponse(o)}catch(e){a("Error when attempting to parse form upload response ("+e.message+")","error"),n={success:!1}}return n}function i(t,n){var i=e.paramsStore.get(t),a="get"===e.method.toLowerCase()?"GET":"POST",l=e.endpointStore.get(t),u=o(t);return i[e.uuidName]=s(t),i[e.filenameParam]=u,r._initFormForUpload({method:a,endpoint:l,params:i,paramsInBody:e.paramsInBody,targetName:n.name})}var r=this,o=t.getName,s=t.getUuid,a=t.log;this.uploadFile=function(t){var o,s=r.getInput(t),l=r._createIframe(t),u=new qq.Promise;return o=i(t,l),o.appendChild(s),r._attachLoadEvent(l,function(i){a("iframe loaded");var o=i||n(t,l);r._detachLoadEvent(t),e.cors.expected||qq(l).remove(),o.success?u.success(o):u.failure(o)}),a("Sending upload request for "+t),o.submit(),qq(o).remove(),u},qq.extend(this,new qq.FormUploadHandler({options:{isCors:e.cors.expected,inputName:e.inputName},proxy:{onCancel:e.onCancel,getName:o,getUuid:s,log:a}}))},qq.traditional=qq.traditional||{},qq.traditional.XhrUploadHandler=function(e,t){"use strict";var n=this,i=t.getName,r=t.getSize,o=t.getUuid,s=t.log,a=e.forceMultipart||e.paramsInBody,l=function(t,n,o){var s=r(t),l=i(t);n[e.chunking.paramNames.partIndex]=o.part,n[e.chunking.paramNames.partByteOffset]=o.start,n[e.chunking.paramNames.chunkSize]=o.size,n[e.chunking.paramNames.totalParts]=o.count,n[e.totalFileSizeName]=s,a&&(n[e.filenameParam]=l)},u=new qq.traditional.AllChunksDoneAjaxRequester({cors:e.cors,endpoint:e.chunking.success.endpoint,log:s}),c=function(e,t){var n=new qq.Promise;return t.onreadystatechange=function(){if(4===t.readyState){var i=h(e,t);i.success?n.success(i.response,t):n.failure(i.response,t)}},n},d=function(t){var s=e.paramsStore.get(t),a=i(t),l=r(t);return s[e.uuidName]=o(t),s[e.filenameParam]=a,s[e.totalFileSizeName]=l,s[e.chunking.paramNames.totalParts]=n._getTotalChunks(t),s},p=function(e,t){return qq.indexOf([200,201,202,203,204],e.status)<0||!t.success||t.reset},h=function(e,t){var n;return s("xhr - server response received for "+e),s("responseText = "+t.responseText),n=f(!0,t),{success:!p(t,n),response:n}},f=function(e,t){var n={};try{s(qq.format("Received response status {} with body: {}",t.status,t.responseText)),n=qq.parseJson(t.responseText)}catch(t){e&&s("Error when attempting to parse xhr response text ("+t.message+")","error")}return n},m=function(t){var i=new qq.Promise;return u.complete(t,n._createXhr(t),d(t),e.customHeaders.get(t)).then(function(e){i.success(f(!1,e),e)},function(e){i.failure(f(!1,e),e)}),i},g=function(t,n,s,l){var u=new FormData,c=e.method,d=e.endpointStore.get(l),p=i(l),h=r(l);return t[e.uuidName]=o(l),t[e.filenameParam]=p,a&&(t[e.totalFileSizeName]=h),e.paramsInBody||(a||(t[e.inputName]=p),d=qq.obj2url(t,d)),n.open(c,d,!0),e.cors.expected&&e.cors.sendCredentials&&(n.withCredentials=!0),a?(e.paramsInBody&&qq.obj2FormData(t,u),u.append(e.inputName,s),u):s},v=function(t,i){var r=e.customHeaders.get(t),o=n.getFile(t);i.setRequestHeader("Accept","application/json"),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("Cache-Control","no-cache"),a||(i.setRequestHeader("Content-Type","application/octet-stream"),i.setRequestHeader("X-Mime-Type",o.type)),qq.each(r,function(e,t){i.setRequestHeader(e,t)})};qq.extend(this,{uploadChunk:function(t,i,o){var s,a,u,d=n._getChunkData(t,i),p=n._createXhr(t,i);return r(t),s=c(t,p),n._registerProgressHandler(t,i,d.size),u=e.paramsStore.get(t),l(t,u,d),o&&(u[e.resume.paramNames.resuming]=!0),a=g(u,p,d.blob,t),v(t,p),p.send(a),s},uploadFile:function(t){var i,r,o,s,a=n.getFile(t);return r=n._createXhr(t),n._registerProgressHandler(t),i=c(t,r),o=e.paramsStore.get(t),s=g(o,r,a,t),v(t,r),r.send(s),i}}),qq.extend(this,new qq.XhrUploadHandler({options:qq.extend({namespace:"traditional"},e),proxy:qq.extend({getEndpoint:e.endpointStore.get},t)})),qq.override(this,function(t){return{finalizeChunks:function(n){return e.chunking.success.endpoint?m(n):t.finalizeChunks(n,qq.bind(f,this,!0))}}})},qq.traditional.AllChunksDoneAjaxRequester=function(e){"use strict";var t,n={cors:{allowXdr:!1,expected:!1,sendCredentials:!1},endpoint:null,log:function(e,t){}},i={},r={get:function(e){return n.endpoint}};qq.extend(n,e),t=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",validMethods:["POST"],method:"POST",endpointStore:r,allowXRequestedWithAndCacheControl:!1,cors:n.cors,log:n.log,onComplete:function(e,t,n){var r=i[e];delete i[e],n?r.failure(t):r.success(t)}})),qq.extend(this,{complete:function(e,r,o,s){var a=new qq.Promise;return n.log("Submitting All Chunks Done request for "+e),i[e]=a,t.initTransport(e).withParams(o).withHeaders(s).send(r),a}})},qq.DragAndDrop=function(e){"use strict";function t(e,t){var n=Array.prototype.slice.call(e);l.callbacks.dropLog("Grabbed "+e.length+" dropped files."),t.dropDisabled(!1),l.callbacks.processingDroppedFilesComplete(n,t.getElement())}function n(e){var t=new qq.Promise;return e.isFile?e.file(function(n){var i=e.name,r=e.fullPath,o=r.indexOf(i);r=r.substr(0,o),"/"===r.charAt(0)&&(r=r.substr(1)),n.qqPath=r,c.push(n),t.success()},function(n){l.callbacks.dropLog("Problem parsing '"+e.fullPath+"'.  FileError code "+n.code+".","error"),t.failure()}):e.isDirectory&&i(e).then(function(e){var i=e.length;qq.each(e,function(e,r){n(r).done(function(){0===(i-=1)&&t.success()})}),e.length||t.success()},function(n){l.callbacks.dropLog("Problem parsing '"+e.fullPath+"'.  FileError code "+n.code+".","error"),t.failure()}),t}function i(e,t,n,r){var o=r||new qq.Promise,s=t||e.createReader();return s.readEntries(function(t){var r=n?n.concat(t):t;t.length?setTimeout(function(){i(e,s,r,o)},0):o.success(r)},o.failure),o}function r(e,t){var i=[],r=new qq.Promise;return l.callbacks.processingDroppedFiles(),t.dropDisabled(!0),e.files.length>1&&!l.allowMultipleItems?(l.callbacks.processingDroppedFilesComplete([]),l.callbacks.dropError("tooManyFilesError",""),t.dropDisabled(!1),r.failure()):(c=[],qq.isFolderDropSupported(e)?qq.each(e.items,function(e,t){var o=t.webkitGetAsEntry();o&&(o.isFile?c.push(t.getAsFile()):i.push(n(o).done(function(){i.pop(),0===i.length&&r.success()})))}):c=e.files,0===i.length&&r.success()),r}function o(e){var n=new qq.UploadDropZone({HIDE_ZONES_EVENT_NAME:"qq-hidezones",element:e,onEnter:function(t){qq(e).addClass(l.classes.dropActive),t.stopPropagation()},onLeaveNotDescendants:function(t){qq(e).removeClass(l.classes.dropActive)},onDrop:function(e){r(e.dataTransfer,n).then(function(){t(c,n)},function(){l.callbacks.dropLog("Drop event DataTransfer parsing failed.  No files will be uploaded.","error")})}});return d.addDisposer(function(){n.dispose()}),qq(e).hasAttribute("qq-hide-dropzone")&&qq(e).hide(),u.push(n),n}function s(e){var t;return qq.each(e.dataTransfer.types,function(e,n){if("Files"===n)return t=!0,!1}),t}function a(e){return qq.safari()?e.x<0||e.y<0:0===e.x&&0===e.y}var l,u=[],c=[],d=new qq.DisposeSupport;l={dropZoneElements:[],allowMultipleItems:!0,classes:{dropActive:null},callbacks:new qq.DragAndDrop.callbacks},qq.extend(l,e,!0),function(){var e=l.dropZoneElements,t=function(){setTimeout(function(){qq.each(e,function(e,t){qq(t).hasAttribute("qq-hide-dropzone")&&qq(t).hide(),qq(t).removeClass(l.classes.dropActive)})},10)};qq.each(e,function(t,n){var i=o(n);e.length&&qq.supportedFeatures.fileDrop&&d.attach(document,"dragenter",function(t){!i.dropDisabled()&&s(t)&&qq.each(e,function(e,t){t instanceof HTMLElement&&qq(t).hasAttribute("qq-hide-dropzone")&&qq(t).css({display:"block"})})})}),d.attach(document,"dragleave",function(e){a(e)&&t()}),d.attach(qq(document).children()[0],"mouseenter",function(e){t()}),d.attach(document,"drop",function(e){s(e)&&(e.preventDefault(),t())}),d.attach(document,"qq-hidezones",t)}(),qq.extend(this,{setupExtraDropzone:function(e){l.dropZoneElements.push(e),o(e)},removeDropzone:function(e){var t,n=l.dropZoneElements;for(t in n)if(n[t]===e)return n.splice(t,1)},dispose:function(){d.dispose(),qq.each(u,function(e,t){t.dispose()})}})},qq.DragAndDrop.callbacks=function(){"use strict";return{processingDroppedFiles:function(){},processingDroppedFilesComplete:function(e,t){},dropError:function(e,t){qq.log("Drag & drop error code '"+e+" with these specifics: '"+t+"'","error")},dropLog:function(e,t){qq.log(e,t)}}},qq.UploadDropZone=function(e){"use strict";function t(){return qq.safari()||qq.firefox()&&qq.windows()}function n(e){if(!qq.supportedFeatures.fileDrop)return!1;var t,n=e.dataTransfer,i=qq.safari();return t=!(!qq.ie()||!qq.supportedFeatures.fileDrop)||"none"!==n.effectAllowed,n&&t&&(n.files&&n.files.length||!i&&n.types.contains&&n.types.contains("Files")||n.types.includes&&n.types.includes("Files"))}function i(e){return void 0!==e&&(a=e),a}function r(){function e(){t=document.createEvent("Event"),t.initEvent(o.HIDE_ZONES_EVENT_NAME,!0,!0)}var t;if(window.CustomEvent)try{t=new CustomEvent(o.HIDE_ZONES_EVENT_NAME)}catch(t){e()}else e();document.dispatchEvent(t)}var o,s,a,l,u=new qq.DisposeSupport;o={element:null,onEnter:function(e){},onLeave:function(e){},onLeaveNotDescendants:function(e){},onDrop:function(e){}},qq.extend(o,e),s=o.element,function(e){l||(t?u.attach(document,"dragover",function(e){e.preventDefault()}):u.attach(document,"dragover",function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="none",e.preventDefault())}),l=!0)}(),function(){u.attach(s,"dragover",function(e){if(n(e)){var t=qq.ie()&&qq.supportedFeatures.fileDrop?null:e.dataTransfer.effectAllowed;e.dataTransfer.dropEffect="move"===t||"linkMove"===t?"move":"copy",e.stopPropagation(),e.preventDefault()}}),u.attach(s,"dragenter",function(e){if(!i()){if(!n(e))return;o.onEnter(e)}}),u.attach(s,"dragleave",function(e){if(n(e)){o.onLeave(e);var t=document.elementFromPoint(e.clientX,e.clientY);qq(this).contains(t)||o.onLeaveNotDescendants(e)}}),u.attach(s,"drop",function(e){if(!i()){if(!n(e))return;e.preventDefault(),e.stopPropagation(),o.onDrop(e),r()}})}(),qq.extend(this,{dropDisabled:function(e){return i(e)},dispose:function(){u.dispose()},getElement:function(){return s}}),this._testing={},this._testing.isValidFileDrag=n},function(){"use strict";qq.uiPublicApi={addInitialFiles:function(e){this._parent.prototype.addInitialFiles.apply(this,arguments),this._templating.addCacheToDom()},clearStoredFiles:function(){this._parent.prototype.clearStoredFiles.apply(this,arguments),this._templating.clearFiles()},addExtraDropzone:function(e){this._dnd&&this._dnd.setupExtraDropzone(e)},removeExtraDropzone:function(e){if(this._dnd)return this._dnd.removeDropzone(e)},getItemByFileId:function(e){if(!this._templating.isHiddenForever(e))return this._templating.getFileContainer(e)},reset:function(){this._parent.prototype.reset.apply(this,arguments),this._templating.reset(),!this._options.button&&this._templating.getButton()&&(this._defaultButtonId=this._createUploadButton({element:this._templating.getButton(),title:this._options.text.fileInputTitle}).getButtonId()),this._dnd&&(this._dnd.dispose(),this._dnd=this._setupDragAndDrop()),this._totalFilesInBatch=0,this._filesInBatchAddedToUi=0,this._setupClickAndEditEventHandlers()},setName:function(e,t){var n=this._options.formatFileName(t);this._parent.prototype.setName.apply(this,arguments),this._templating.updateFilename(e,n)},pauseUpload:function(e){var t=this._parent.prototype.pauseUpload.apply(this,arguments);return t&&this._templating.uploadPaused(e),t},continueUpload:function(e){var t=this._parent.prototype.continueUpload.apply(this,arguments);return t&&this._templating.uploadContinued(e),t},getId:function(e){return this._templating.getFileId(e)},getDropTarget:function(e){return this.getFile(e).qqDropTarget}},qq.uiPrivateApi={_getButton:function(e){var t=this._parent.prototype._getButton.apply(this,arguments);return t||e===this._defaultButtonId&&(t=this._templating.getButton()),t},_removeFileItem:function(e){this._templating.removeFile(e)},_setupClickAndEditEventHandlers:function(){this._fileButtonsClickHandler=qq.FileButtonsClickHandler&&this._bindFileButtonsClickEvent(),this._focusinEventSupported=!qq.firefox(),this._isEditFilenameEnabled()&&(this._filenameClickHandler=this._bindFilenameClickEvent(),this._filenameInputFocusInHandler=this._bindFilenameInputFocusInEvent(),this._filenameInputFocusHandler=this._bindFilenameInputFocusEvent())},_setupDragAndDrop:function(){var e=this,t=this._options.dragAndDrop.extraDropzones,n=this._templating,i=n.getDropZone();return i&&t.push(i),new qq.DragAndDrop({dropZoneElements:t,allowMultipleItems:this._options.multiple,classes:{dropActive:this._options.classes.dropActive},callbacks:{processingDroppedFiles:function(){n.showDropProcessing()},processingDroppedFilesComplete:function(t,i){n.hideDropProcessing(),qq.each(t,function(e,t){t.qqDropTarget=i}),t.length&&e.addFiles(t,null,null)},dropError:function(t,n){e._itemError(t,n)},dropLog:function(t,n){e.log(t,n)}}})},_bindFileButtonsClickEvent:function(){var e=this;return new qq.FileButtonsClickHandler({templating:this._templating,log:function(t,n){e.log(t,n)},onDeleteFile:function(t){e.deleteFile(t)},onCancel:function(t){e.cancel(t)},onRetry:function(t){e.retry(t)},onPause:function(t){e.pauseUpload(t)},onContinue:function(t){e.continueUpload(t)},onGetName:function(t){return e.getName(t)}})},_isEditFilenameEnabled:function(){return this._templating.isEditFilenamePossible()&&!this._options.autoUpload&&qq.FilenameClickHandler&&qq.FilenameInputFocusHandler&&qq.FilenameInputFocusHandler},_filenameEditHandler:function(){var e=this,t=this._templating;return{templating:t,log:function(t,n){e.log(t,n)},onGetUploadStatus:function(t){return e.getUploads({id:t}).status},onGetName:function(t){return e.getName(t)},onSetName:function(t,n){e.setName(t,n)},onEditingStatusChange:function(e,n){var i=qq(t.getEditInput(e)),r=qq(t.getFileContainer(e));n?(i.addClass("qq-editing"),t.hideFilename(e),t.hideEditIcon(e)):(i.removeClass("qq-editing"),t.showFilename(e),t.showEditIcon(e)),r.addClass("qq-temp").removeClass("qq-temp")}}},_onUploadStatusChange:function(e,t,n){this._parent.prototype._onUploadStatusChange.apply(this,arguments),this._isEditFilenameEnabled()&&this._templating.getFileContainer(e)&&n!==qq.status.SUBMITTED&&(this._templating.markFilenameEditable(e),this._templating.hideEditIcon(e)),t===qq.status.UPLOAD_RETRYING&&n===qq.status.UPLOADING?(this._templating.hideRetry(e),this._templating.setStatusText(e),qq(this._templating.getFileContainer(e)).removeClass(this._classes.retrying)):n===qq.status.UPLOAD_FAILED&&this._templating.hidePause(e)},_bindFilenameInputFocusInEvent:function(){var e=qq.extend({},this._filenameEditHandler());return new qq.FilenameInputFocusInHandler(e)},_bindFilenameInputFocusEvent:function(){var e=qq.extend({},this._filenameEditHandler());return new qq.FilenameInputFocusHandler(e)},_bindFilenameClickEvent:function(){var e=qq.extend({},this._filenameEditHandler());return new qq.FilenameClickHandler(e)},_storeForLater:function(e){this._parent.prototype._storeForLater.apply(this,arguments),this._templating.hideSpinner(e)},_onAllComplete:function(e,t){this._parent.prototype._onAllComplete.apply(this,arguments),this._templating.resetTotalProgress()},_onSubmit:function(e,t){var n=this.getFile(e);n&&n.qqPath&&this._options.dragAndDrop.reportDirectoryPaths&&this._paramsStore.addReadOnly(e,{qqpath:n.qqPath}),this._parent.prototype._onSubmit.apply(this,arguments),this._addToList(e,t)},_onSubmitted:function(e){this._isEditFilenameEnabled()&&(this._templating.markFilenameEditable(e),this._templating.showEditIcon(e),this._focusinEventSupported||this._filenameInputFocusHandler.addHandler(this._templating.getEditInput(e)))},_onProgress:function(e,t,n,i){this._parent.prototype._onProgress.apply(this,arguments),this._templating.updateProgress(e,n,i),0===i||100===Math.round(n/i*100)?(this._templating.hideCancel(e),this._templating.hidePause(e),this._templating.hideProgress(e),this._templating.setStatusText(e,this._options.text.waitingForResponse),this._displayFileSize(e)):this._displayFileSize(e,n,i)},_onTotalProgress:function(e,t){this._parent.prototype._onTotalProgress.apply(this,arguments),this._templating.updateTotalProgress(e,t)},_onComplete:function(e,t,n,i){function r(t){a&&(s.setStatusText(e),qq(a).removeClass(l._classes.retrying),s.hideProgress(e),l.getUploads({id:e}).status!==qq.status.UPLOAD_FAILED&&s.hideCancel(e),s.hideSpinner(e),t.success?l._markFileAsSuccessful(e):(qq(a).addClass(l._classes.fail),s.showCancel(e),s.isRetryPossible()&&!l._preventRetries[e]&&(qq(a).addClass(l._classes.retryable),s.showRetry(e)),l._controlFailureTextDisplay(e,t)))}var o=this._parent.prototype._onComplete.apply(this,arguments),s=this._templating,a=s.getFileContainer(e),l=this;return o instanceof qq.Promise?o.done(function(e){r(e)}):r(n),o},_markFileAsSuccessful:function(e){var t=this._templating;this._isDeletePossible()&&t.showDeleteButton(e),qq(t.getFileContainer(e)).addClass(this._classes.success),this._maybeUpdateThumbnail(e)},_onUploadPrep:function(e){this._parent.prototype._onUploadPrep.apply(this,arguments),this._templating.showSpinner(e)},_onUpload:function(e,t){var n=this._parent.prototype._onUpload.apply(this,arguments);return this._templating.showSpinner(e),n},_onUploadChunk:function(e,t){this._parent.prototype._onUploadChunk.apply(this,arguments),t.partIndex>0&&this._handler.isResumable(e)&&this._templating.allowPause(e)},_onCancel:function(e,t){this._parent.prototype._onCancel.apply(this,arguments),this._removeFileItem(e),0===this._getNotFinished()&&this._templating.resetTotalProgress()},_onBeforeAutoRetry:function(e){var t,n,i;this._parent.prototype._onBeforeAutoRetry.apply(this,arguments),this._showCancelLink(e),this._options.retry.showAutoRetryNote&&(t=this._autoRetries[e],n=this._options.retry.maxAutoAttempts,i=this._options.retry.autoRetryNote.replace(/\{retryNum\}/g,t),i=i.replace(/\{maxAuto\}/g,n),this._templating.setStatusText(e,i),qq(this._templating.getFileContainer(e)).addClass(this._classes.retrying))},_onBeforeManualRetry:function(e){return this._parent.prototype._onBeforeManualRetry.apply(this,arguments)?(this._templating.resetProgress(e),qq(this._templating.getFileContainer(e)).removeClass(this._classes.fail),this._templating.setStatusText(e),this._templating.showSpinner(e),this._showCancelLink(e),!0):(qq(this._templating.getFileContainer(e)).addClass(this._classes.retryable),this._templating.showRetry(e),!1)},_onSubmitDelete:function(e){var t=qq.bind(this._onSubmitDeleteSuccess,this);this._parent.prototype._onSubmitDelete.call(this,e,t)},_onSubmitDeleteSuccess:function(e,t,n){this._options.deleteFile.forceConfirm?this._showDeleteConfirm.apply(this,arguments):this._sendDeleteRequest.apply(this,arguments)},_onDeleteComplete:function(e,t,n){this._parent.prototype._onDeleteComplete.apply(this,arguments),this._templating.hideSpinner(e),n?(this._templating.setStatusText(e,this._options.deleteFile.deletingFailedText),this._templating.showDeleteButton(e)):this._removeFileItem(e)},_sendDeleteRequest:function(e,t,n){this._templating.hideDeleteButton(e),this._templating.showSpinner(e),this._templating.setStatusText(e,this._options.deleteFile.deletingStatusText),this._deleteHandler.sendDelete.apply(this,arguments)},_showDeleteConfirm:function(e,t,n){var i,r=this.getName(e),o=this._options.deleteFile.confirmMessage.replace(/\{filename\}/g,r),s=(this.getUuid(e),arguments),a=this;i=this._options.showConfirm(o),qq.isGenericPromise(i)?i.then(function(){a._sendDeleteRequest.apply(a,s)}):!1!==i&&a._sendDeleteRequest.apply(a,s)},_addToList:function(e,t,n){var i,r,o=0,s=this._handler.isProxied(e)&&this._options.scaling.hideScaled;this._options.display.prependFiles&&(this._totalFilesInBatch>1&&this._filesInBatchAddedToUi>0&&(o=this._filesInBatchAddedToUi-1),i={index:o}),n||(this._options.disableCancelForFormUploads&&!qq.supportedFeatures.ajaxUploading&&this._templating.disableCancel(),this._options.multiple||(r=this.getUploads({id:e}),this._handledProxyGroup=this._handledProxyGroup||r.proxyGroupId,r.proxyGroupId===this._handledProxyGroup&&r.proxyGroupId||(this._handler.cancelAll(),this._clearList(),this._handledProxyGroup=null))),n?(this._templating.addFileToCache(e,this._options.formatFileName(t),i,s),this._templating.updateThumbnail(e,this._thumbnailUrls[e],!0,this._options.thumbnails.customResizer)):(this._templating.addFile(e,this._options.formatFileName(t),i,s),this._templating.generatePreview(e,this.getFile(e),this._options.thumbnails.customResizer)),this._filesInBatchAddedToUi+=1,(n||this._options.display.fileSizeOnSubmit&&qq.supportedFeatures.ajaxUploading)&&this._displayFileSize(e)},_clearList:function(){this._templating.clearFiles(),this.clearStoredFiles()},_displayFileSize:function(e,t,n){var i=this.getSize(e),r=this._formatSize(i);i>=0&&(void 0!==t&&void 0!==n&&(r=this._formatProgress(t,n)),this._templating.updateSize(e,r))},_formatProgress:function(e,t){function n(e,t){i=i.replace(e,t)}var i=this._options.text.formatProgress;return n("{percent}",Math.round(e/t*100)),n("{total_size}",this._formatSize(t)),i},_controlFailureTextDisplay:function(e,t){var n,i,r;n=this._options.failedUploadTextDisplay.mode,i=this._options.failedUploadTextDisplay.responseProperty,"custom"===n?(r=t[i],r||(r=this._options.text.failUpload),this._templating.setStatusText(e,r),this._options.failedUploadTextDisplay.enableTooltip&&this._showTooltip(e,r)):"default"===n?this._templating.setStatusText(e,this._options.text.failUpload):"none"!==n&&this.log("failedUploadTextDisplay.mode value of '"+n+"' is not valid","warn")},_showTooltip:function(e,t){this._templating.getFileContainer(e).title=t},_showCancelLink:function(e){this._options.disableCancelForFormUploads&&!qq.supportedFeatures.ajaxUploading||this._templating.showCancel(e)},_itemError:function(e,t,n){var i=this._parent.prototype._itemError.apply(this,arguments);this._options.showMessage(i)},_batchError:function(e){this._parent.prototype._batchError.apply(this,arguments),this._options.showMessage(e)},_setupPastePrompt:function(){var e=this;this._options.callbacks.onPasteReceived=function(){var t=e._options.paste.namePromptMessage,n=e._options.paste.defaultName;return e._options.showPrompt(t,n)}},_fileOrBlobRejected:function(e,t){this._totalFilesInBatch-=1,this._parent.prototype._fileOrBlobRejected.apply(this,arguments)},_prepareItemsForUpload:function(e,t,n){this._totalFilesInBatch=e.length,this._filesInBatchAddedToUi=0,this._parent.prototype._prepareItemsForUpload.apply(this,arguments)},_maybeUpdateThumbnail:function(e){var t=this._thumbnailUrls[e];this.getUploads({id:e}).status===qq.status.DELETED||!t&&!this._options.thumbnails.placeholders.waitUntilResponse&&qq.supportedFeatures.imagePreviews||this._templating.updateThumbnail(e,t,this._options.thumbnails.customResizer)},_addCannedFile:function(e){var t=this._parent.prototype._addCannedFile.apply(this,arguments);return this._addToList(t,this.getName(t),!0),this._templating.hideSpinner(t),this._templating.hideCancel(t),this._markFileAsSuccessful(t),t},_setSize:function(e,t){this._parent.prototype._setSize.apply(this,arguments),this._templating.updateSize(e,this._formatSize(t))},_sessionRequestComplete:function(){this._templating.addCacheToDom(),this._parent.prototype._sessionRequestComplete.apply(this,arguments)}}}(),qq.FineUploader=function(e,t){"use strict";var n=this;this._parent=t?qq[t].FineUploaderBasic:qq.FineUploaderBasic,this._parent.apply(this,arguments),qq.extend(this._options,{element:null,button:null,listElement:null,dragAndDrop:{extraDropzones:[],reportDirectoryPaths:!1},text:{formatProgress:"{percent}% of {total_size}",failUpload:"Upload failed",waitingForResponse:"Processing...",paused:"Paused"},template:"qq-template",classes:{retrying:"qq-upload-retrying",retryable:"qq-upload-retryable",success:"qq-upload-success",fail:"qq-upload-fail",editable:"qq-editable",hide:"qq-hide",dropActive:"qq-upload-drop-area-active"},failedUploadTextDisplay:{mode:"default",responseProperty:"error",enableTooltip:!0},messages:{tooManyFilesError:"You may only drop one file",unsupportedBrowser:"Unrecoverable error - this browser does not permit file uploading of any kind."},retry:{showAutoRetryNote:!0,autoRetryNote:"Retrying {retryNum}/{maxAuto}..."},deleteFile:{forceConfirm:!1,confirmMessage:"Are you sure you want to delete {filename}?",deletingStatusText:"Deleting...",deletingFailedText:"Delete failed"},display:{fileSizeOnSubmit:!1,prependFiles:!1},paste:{promptForName:!1,namePromptMessage:"Please name this image"},thumbnails:{customResizer:null,maxCount:0,placeholders:{waitUntilResponse:!1,notAvailablePath:null,waitingPath:null},timeBetweenThumbs:750},scaling:{hideScaled:!1},showMessage:function(e){if(n._templating.hasDialog("alert"))return n._templating.showDialog("alert",e);setTimeout(function(){window.alert(e)},0)},showConfirm:function(e){return n._templating.hasDialog("confirm")?n._templating.showDialog("confirm",e):window.confirm(e)},showPrompt:function(e,t){return n._templating.hasDialog("prompt")?n._templating.showDialog("prompt",e,t):window.prompt(e,t)}},!0),qq.extend(this._options,e,!0),this._templating=new qq.Templating({log:qq.bind(this.log,this),templateIdOrEl:this._options.template,containerEl:this._options.element,fileContainerEl:this._options.listElement,button:this._options.button,imageGenerator:this._imageGenerator,classes:{hide:this._options.classes.hide,editable:this._options.classes.editable},limits:{maxThumbs:this._options.thumbnails.maxCount,timeBetweenThumbs:this._options.thumbnails.timeBetweenThumbs},placeholders:{waitUntilUpdate:this._options.thumbnails.placeholders.waitUntilResponse,thumbnailNotAvailable:this._options.thumbnails.placeholders.notAvailablePath,waitingForThumbnail:this._options.thumbnails.placeholders.waitingPath},text:this._options.text}),this._options.workarounds.ios8SafariUploads&&qq.ios800()&&qq.iosSafari()?this._templating.renderFailure(this._options.messages.unsupportedBrowserIos8Safari):!qq.supportedFeatures.uploading||this._options.cors.expected&&!qq.supportedFeatures.uploadCors?this._templating.renderFailure(this._options.messages.unsupportedBrowser):(this._wrapCallbacks(),this._templating.render(),this._classes=this._options.classes,!this._options.button&&this._templating.getButton()&&(this._defaultButtonId=this._createUploadButton({element:this._templating.getButton(),title:this._options.text.fileInputTitle}).getButtonId()),this._setupClickAndEditEventHandlers(),qq.DragAndDrop&&qq.supportedFeatures.fileDrop&&(this._dnd=this._setupDragAndDrop()),this._options.paste.targetElement&&this._options.paste.promptForName&&(qq.PasteSupport?this._setupPastePrompt():this.log("Paste support module not found.","error")),this._totalFilesInBatch=0,this._filesInBatchAddedToUi=0)},qq.extend(qq.FineUploader.prototype,qq.basePublicApi),qq.extend(qq.FineUploader.prototype,qq.basePrivateApi),qq.extend(qq.FineUploader.prototype,qq.uiPublicApi),qq.extend(qq.FineUploader.prototype,qq.uiPrivateApi),qq.Templating=function(e){"use strict";var t,n,i,r,o,s,a,l,u={content:document.createDocumentFragment(),map:{}},c=!1,d=0,p=!1,h=[],f=-1,m={log:null,limits:{maxThumbs:0,timeBetweenThumbs:750},templateIdOrEl:"qq-template",containerEl:null,fileContainerEl:null,button:null,imageGenerator:null,classes:{hide:"qq-hide",editable:"qq-editable"},placeholders:{waitUntilUpdate:!1,thumbnailNotAvailable:null,waitingForThumbnail:null},text:{paused:"Paused"}},g={button:"qq-upload-button-selector",alertDialog:"qq-alert-dialog-selector",dialogCancelButton:"qq-cancel-button-selector",confirmDialog:"qq-confirm-dialog-selector",dialogMessage:"qq-dialog-message-selector",dialogOkButton:"qq-ok-button-selector",promptDialog:"qq-prompt-dialog-selector",uploader:"qq-uploader-selector",drop:"qq-upload-drop-area-selector",list:"qq-upload-list-selector",progressBarContainer:"qq-progress-bar-container-selector",progressBar:"qq-progress-bar-selector",totalProgressBarContainer:"qq-total-progress-bar-container-selector",totalProgressBar:"qq-total-progress-bar-selector",file:"qq-upload-file-selector",spinner:"qq-upload-spinner-selector",size:"qq-upload-size-selector",cancel:"qq-upload-cancel-selector",pause:"qq-upload-pause-selector",continueButton:"qq-upload-continue-selector",deleteButton:"qq-upload-delete-selector",retry:"qq-upload-retry-selector",statusText:"qq-upload-status-text-selector",editFilenameInput:"qq-edit-filename-selector",editNameIcon:"qq-edit-filename-icon-selector",dropText:"qq-upload-drop-area-text-selector",dropProcessing:"qq-drop-processing-selector",dropProcessingSpinner:"qq-drop-processing-spinner-selector",thumbnail:"qq-thumbnail-selector"},v={},y=new qq.Promise,b=new qq.Promise,q=function(e){var t=new qq.Promise;return b.then(function(n){B(n,e),e.src?t.success():(e.src=n.src,e.onload=function(){e.onload=null,X(e),t.success()})},function(){j(e),t.success()}),t},_=function(e,n,i){var r=R(e);return t("Generating new thumbnail for "+e),n.qqThumbnailId=e,m.imageGenerator.generate(n,r,i).then(function(){d++,X(r),v[e].success()},function(){v[e].failure(),m.placeholders.waitUntilUpdate||M(e,r)})},x=function(){if(h.length){p=!0;var e=h.shift();e.update?z(e):U(e)}else p=!1},w=function(e){return L(A(e),g.cancel)},S=function(e){return L(A(e),g.continueButton)},T=function(e){return L(o,g[e+"Dialog"])},E=function(e){return L(A(e),g.deleteButton)},C=function(){return L(o,g.dropProcessing)},k=function(e){return L(A(e),g.editNameIcon)},A=function(e){return u.map[e]||qq(s).getFirstByClass("qq-file-id-"+e)},F=function(e){return L(A(e),g.file)},P=function(e){return L(A(e),g.pause)},D=function(e){return null==e?L(o,g.totalProgressBarContainer)||L(o,g.totalProgressBar):L(A(e),g.progressBarContainer)||L(A(e),g.progressBar)},N=function(e){return L(A(e),g.retry)},I=function(e){return L(A(e),g.size)},O=function(e){return L(A(e),g.spinner)},L=function(e,t){return e&&qq(e).getFirstByClass(t)},R=function(e){return a&&L(A(e),g.thumbnail)},j=function(e){e&&qq(e).addClass(m.classes.hide)},B=function(e,t){var n=e.style.maxWidth,i=e.style.maxHeight;i&&n&&!t.style.maxWidth&&!t.style.maxHeight&&qq(t).css({maxWidth:n,maxHeight:i})},M=function(e,t){var n=v[e]||(new qq.Promise).failure(),i=new qq.Promise;return y.then(function(e){n.then(function(){i.success()},function(){B(e,t),t.onload=function(){t.onload=null,i.success()},t.src=e.src,X(t)})}),i},H=function(e,t,n){var i=n,r=i.firstChild;t>0&&(r=qq(i).children()[t].nextSibling),i.insertBefore(e,r)},U=function(e){var t=e.id,n=e.optFileOrBlob,i=n&&n.qqThumbnailId,r=R(t),o={customResizeFunction:e.customResizeFunction,maxSize:f,orient:!0,scale:!0};qq.supportedFeatures.imagePreviews?r?m.limits.maxThumbs&&m.limits.maxThumbs<=d?(M(t,r),x()):q(r).done(function(){v[t]=new qq.Promise,v[t].done(function(){setTimeout(x,m.limits.timeBetweenThumbs)}),null!=i?W(t,i):_(t,n,o)}):x():r&&(q(r),x())},z=function(e){var t=e.id,n=e.thumbnailUrl,i=e.showWaitingImg,r=R(t),o={customResizeFunction:e.customResizeFunction,scale:l,maxSize:f};if(r)if(n){if(!(m.limits.maxThumbs&&m.limits.maxThumbs<=d))return i&&q(r),m.imageGenerator.generate(n,r,o).then(function(){X(r),d++,setTimeout(x,m.limits.timeBetweenThumbs)},function(){M(t,r),setTimeout(x,m.limits.timeBetweenThumbs)});M(t,r),x()}else M(t,r),x()},V=function(e,t){var n=D(e),i=null==e?g.totalProgressBar:g.progressBar;n&&!qq(n).hasClass(i)&&(n=qq(n).getFirstByClass(i)),n&&(qq(n).css({width:t+"%"}),n.setAttribute("aria-valuenow",t))},X=function(e){e&&qq(e).removeClass(m.classes.hide)},W=function(e,n){var i=R(e),r=R(n);t(qq.format("ID {} is the same file as ID {}.  Will use generated thumbnail from ID {} instead.",e,n,n)),v[n].then(function(){d++,v[e].success(),t(qq.format("Now using previously generated thumbnail created for ID {} on ID {}.",n,e)),i.src=r.src,X(i)},function(){v[e].failure(),m.placeholders.waitUntilUpdate||M(e,i)})};qq.extend(m,e),t=m.log,qq.supportedFeatures.imagePreviews||(m.limits.timeBetweenThumbs=0,m.limits.maxThumbs=0),o=m.containerEl,a=void 0!==m.imageGenerator,r=function(){var e,r,o,s,u,c,d,p,h,v,y;if(t("Parsing template"),null==m.templateIdOrEl)throw new Error("You MUST specify either a template element or ID!");if(qq.isString(m.templateIdOrEl)){if(null===(e=document.getElementById(m.templateIdOrEl)))throw new Error(qq.format("Cannot find template script at ID '{}'!",m.templateIdOrEl));r=e.innerHTML}else{if(void 0===m.templateIdOrEl.innerHTML)throw new Error("You have specified an invalid value for the template option!  It must be an ID or an Element.");r=m.templateIdOrEl.innerHTML}if(r=qq.trimStr(r),s=document.createElement("div"),s.appendChild(qq.toElement(r)),y=qq(s).getFirstByClass(g.uploader),m.button&&(c=qq(s).getFirstByClass(g.button))&&qq(c).remove(),qq.DragAndDrop&&qq.supportedFeatures.fileDrop||(h=qq(s).getFirstByClass(g.dropProcessing))&&qq(h).remove(),d=qq(s).getFirstByClass(g.drop),d&&!qq.DragAndDrop&&(t("DnD module unavailable.","info"),qq(d).remove()),qq.supportedFeatures.fileDrop?qq(y).hasAttribute("qq-drop-area-text")&&d&&(v=qq(d).getFirstByClass(g.dropText))&&qq(v).remove():(y.removeAttribute("qq-drop-area-text"),d&&qq(d).hasAttribute("qq-hide-dropzone")&&qq(d).css({display:"none"})),p=qq(s).getFirstByClass(g.thumbnail),a?p&&(f=parseInt(p.getAttribute("qq-max-size")),f=f>0?f:null,l=qq(p).hasAttribute("qq-server-scale")):p&&qq(p).remove(),a=a&&p,n=qq(s).getByClass(g.editFilenameInput).length>0,i=qq(s).getByClass(g.retry).length>0,null==(o=qq(s).getFirstByClass(g.list)))throw new Error("Could not find the file list container in the template!");return u=o.children[0].cloneNode(!0),o.innerHTML="",s.getElementsByTagName("DIALOG").length&&document.createElement("dialog"),t("Template parsing complete"),{template:s,fileTemplate:u}}(),function(){var e=m.placeholders.thumbnailNotAvailable,n=m.placeholders.waitingForThumbnail,i={maxSize:f,scale:l};a&&(e?m.imageGenerator.generate(e,new Image,i).then(function(e){y.success(e)},function(){y.failure(),t("Problem loading 'not available' placeholder image at "+e,"error")}):y.failure(),n?m.imageGenerator.generate(n,new Image,i).then(function(e){b.success(e)},function(){b.failure(),t("Problem loading 'waiting for thumbnail' placeholder image at "+n,"error")}):b.failure())}(),qq.extend(this,{render:function(){t("Rendering template in DOM."),d=0,o.appendChild(r.template.cloneNode(!0)),j(C()),this.hideTotalProgress(),s=m.fileContainerEl||L(o,g.list),t("Template rendering complete")},renderFailure:function(e){var t=qq.toElement(e);o.innerHTML="",o.appendChild(t)},reset:function(){this.render()},clearFiles:function(){s.innerHTML=""},disableCancel:function(){c=!0},addFile:function(e,t,n,i,a){var l,d=r.fileTemplate.cloneNode(!0),p=L(d,g.file),h=L(o,g.uploader),f=a?u.content:s;a&&(u.map[e]=d),qq(d).addClass("qq-file-id-"+e),h.removeAttribute("qq-drop-area-text"),p&&(qq(p).setText(t),p.setAttribute("title",t)),d.setAttribute("qq-file-id",e),n?H(d,n.index,f):f.appendChild(d),i?(d.style.display="none",qq(d).addClass("qq-hidden-forever")):(j(D(e)),j(I(e)),j(E(e)),j(N(e)),j(P(e)),j(S(e)),c&&this.hideCancel(e),(l=R(e))&&!l.src&&b.then(function(e){l.src=e.src,e.style.maxHeight&&e.style.maxWidth&&qq(l).css({maxHeight:e.style.maxHeight,maxWidth:e.style.maxWidth}),X(l)}))},addFileToCache:function(e,t,n,i){this.addFile(e,t,n,i,!0)},addCacheToDom:function(){s.appendChild(u.content),u.content=document.createDocumentFragment(),u.map={}},removeFile:function(e){qq(A(e)).remove()},getFileId:function(e){var t=e;if(t){for(;null==t.getAttribute("qq-file-id");)t=t.parentNode;return parseInt(t.getAttribute("qq-file-id"))}},getFileList:function(){return s},markFilenameEditable:function(e){var t=F(e);t&&qq(t).addClass(m.classes.editable)},updateFilename:function(e,t){var n=F(e);n&&(qq(n).setText(t),n.setAttribute("title",t))},hideFilename:function(e){j(F(e))},showFilename:function(e){X(F(e))},isFileName:function(e){return qq(e).hasClass(g.file)},getButton:function(){return m.button||L(o,g.button)},hideDropProcessing:function(){j(C())},showDropProcessing:function(){X(C())},getDropZone:function(){return L(o,g.drop)},isEditFilenamePossible:function(){return n},hideRetry:function(e){j(N(e))},isRetryPossible:function(){return i},showRetry:function(e){X(N(e))},getFileContainer:function(e){return A(e)},showEditIcon:function(e){var t=k(e);t&&qq(t).addClass(m.classes.editable)},isHiddenForever:function(e){return qq(A(e)).hasClass("qq-hidden-forever")},hideEditIcon:function(e){var t=k(e);t&&qq(t).removeClass(m.classes.editable)},isEditIcon:function(e){return qq(e).hasClass(g.editNameIcon,!0)},getEditInput:function(e){return L(A(e),g.editFilenameInput)},isEditInput:function(e){return qq(e).hasClass(g.editFilenameInput,!0)},updateProgress:function(e,t,n){var i,r=D(e);r&&n>0&&(i=Math.round(t/n*100),100===i?j(r):X(r),V(e,i))},updateTotalProgress:function(e,t){this.updateProgress(null,e,t)},hideProgress:function(e){var t=D(e);t&&j(t)},hideTotalProgress:function(){this.hideProgress()},resetProgress:function(e){V(e,0),this.hideTotalProgress(e)},resetTotalProgress:function(){this.resetProgress()},showCancel:function(e){if(!c){var t=w(e);t&&qq(t).removeClass(m.classes.hide)}},hideCancel:function(e){j(w(e))},isCancel:function(e){return qq(e).hasClass(g.cancel,!0)},allowPause:function(e){X(P(e)),j(S(e))},uploadPaused:function(e){this.setStatusText(e,m.text.paused),this.allowContinueButton(e),j(O(e))},hidePause:function(e){j(P(e))},isPause:function(e){return qq(e).hasClass(g.pause,!0)},isContinueButton:function(e){return qq(e).hasClass(g.continueButton,!0)},allowContinueButton:function(e){X(S(e)),j(P(e))},uploadContinued:function(e){this.setStatusText(e,""),this.allowPause(e),X(O(e))},showDeleteButton:function(e){X(E(e))},hideDeleteButton:function(e){j(E(e))},isDeleteButton:function(e){return qq(e).hasClass(g.deleteButton,!0)},isRetry:function(e){return qq(e).hasClass(g.retry,!0)},updateSize:function(e,t){var n=I(e);n&&(X(n),qq(n).setText(t))},setStatusText:function(e,t){var n=L(A(e),g.statusText);n&&(null==t?qq(n).clearText():qq(n).setText(t))},hideSpinner:function(e){qq(A(e)).removeClass("qq-in-progress"),j(O(e))},showSpinner:function(e){qq(A(e)).addClass("qq-in-progress"),X(O(e))},generatePreview:function(e,t,n){this.isHiddenForever(e)||(h.push({id:e,customResizeFunction:n,optFileOrBlob:t}),!p&&x())},updateThumbnail:function(e,t,n,i){this.isHiddenForever(e)||(h.push({customResizeFunction:i,update:!0,id:e,thumbnailUrl:t,showWaitingImg:n}),!p&&x())},hasDialog:function(e){return qq.supportedFeatures.dialogElement&&!!T(e)},showDialog:function(e,t,n){var i=T(e),r=L(i,g.dialogMessage),o=i.getElementsByTagName("INPUT")[0],s=L(i,g.dialogCancelButton),a=L(i,g.dialogOkButton),l=new qq.Promise,u=function(){s.removeEventListener("click",c),a&&a.removeEventListener("click",d),l.failure()},c=function(){s.removeEventListener("click",c),i.close()},d=function(){i.removeEventListener("close",u),a.removeEventListener("click",d),i.close(),l.success(o&&o.value)};return i.addEventListener("close",u),s.addEventListener("click",c),a&&a.addEventListener("click",d),o&&(o.value=n),r.textContent=t,i.showModal(),l}})},qq.UiEventHandler=function(e,t){"use strict";function n(e){i.attach(e,r.eventType,function(e){e=e||window.event;var t=e.target||e.srcElement;r.onHandled(t,e)})}var i=new qq.DisposeSupport,r={eventType:"click",attachTo:null,onHandled:function(e,t){}};qq.extend(this,{addHandler:function(e){n(e)},dispose:function(){i.dispose()}}),qq.extend(t,{getFileIdFromItem:function(e){return e.qqFileId},getDisposeSupport:function(){return i}}),qq.extend(r,e),r.attachTo&&n(r.attachTo)},qq.FileButtonsClickHandler=function(e){"use strict";function t(e,t){qq.each(r,function(n,r){var o,s=n.charAt(0).toUpperCase()+n.slice(1);if(i.templating["is"+s](e))return o=i.templating.getFileId(e),qq.preventDefault(t),i.log(qq.format("Detected valid file button click event on file '{}', ID: {}.",i.onGetName(o),o)),r(o),!1})}var n={},i={templating:null,log:function(e,t){},onDeleteFile:function(e){},onCancel:function(e){},onRetry:function(e){},onPause:function(e){},onContinue:function(e){},onGetName:function(e){}},r={cancel:function(e){i.onCancel(e)},retry:function(e){i.onRetry(e)},deleteButton:function(e){i.onDeleteFile(e)},pause:function(e){i.onPause(e)},continueButton:function(e){i.onContinue(e)}};qq.extend(i,e),i.eventType="click",i.onHandled=t,i.attachTo=i.templating.getFileList(),qq.extend(this,new qq.UiEventHandler(i,n))},qq.FilenameClickHandler=function(e){"use strict";function t(e,t){if(i.templating.isFileName(e)||i.templating.isEditIcon(e)){var r=i.templating.getFileId(e);i.onGetUploadStatus(r)===qq.status.SUBMITTED&&(i.log(qq.format("Detected valid filename click event on file '{}', ID: {}.",i.onGetName(r),r)),qq.preventDefault(t),n.handleFilenameEdit(r,e,!0))}}var n={},i={templating:null,log:function(e,t){},classes:{file:"qq-upload-file",editNameIcon:"qq-edit-filename-icon"},onGetUploadStatus:function(e){},onGetName:function(e){}};qq.extend(i,e),i.eventType="click",i.onHandled=t,qq.extend(this,new qq.FilenameEditHandler(i,n))},qq.FilenameInputFocusInHandler=function(e,t){"use strict";function n(e,n){if(i.templating.isEditInput(e)){var r=i.templating.getFileId(e);i.onGetUploadStatus(r)===qq.status.SUBMITTED&&(i.log(qq.format("Detected valid filename input focus event on file '{}', ID: {}.",i.onGetName(r),r)),t.handleFilenameEdit(r,e))}}var i={templating:null,onGetUploadStatus:function(e){},log:function(e,t){}};t||(t={}),i.eventType="focusin",i.onHandled=n,qq.extend(i,e),qq.extend(this,new qq.FilenameEditHandler(i,t))},qq.FilenameInputFocusHandler=function(e){"use strict";e.eventType="focus",e.attachTo=null,qq.extend(this,new qq.FilenameInputFocusInHandler(e,{}))},qq.FilenameEditHandler=function(e,t){"use strict";function n(e){var t=a.onGetName(e),n=t.lastIndexOf(".");return n>0&&(t=t.substr(0,n)),t}function i(e){var t=a.onGetName(e);return qq.getExtension(t)}function r(e,t){var n,r=e.value;void 0!==r&&qq.trimStr(r).length>0&&(n=i(t),void 0!==n&&(r=r+"."+n),a.onSetName(t,r)),a.onEditingStatusChange(t,!1)}function o(e,n){t.getDisposeSupport().attach(e,"blur",function(){r(e,n)})}function s(e,n){t.getDisposeSupport().attach(e,"keyup",function(t){13===(t.keyCode||t.which)&&r(e,n)})}var a={templating:null,log:function(e,t){},onGetUploadStatus:function(e){},onGetName:function(e){},onSetName:function(e,t){},onEditingStatusChange:function(e,t){}};qq.extend(a,e),a.attachTo=a.templating.getFileList(),qq.extend(this,new qq.UiEventHandler(a,t)),qq.extend(t,{handleFilenameEdit:function(e,t,i){var r=a.templating.getEditInput(e);a.onEditingStatusChange(e,!0),r.value=n(e),i&&r.focus(),o(r,e),s(r,e)}})}}(window)},"./node_modules/jquery/dist/jquery.js":function(e,exports,t){var n,i;!function(t,n){"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(t,r){function o(e){var t=e.length,n=ae.type(e);return"function"!==n&&!ae.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e))}function s(e,t,n){if(ae.isFunction(t))return ae.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return ae.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(me.test(t))return ae.filter(t,e,n);t=ae.filter(t,e)}return ae.grep(e,function(e){return ae.inArray(e,t)>=0!==n})}function a(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function l(e){var t=xe[e]={};return ae.each(e.match(_e)||[],function(e,n){t[n]=!0}),t}function u(){ve.addEventListener?(ve.removeEventListener("DOMContentLoaded",c,!1),t.removeEventListener("load",c,!1)):(ve.detachEvent("onreadystatechange",c),t.detachEvent("onload",c))}function c(){(ve.addEventListener||"load"===event.type||"complete"===ve.readyState)&&(u(),ae.ready())}function d(e,t,n){if(void 0===n&&1===e.nodeType){var i="data-"+t.replace(Ce,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Ee.test(n)?ae.parseJSON(n):n)}catch(e){}ae.data(e,t,n)}else n=void 0}return n}function p(e){var t;for(t in e)if(("data"!==t||!ae.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function h(e,t,n,i){if(ae.acceptData(e)){var r,o,s=ae.expando,a=e.nodeType,l=a?ae.cache:e,u=a?e[s]:e[s]&&s;if(u&&l[u]&&(i||l[u].data)||void 0!==n||"string"!=typeof t)return u||(u=a?e[s]=Q.pop()||ae.guid++:s),l[u]||(l[u]=a?{}:{toJSON:ae.noop}),"object"!=typeof t&&"function"!=typeof t||(i?l[u]=ae.extend(l[u],t):l[u].data=ae.extend(l[u].data,t)),o=l[u],i||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[ae.camelCase(t)]=n),"string"==typeof t?null==(r=o[t])&&(r=o[ae.camelCase(t)]):r=o,r}}function f(e,t,n){if(ae.acceptData(e)){var i,r,o=e.nodeType,s=o?ae.cache:e,a=o?e[ae.expando]:ae.expando;if(s[a]){if(t&&(i=n?s[a]:s[a].data)){ae.isArray(t)?t=t.concat(ae.map(t,ae.camelCase)):t in i?t=[t]:(t=ae.camelCase(t),t=t in i?[t]:t.split(" ")),r=t.length;for(;r--;)delete i[t[r]];if(n?!p(i):!ae.isEmptyObject(i))return}(n||(delete s[a].data,p(s[a])))&&(o?ae.cleanData([e],!0):se.deleteExpando||s!=s.window?delete s[a]:s[a]=null)}}}function m(){return!0}function g(){return!1}function v(){try{return ve.activeElement}catch(e){}}function y(e){var t=je.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function b(e,t){var n,i,r=0,o=typeof e.getElementsByTagName!==Te?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==Te?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(i=n[r]);r++)!t||ae.nodeName(i,t)?o.push(i):ae.merge(o,b(i,t));return void 0===t||t&&ae.nodeName(e,t)?ae.merge([e],o):o}function q(e){De.test(e.type)&&(e.defaultChecked=e.checked)}function _(e,t){return ae.nodeName(e,"table")&&ae.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function x(e){return e.type=(null!==ae.find.attr(e,"type"))+"/"+e.type,e}function w(e){var t=Ge.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function S(e,t){for(var n,i=0;null!=(n=e[i]);i++)ae._data(n,"globalEval",!t||ae._data(t[i],"globalEval"))}function T(e,t){if(1===t.nodeType&&ae.hasData(e)){var n,i,r,o=ae._data(e),s=ae._data(t,o),a=o.events;if(a){delete s.handle,s.events={};for(n in a)for(i=0,r=a[n].length;i<r;i++)ae.event.add(t,n,a[n][i])}s.data&&(s.data=ae.extend({},s.data))}}function E(e,t){var n,i,r;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!se.noCloneEvent&&t[ae.expando]){r=ae._data(t);for(i in r.events)ae.removeEvent(t,i,r.handle);t.removeAttribute(ae.expando)}"script"===n&&t.text!==e.text?(x(t).text=e.text,w(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),se.html5Clone&&e.innerHTML&&!ae.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&De.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}function C(e,n){var i,r=ae(n.createElement(e)).appendTo(n.body),o=t.getDefaultComputedStyle&&(i=t.getDefaultComputedStyle(r[0]))?i.display:ae.css(r[0],"display");return r.detach(),o}function k(e){var t=ve,n=tt[e];return n||(n=C(e,t),"none"!==n&&n||(et=(et||ae("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(et[0].contentWindow||et[0].contentDocument).document,t.write(),t.close(),n=C(e,t),et.detach()),tt[e]=n),n}function A(e,t){return{get:function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}function F(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=ft.length;r--;)if((t=ft[r]+n)in e)return t;return i}function P(e,t){for(var n,i,r,o=[],s=0,a=e.length;s<a;s++)i=e[s],i.style&&(o[s]=ae._data(i,"olddisplay"),n=i.style.display,t?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&Fe(i)&&(o[s]=ae._data(i,"olddisplay",k(i.nodeName)))):(r=Fe(i),(n&&"none"!==n||!r)&&ae._data(i,"olddisplay",r?n:ae.css(i,"display"))));for(s=0;s<a;s++)i=e[s],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[s]||"":"none"));return e}function D(e,t,n){var i=ct.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function N(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,s=0;o<4;o+=2)"margin"===n&&(s+=ae.css(e,n+Ae[o],!0,r)),i?("content"===n&&(s-=ae.css(e,"padding"+Ae[o],!0,r)),"margin"!==n&&(s-=ae.css(e,"border"+Ae[o]+"Width",!0,r))):(s+=ae.css(e,"padding"+Ae[o],!0,r),"padding"!==n&&(s+=ae.css(e,"border"+Ae[o]+"Width",!0,r)));return s}function I(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=nt(e),s=se.boxSizing&&"border-box"===ae.css(e,"boxSizing",!1,o);if(r<=0||null==r){if(r=it(e,t,o),(r<0||null==r)&&(r=e.style[t]),ot.test(r))return r;i=s&&(se.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+N(e,t,n||(s?"border":"content"),i,o)+"px"}function O(e,t,n,i,r){return new O.prototype.init(e,t,n,i,r)}function L(){return setTimeout(function(){mt=void 0}),mt=ae.now()}function R(e,t){var n,i={height:e},r=0;for(t=t?1:0;r<4;r+=2-t)n=Ae[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function j(e,t,n){for(var i,r=(_t[t]||[]).concat(_t["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,t,e))return i}function B(e,t,n){var i,r,o,s,a,l,u,c=this,d={},p=e.style,h=e.nodeType&&Fe(e),f=ae._data(e,"fxshow");n.queue||(a=ae._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,ae.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],u=ae.css(e,"display"),"inline"===("none"===u?ae._data(e,"olddisplay")||k(e.nodeName):u)&&"none"===ae.css(e,"float")&&(se.inlineBlockNeedsLayout&&"inline"!==k(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",se.shrinkWrapBlocks()||c.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],vt.exec(r)){if(delete t[i],o=o||"toggle"===r,r===(h?"hide":"show")){if("show"!==r||!f||void 0===f[i])continue;h=!0}d[i]=f&&f[i]||ae.style(e,i)}else u=void 0;if(ae.isEmptyObject(d))"inline"===("none"===u?k(e.nodeName):u)&&(p.display=u);else{f?"hidden"in f&&(h=f.hidden):f=ae._data(e,"fxshow",{}),o&&(f.hidden=!h),h?ae(e).show():c.done(function(){ae(e).hide()}),c.done(function(){var t;ae._removeData(e,"fxshow");for(t in d)ae.style(e,t,d[t])});for(i in d)s=j(h?f[i]:0,i,c),i in f||(f[i]=s.start,h&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function M(e,t){var n,i,r,o,s;for(n in e)if(i=ae.camelCase(n),r=t[i],o=e[n],ae.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(s=ae.cssHooks[i])&&"expand"in s){o=s.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function H(e,t,n){var i,r,o=0,s=qt.length,a=ae.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=mt||L(),n=Math.max(0,u.startTime+u.duration-t),i=n/u.duration||0,o=1-i,s=0,l=u.tweens.length;s<l;s++)u.tweens[s].run(o);return a.notifyWith(e,[u,o,n]),o<1&&l?n:(a.resolveWith(e,[u]),!1)},u=a.promise({elem:e,props:ae.extend({},t),opts:ae.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:mt||L(),duration:n.duration,tweens:[],createTween:function(t,n){var i=ae.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)u.tweens[n].run(1);return t?a.resolveWith(e,[u,t]):a.rejectWith(e,[u,t]),this}}),c=u.props;for(M(c,u.opts.specialEasing);o<s;o++)if(i=qt[o].call(u,e,c,u.opts))return i;return ae.map(c,j,u),ae.isFunction(u.opts.start)&&u.opts.start.call(e,u),ae.fx.timer(ae.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function U(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(_e)||[];if(ae.isFunction(n))for(;i=o[r++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function z(e,t,n,i){function r(a){var l;return o[a]=!0,ae.each(e[a]||[],function(e,a){var u=a(t,n,i);return"string"!=typeof u||s||o[u]?s?!(l=u):void 0:(t.dataTypes.unshift(u),r(u),!1)}),l}var o={},s=e===Vt;return r(t.dataTypes[0])||!o["*"]&&r("*")}function V(e,t){var n,i,r=ae.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((r[i]?e:n||(n={}))[i]=t[i]);return n&&ae.extend(!0,e,n),e}function X(e,t,n){for(var i,r,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(s in a)if(a[s]&&a[s].test(r)){l.unshift(s);break}if(l[0]in n)o=l[0];else{for(s in n){if(!l[0]||e.converters[s+" "+l[0]]){o=s;break}i||(i=s)}o=o||i}if(o)return o!==l[0]&&l.unshift(o),n[o]}function W(e,t,n,i){var r,o,s,a,l,u={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)u[s.toLowerCase()]=e.converters[s];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=u[l+" "+o]||u["* "+o]))for(r in u)if(a=r.split(" "),a[1]===o&&(s=u[l+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[r]:!0!==u[r]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function Y(e,t,n,i){var r;if(ae.isArray(t))ae.each(t,function(t,r){n||Yt.test(e)?i(e,r):Y(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==ae.type(t))i(e,t);else for(r in t)Y(e+"["+r+"]",t[r],n,i)}function G(){try{return new t.XMLHttpRequest}catch(e){}}function J(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function K(e){return ae.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var Q=[],Z=Q.slice,ee=Q.concat,te=Q.push,ne=Q.indexOf,ie={},re=ie.toString,oe=ie.hasOwnProperty,se={},ae=function(e,t){return new ae.fn.init(e,t)},le=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ue=/^-ms-/,ce=/-([\da-z])/gi,de=function(e,t){return t.toUpperCase()};ae.fn=ae.prototype={jquery:"1.11.2",constructor:ae,selector:"",length:0,toArray:function(){return Z.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:Z.call(this)},pushStack:function(e){var t=ae.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ae.each(this,e,t)},map:function(e){return this.pushStack(ae.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(Z.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:te,sort:Q.sort,splice:Q.splice},ae.extend=ae.fn.extend=function(){var e,t,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||ae.isFunction(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(r=arguments[a]))for(i in r)e=s[i],n=r[i],s!==n&&(u&&n&&(ae.isPlainObject(n)||(t=ae.isArray(n)))?(t?(t=!1,o=e&&ae.isArray(e)?e:[]):o=e&&ae.isPlainObject(e)?e:{},s[i]=ae.extend(u,o,n)):void 0!==n&&(s[i]=n));return s},ae.extend({expando:"jQuery"+("1.11.2"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ae.type(e)},isArray:Array.isArray||function(e){return"array"===ae.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!ae.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==ae.type(e)||e.nodeType||ae.isWindow(e))return!1;try{if(e.constructor&&!oe.call(e,"constructor")&&!oe.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(se.ownLast)for(t in e)return oe.call(e,t);for(t in e);return void 0===t||oe.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ie[re.call(e)]||"object":typeof e},globalEval:function(e){e&&ae.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(e){return e.replace(ue,"ms-").replace(ce,de)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var i=0,r=e.length,s=o(e);if(n){if(s)for(;i<r&&!1!==t.apply(e[i],n);i++);else for(i in e)if(!1===t.apply(e[i],n))break}else if(s)for(;i<r&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(le,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(o(Object(e))?ae.merge(n,"string"==typeof e?[e]:e):te.call(n,e)),n},inArray:function(e,t,n){var i;if(t){if(ne)return ne.call(t,e,n);for(i=t.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;)e[r++]=t[i++];if(n!==n)for(;void 0!==t[i];)e[r++]=t[i++];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,s=!n;r<o;r++)!t(e[r],r)!==s&&i.push(e[r]);return i},map:function(e,t,n){var i,r=0,s=e.length,a=o(e),l=[];if(a)for(;r<s;r++)null!=(i=t(e[r],r,n))&&l.push(i);else for(r in e)null!=(i=t(e[r],r,n))&&l.push(i);return ee.apply([],l)},guid:1,proxy:function(e,t){var n,i,r;if("string"==typeof t&&(r=e[t],t=e,e=r),ae.isFunction(e))return n=Z.call(arguments,2),i=function(){return e.apply(t||this,n.concat(Z.call(arguments)))},i.guid=e.guid=e.guid||ae.guid++,i},now:function(){return+new Date},support:se}),ae.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){ie["[object "+t+"]"]=t.toLowerCase()});var pe=function(e){function t(e,t,n,i){var r,o,s,a,u,d,p,h,f,m;if((t?t.ownerDocument||t:j)!==F&&A(t),t=t||F,n=n||[],a=t.nodeType,"string"!=typeof e||!e||1!==a&&9!==a&&11!==a)return n;if(!i&&D){if(11!==a&&(r=ve.exec(e)))if(s=r[1]){if(9===a){if(!(o=t.getElementById(s))||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&L(t,o)&&o.id===s)return n.push(o),n}else{if(r[2])return K.apply(n,t.getElementsByTagName(e)),n;if((s=r[3])&&b.getElementsByClassName)return K.apply(n,t.getElementsByClassName(s)),n}if(b.qsa&&(!N||!N.test(e))){if(h=p=R,f=t,m=1!==a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(d=w(e),(p=t.getAttribute("id"))?h=p.replace(be,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",u=d.length;u--;)d[u]=h+c(d[u]);f=ye.test(e)&&l(t.parentNode)||t,m=d.join(",")}if(m)try{return K.apply(n,f.querySelectorAll(m)),n}catch(e){}finally{p||t.removeAttribute("id")}}}return T(e.replace(ae,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>q.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[R]=!0,e}function r(e){var t=F.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),i=e.length;i--;)q.attrHandle[n[i]]=t}function s(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||X)-(~e.sourceIndex||X);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return i(function(t){return t=+t,i(function(n,i){for(var r,o=e([],n.length,t),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function l(e){return e&&void 0!==e.getElementsByTagName&&e}function u(){}function c(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function d(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=M++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,s){var a,l,u=[B,o];if(s){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,s))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if(l=t[R]||(t[R]={}),(a=l[i])&&a[0]===B&&a[1]===o)return u[2]=a[2];if(l[i]=u,u[2]=e(t,n,s))return!0}}}function p(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function h(e,n,i){for(var r=0,o=n.length;r<o;r++)t(e,n[r],i);return i}function f(e,t,n,i,r){for(var o,s=[],a=0,l=e.length,u=null!=t;a<l;a++)(o=e[a])&&(n&&!n(o,i,r)||(s.push(o),u&&t.push(a)));return s}function m(e,t,n,r,o,s){return r&&!r[R]&&(r=m(r)),o&&!o[R]&&(o=m(o,s)),i(function(i,s,a,l){var u,c,d,p=[],m=[],g=s.length,v=i||h(t||"*",a.nodeType?[a]:a,[]),y=!e||!i&&t?v:f(v,p,e,a,l),b=n?o||(i?e:g||r)?[]:s:y;if(n&&n(y,b,a,l),r)for(u=f(b,m),r(u,[],a,l),c=u.length;c--;)(d=u[c])&&(b[m[c]]=!(y[m[c]]=d));if(i){if(o||e){if(o){for(u=[],c=b.length;c--;)(d=b[c])&&u.push(y[c]=d);o(null,b=[],u,l)}for(c=b.length;c--;)(d=b[c])&&(u=o?Z(i,d):p[c])>-1&&(i[u]=!(s[u]=d))}}else b=f(b===s?b.splice(g,b.length):b),o?o(null,s,b,l):K.apply(s,b)})}function g(e){for(var t,n,i,r=e.length,o=q.relative[e[0].type],s=o||q.relative[" "],a=o?1:0,l=d(function(e){return e===t},s,!0),u=d(function(e){return Z(t,e)>-1},s,!0),h=[function(e,n,i){var r=!o&&(i||n!==E)||((t=n).nodeType?l(e,n,i):u(e,n,i));return t=null,r}];a<r;a++)if(n=q.relative[e[a].type])h=[d(p(h),n)];else{if(n=q.filter[e[a].type].apply(null,e[a].matches),n[R]){for(i=++a;i<r&&!q.relative[e[i].type];i++);return m(a>1&&p(h),a>1&&c(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ae,"$1"),n,a<i&&g(e.slice(a,i)),i<r&&g(e=e.slice(i)),i<r&&c(e))}h.push(n)}return p(h)}function v(e,n){var r=n.length>0,o=e.length>0,s=function(i,s,a,l,u){var c,d,p,h=0,m="0",g=i&&[],v=[],y=E,b=i||o&&q.find.TAG("*",u),_=B+=null==y?1:Math.random()||.1,x=b.length;for(u&&(E=s!==F&&s);m!==x&&null!=(c=b[m]);m++){if(o&&c){for(d=0;p=e[d++];)if(p(c,s,a)){l.push(c);break}u&&(B=_)}r&&((c=!p&&c)&&h--,i&&g.push(c))}if(h+=m,r&&m!==h){for(d=0;p=n[d++];)p(g,v,s,a);if(i){if(h>0)for(;m--;)g[m]||v[m]||(v[m]=G.call(l));v=f(v)}K.apply(l,v),u&&!i&&v.length>0&&h+n.length>1&&t.uniqueSort(l)}return u&&(B=_,E=y),g};return r?i(s):s}var y,b,q,_,x,w,S,T,E,C,k,A,F,P,D,N,I,O,L,R="sizzle"+1*new Date,j=e.document,B=0,M=0,H=n(),U=n(),z=n(),V=function(e,t){return e===t&&(k=!0),0},X=1<<31,W={}.hasOwnProperty,Y=[],G=Y.pop,J=Y.push,K=Y.push,Q=Y.slice,Z=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},ee="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",te="[\\x20\\t\\r\\n\\f]",ne="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=ne.replace("w","w#"),re="\\["+te+"*("+ne+")(?:"+te+"*([*^$|!~]?=)"+te+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+te+"*\\]",oe=":("+ne+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",se=new RegExp(te+"+","g"),ae=new RegExp("^"+te+"+|((?:^|[^\\\\])(?:\\\\.)*)"+te+"+$","g"),le=new RegExp("^"+te+"*,"+te+"*"),ue=new RegExp("^"+te+"*([>+~]|"+te+")"+te+"*"),ce=new RegExp("="+te+"*([^\\]'\"]*?)"+te+"*\\]","g"),de=new RegExp(oe),pe=new RegExp("^"+ie+"$"),he={ID:new RegExp("^#("+ne+")"),CLASS:new RegExp("^\\.("+ne+")"),TAG:new RegExp("^("+ne.replace("w","w*")+")"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+te+"*(even|odd|(([+-]|)(\\d*)n|)"+te+"*(?:([+-]|)"+te+"*(\\d+)|))"+te+"*\\)|)","i"),bool:new RegExp("^(?:"+ee+")$","i"),needsContext:new RegExp("^"+te+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+te+"*((?:-\\d)?\\d*)"+te+"*\\)|)(?=[^-]|$)","i")},fe=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,be=/'|\\/g,qe=new RegExp("\\\\([\\da-f]{1,6}"+te+"?|("+te+")|.)","ig"),_e=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},xe=function(){A()};try{K.apply(Y=Q.call(j.childNodes),j.childNodes),Y[j.childNodes.length].nodeType}catch(e){K={apply:Y.length?function(e,t){J.apply(e,Q.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}b=t.support={},x=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},A=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:j;return i!==F&&9===i.nodeType&&i.documentElement?(F=i,P=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",xe,!1):n.attachEvent&&n.attachEvent("onunload",xe)),D=!x(i),b.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),b.getElementsByTagName=r(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),b.getElementsByClassName=ge.test(i.getElementsByClassName),b.getById=r(function(e){return P.appendChild(e).id=R,!i.getElementsByName||!i.getElementsByName(R).length}),b.getById?(q.find.ID=function(e,t){if(void 0!==t.getElementById&&D){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},q.filter.ID=function(e){var t=e.replace(qe,_e);return function(e){return e.getAttribute("id")===t}}):(delete q.find.ID,q.filter.ID=function(e){var t=e.replace(qe,_e);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),q.find.TAG=b.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):b.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},q.find.CLASS=b.getElementsByClassName&&function(e,t){if(D)return t.getElementsByClassName(e)},I=[],N=[],(b.qsa=ge.test(i.querySelectorAll))&&(r(function(e){P.appendChild(e).innerHTML="<a id='"+R+"'></a><select id='"+R+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&N.push("[*^$]="+te+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||N.push("\\["+te+"*(?:value|"+ee+")"),e.querySelectorAll("[id~="+R+"-]").length||N.push("~="),e.querySelectorAll(":checked").length||N.push(":checked"),e.querySelectorAll("a#"+R+"+*").length||N.push(".#.+[+~]")}),r(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&N.push("name"+te+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||N.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),N.push(",.*:")})),(b.matchesSelector=ge.test(O=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&r(function(e){b.disconnectedMatch=O.call(e,"div"),O.call(e,"[s!='']:x"),I.push("!=",oe)}),N=N.length&&new RegExp(N.join("|")),I=I.length&&new RegExp(I.join("|")),t=ge.test(P.compareDocumentPosition),L=t||ge.test(P.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return k=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!b.sortDetached&&t.compareDocumentPosition(e)===n?e===i||e.ownerDocument===j&&L(j,e)?-1:t===i||t.ownerDocument===j&&L(j,t)?1:C?Z(C,e)-Z(C,t):0:4&n?-1:1)}:function(e,t){if(e===t)return k=!0,0;var n,r=0,o=e.parentNode,a=t.parentNode,l=[e],u=[t];if(!o||!a)return e===i?-1:t===i?1:o?-1:a?1:C?Z(C,e)-Z(C,t):0;if(o===a)return s(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;l[r]===u[r];)r++;return r?s(l[r],u[r]):l[r]===j?-1:u[r]===j?1:0},i):F},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==F&&A(e),n=n.replace(ce,"='$1']"),b.matchesSelector&&D&&(!I||!I.test(n))&&(!N||!N.test(n)))try{var i=O.call(e,n);if(i||b.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return t(n,F,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==F&&A(e),L(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==F&&A(e);var n=q.attrHandle[t.toLowerCase()],i=n&&W.call(q.attrHandle,t.toLowerCase())?n(e,t,!D):void 0;return void 0!==i?i:b.attributes||!D?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(k=!b.detectDuplicates,C=!b.sortStable&&e.slice(0),e.sort(V),k){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return C=null,e},_=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=_(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=_(t);return n},q=t.selectors={cacheLength:50,createPseudo:i,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(qe,_e),e[3]=(e[3]||e[4]||e[5]||"").replace(qe,_e),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&de.test(n)&&(t=w(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(qe,_e).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=H[e+" "];return t||(t=new RegExp("(^|"+te+")"+e+"("+te+"|$)"))&&H(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var o=t.attr(r,e);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(se," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,p,h,f,m=o!==s?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&y){for(c=g[R]||(g[R]={}),u=c[e]||[],h=u[0]===B&&u[1],p=u[0]===B&&u[2],d=h&&g.childNodes[h];d=++h&&d&&d[m]||(p=h=0)||f.pop();)if(1===d.nodeType&&++p&&d===t){c[e]=[B,h,p];break}}else if(y&&(u=(t[R]||(t[R]={}))[e])&&u[0]===B)p=u[1];else for(;(d=++h&&d&&d[m]||(p=h=0)||f.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++p||(y&&((d[R]||(d[R]={}))[e]=[B,p]),d!==t)););return(p-=r)===i||p%i==0&&p/i>=0}}},PSEUDO:function(e,n){var r,o=q.pseudos[e]||q.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[R]?o(n):o.length>1?(r=[e,e,"",n],q.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=o(e,n),s=r.length;s--;)i=Z(e,r[s]),e[i]=!(t[i]=r[s])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=S(e.replace(ae,"$1"));return r[R]?i(function(e,t,n,i){for(var o,s=r(e,null,i,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(qe,_e),function(t){return(t.textContent||t.innerText||_(t)).indexOf(e)>-1}}),lang:i(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(qe,_e).toLowerCase(),function(t){var n;do{if(n=D?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===P},focus:function(e){return e===F.activeElement&&(!F.hasFocus||F.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!q.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:a(function(){return[0]}),last:a(function(e,t){return[t-1]}),eq:a(function(e,t,n){return[n<0?n+t:n]}),even:a(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:a(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:a(function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e}),gt:a(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}},q.pseudos.nth=q.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})q.pseudos[y]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(y);for(y in{submit:!0,reset:!0})q.pseudos[y]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(y);return u.prototype=q.filters=q.pseudos,q.setFilters=new u,w=t.tokenize=function(e,n){var i,r,o,s,a,l,u,c=U[e+" "];if(c)return n?0:c.slice(0);for(a=e,l=[],u=q.preFilter;a;){i&&!(r=le.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=ue.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(ae," ")}),a=a.slice(i.length));for(s in q.filter)!(r=he[s].exec(a))||u[s]&&!(r=u[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?t.error(e):U(e,l).slice(0)},S=t.compile=function(e,t){var n,i=[],r=[],o=z[e+" "];if(!o){for(t||(t=w(e)),n=t.length;n--;)o=g(t[n]),o[R]?i.push(o):r.push(o);o=z(e,v(r,i)),o.selector=e}return o},T=t.select=function(e,t,n,i){var r,o,s,a,u,d="function"==typeof e&&e,p=!i&&w(e=d.selector||e);if(n=n||[],1===p.length){if(o=p[0]=p[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&b.getById&&9===t.nodeType&&D&&q.relative[o[1].type]){if(!(t=(q.find.ID(s.matches[0].replace(qe,_e),t)||[])[0]))return n;d&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=he.needsContext.test(e)?0:o.length;r--&&(s=o[r],!q.relative[a=s.type]);)if((u=q.find[a])&&(i=u(s.matches[0].replace(qe,_e),ye.test(o[0].type)&&l(t.parentNode)||t))){if(o.splice(r,1),!(e=i.length&&c(o)))return K.apply(n,i),n;break}}return(d||S(e,p))(i,t,!D,n,ye.test(e)&&l(t.parentNode)||t),n},b.sortStable=R.split("").sort(V).join("")===R,b.detectDuplicates=!!k,A(),b.sortDetached=r(function(e){return 1&e.compareDocumentPosition(F.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),b.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(ee,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(t);ae.find=pe,ae.expr=pe.selectors,ae.expr[":"]=ae.expr.pseudos,ae.unique=pe.uniqueSort,ae.text=pe.getText,ae.isXMLDoc=pe.isXML,ae.contains=pe.contains;var he=ae.expr.match.needsContext,fe=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,me=/^.[^:#\[\.,]*$/;ae.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?ae.find.matchesSelector(i,e)?[i]:[]:ae.find.matches(e,ae.grep(t,function(e){return 1===e.nodeType}))},ae.fn.extend({find:function(e){var t,n=[],i=this,r=i.length;if("string"!=typeof e)return this.pushStack(ae(e).filter(function(){for(t=0;t<r;t++)if(ae.contains(i[t],this))return!0}));for(t=0;t<r;t++)ae.find(e,i[t],n);return n=this.pushStack(r>1?ae.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(s(this,e||[],!1))},not:function(e){return this.pushStack(s(this,e||[],!0))},is:function(e){return!!s(this,"string"==typeof e&&he.test(e)?ae(e):e||[],!1).length}});var ge,ve=t.document,ye=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(ae.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(!(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:ye.exec(e))||!n[1]&&t)return!t||t.jquery?(t||ge).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof ae?t[0]:t,ae.merge(this,ae.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:ve,!0)),fe.test(n[1])&&ae.isPlainObject(t))for(n in t)ae.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if((i=ve.getElementById(n[2]))&&i.parentNode){if(i.id!==n[2])return ge.find(e);this.length=1,this[0]=i}return this.context=ve,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ae.isFunction(e)?void 0!==ge.ready?ge.ready(e):e(ae):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ae.makeArray(e,this))}).prototype=ae.fn,ge=ae(ve);var be=/^(?:parents|prev(?:Until|All))/,qe={children:!0,contents:!0,next:!0,prev:!0};ae.extend({dir:function(e,t,n){for(var i=[],r=e[t];r&&9!==r.nodeType&&(void 0===n||1!==r.nodeType||!ae(r).is(n));)1===r.nodeType&&i.push(r),r=r[t];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),ae.fn.extend({has:function(e){var t,n=ae(e,this),i=n.length;return this.filter(function(){for(t=0;t<i;t++)if(ae.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,o=[],s=he.test(e)||"string"!=typeof e?ae(e,t||this.context):0;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&ae.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?ae.unique(o):o)},index:function(e){return e?"string"==typeof e?ae.inArray(this[0],ae(e)):ae.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ae.unique(ae.merge(this.get(),ae(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ae.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ae.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ae.dir(e,"parentNode",n)},next:function(e){return a(e,"nextSibling")},prev:function(e){return a(e,"previousSibling")},nextAll:function(e){return ae.dir(e,"nextSibling")},prevAll:function(e){return ae.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ae.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ae.dir(e,"previousSibling",n)},siblings:function(e){return ae.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ae.sibling(e.firstChild)},contents:function(e){return ae.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ae.merge([],e.childNodes)}},function(e,t){ae.fn[e]=function(n,i){var r=ae.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=ae.filter(i,r)),this.length>1&&(qe[e]||(r=ae.unique(r)),be.test(e)&&(r=r.reverse())),this.pushStack(r)}});var _e=/\S+/g,xe={};ae.Callbacks=function(e){e="string"==typeof e?xe[e]||l(e):ae.extend({},e);var t,n,i,r,o,s,a=[],u=!e.once&&[],c=function(l){for(n=e.memory&&l,i=!0,o=s||0,s=0,r=a.length,t=!0;a&&o<r;o++)if(!1===a[o].apply(l[0],l[1])&&e.stopOnFalse){n=!1;break}t=!1,a&&(u?u.length&&c(u.shift()):n?a=[]:d.disable())},d={add:function(){if(a){var i=a.length;!function t(n){ae.each(n,function(n,i){var r=ae.type(i);"function"===r?e.unique&&d.has(i)||a.push(i):i&&i.length&&"string"!==r&&t(i)})}(arguments),t?r=a.length:n&&(s=i,c(n))}return this},remove:function(){return a&&ae.each(arguments,function(e,n){for(var i;(i=ae.inArray(n,a,i))>-1;)a.splice(i,1),t&&(i<=r&&r--,i<=o&&o--)}),this},has:function(e){return e?ae.inArray(e,a)>-1:!(!a||!a.length)},empty:function(){return a=[],r=0,this},disable:function(){return a=u=n=void 0,this},disabled:function(){return!a},lock:function(){return u=void 0,n||d.disable(),this},locked:function(){return!u},fireWith:function(e,n){return!a||i&&!u||(n=n||[],n=[e,n.slice?n.slice():n],t?u.push(n):c(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!i}};return d},ae.extend({Deferred:function(e){var t=[["resolve","done",ae.Callbacks("once memory"),"resolved"],["reject","fail",ae.Callbacks("once memory"),"rejected"],["notify","progress",ae.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ae.Deferred(function(n){ae.each(t,function(t,o){var s=ae.isFunction(e[t])&&e[t];r[o[1]](function(){var e=s&&s.apply(this,arguments);e&&ae.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===i?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ae.extend(e,i):i}},r={};return i.pipe=i.then,ae.each(t,function(e,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=Z.call(arguments),s=o.length,a=1!==s||e&&ae.isFunction(e.promise)?s:0,l=1===a?e:ae.Deferred(),u=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?Z.call(arguments):r,i===t?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(t=new Array(s),n=new Array(s),i=new Array(s);r<s;r++)o[r]&&ae.isFunction(o[r].promise)?o[r].promise().done(u(r,i,o)).fail(l.reject).progress(u(r,n,t)):--a;return a||l.resolveWith(i,o),l.promise()}});var we;ae.fn.ready=function(e){return ae.ready.promise().done(e),this},ae.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ae.readyWait++:ae.ready(!0)},ready:function(e){if(!0===e?!--ae.readyWait:!ae.isReady){if(!ve.body)return setTimeout(ae.ready);ae.isReady=!0,!0!==e&&--ae.readyWait>0||(we.resolveWith(ve,[ae]),ae.fn.triggerHandler&&(ae(ve).triggerHandler("ready"),ae(ve).off("ready")))}}}),ae.ready.promise=function(e){if(!we)if(we=ae.Deferred(),"complete"===ve.readyState)setTimeout(ae.ready);else if(ve.addEventListener)ve.addEventListener("DOMContentLoaded",c,!1),t.addEventListener("load",c,!1);else{ve.attachEvent("onreadystatechange",c),t.attachEvent("onload",c);var n=!1;try{n=null==t.frameElement&&ve.documentElement}catch(e){}n&&n.doScroll&&function e(){if(!ae.isReady){try{n.doScroll("left")}catch(t){return setTimeout(e,50)}u(),ae.ready()}}()}return we.promise(e)};var Se,Te="undefined";for(Se in ae(se))break;se.ownLast="0"!==Se,se.inlineBlockNeedsLayout=!1,ae(function(){var e,t,n,i;(n=ve.getElementsByTagName("body")[0])&&n.style&&(t=ve.createElement("div"),i=ve.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),typeof t.style.zoom!==Te&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",se.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(i))}),function(){var e=ve.createElement("div");if(null==se.deleteExpando){se.deleteExpando=!0;try{delete e.test}catch(e){se.deleteExpando=!1}}e=null}(),ae.acceptData=function(e){var t=ae.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||!0!==t&&e.getAttribute("classid")===t)};var Ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ce=/([A-Z])/g;ae.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?ae.cache[e[ae.expando]]:e[ae.expando])&&!p(e)},data:function(e,t,n){return h(e,t,n)},removeData:function(e,t){return f(e,t)},_data:function(e,t,n){return h(e,t,n,!0)},_removeData:function(e,t){return f(e,t,!0)}}),ae.fn.extend({data:function(e,t){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(r=ae.data(o),1===o.nodeType&&!ae._data(o,"parsedAttrs"))){for(n=s.length;n--;)s[n]&&(i=s[n].name,0===i.indexOf("data-")&&(i=ae.camelCase(i.slice(5)),d(o,i,r[i])));ae._data(o,"parsedAttrs",!0)}return r}return"object"==typeof e?this.each(function(){ae.data(this,e)}):arguments.length>1?this.each(function(){ae.data(this,e,t)}):o?d(o,e,ae.data(o,e)):void 0},removeData:function(e){return this.each(function(){ae.removeData(this,e)})}}),ae.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=ae._data(e,t),n&&(!i||ae.isArray(n)?i=ae._data(e,t,ae.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=ae.queue(e,t),i=n.length,r=n.shift(),o=ae._queueHooks(e,t),s=function(){ae.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ae._data(e,n)||ae._data(e,n,{empty:ae.Callbacks("once memory").add(function(){ae._removeData(e,t+"queue"),ae._removeData(e,n)})})}}),ae.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ae.queue(this[0],e):void 0===t?this:this.each(function(){var n=ae.queue(this,e,t);ae._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ae.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ae.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=ae.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=ae._data(o[s],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(t)}});var ke=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ae=["Top","Right","Bottom","Left"],Fe=function(e,t){return e=t||e,"none"===ae.css(e,"display")||!ae.contains(e.ownerDocument,e)},Pe=ae.access=function(e,t,n,i,r,o,s){var a=0,l=e.length,u=null==n;if("object"===ae.type(n)){r=!0;for(a in n)ae.access(e,t,a,n[a],!0,o,s)}else if(void 0!==i&&(r=!0,ae.isFunction(i)||(s=!0),u&&(s?(t.call(e,i),t=null):(u=t,t=function(e,t,n){return u.call(ae(e),n)})),t))for(;a<l;a++)t(e[a],n,s?i:i.call(e[a],a,t(e[a],n)));return r?e:u?t.call(e):l?t(e[0],n):o},De=/^(?:checkbox|radio)$/i;!function(){var e=ve.createElement("input"),t=ve.createElement("div"),n=ve.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",se.leadingWhitespace=3===t.firstChild.nodeType,se.tbody=!t.getElementsByTagName("tbody").length,se.htmlSerialize=!!t.getElementsByTagName("link").length,se.html5Clone="<:nav></:nav>"!==ve.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),se.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",se.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",se.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,se.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){se.noCloneEvent=!1}),t.cloneNode(!0).click()),null==se.deleteExpando){se.deleteExpando=!0;try{delete t.test}catch(e){se.deleteExpando=!1}}}(),function(){var e,n,i=ve.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})n="on"+e,(se[e+"Bubbles"]=n in t)||(i.setAttribute(n,"t"),se[e+"Bubbles"]=!1===i.attributes[n].expando);i=null}();var Ne=/^(?:input|select|textarea)$/i,Ie=/^key/,Oe=/^(?:mouse|pointer|contextmenu)|click/,Le=/^(?:focusinfocus|focusoutblur)$/,Re=/^([^.]*)(?:\.(.+)|)$/;ae.event={global:{},add:function(e,t,n,i,r){var o,s,a,l,u,c,d,p,h,f,m,g=ae._data(e);if(g){for(n.handler&&(l=n,n=l.handler,r=l.selector),n.guid||(n.guid=ae.guid++),(s=g.events)||(s=g.events={}),(c=g.handle)||(c=g.handle=function(e){return typeof ae===Te||e&&ae.event.triggered===e.type?void 0:ae.event.dispatch.apply(c.elem,arguments)},c.elem=e),t=(t||"").match(_e)||[""],a=t.length;a--;)o=Re.exec(t[a])||[],h=m=o[1],f=(o[2]||"").split(".").sort(),h&&(u=ae.event.special[h]||{},h=(r?u.delegateType:u.bindType)||h,u=ae.event.special[h]||{},d=ae.extend({type:h,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&ae.expr.match.needsContext.test(r),namespace:f.join(".")},l),(p=s[h])||(p=s[h]=[],p.delegateCount=0,u.setup&&!1!==u.setup.call(e,i,f,c)||(e.addEventListener?e.addEventListener(h,c,!1):e.attachEvent&&e.attachEvent("on"+h,c))),u.add&&(u.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),r?p.splice(p.delegateCount++,0,d):p.push(d),ae.event.global[h]=!0);e=null}},remove:function(e,t,n,i,r){var o,s,a,l,u,c,d,p,h,f,m,g=ae.hasData(e)&&ae._data(e);if(g&&(c=g.events)){for(t=(t||"").match(_e)||[""],u=t.length;u--;)if(a=Re.exec(t[u])||[],h=m=a[1],f=(a[2]||"").split(".").sort(),h){for(d=ae.event.special[h]||{},h=(i?d.delegateType:d.bindType)||h,p=c[h]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=p.length;o--;)s=p[o],!r&&m!==s.origType||n&&n.guid!==s.guid||a&&!a.test(s.namespace)||i&&i!==s.selector&&("**"!==i||!s.selector)||(p.splice(o,1),s.selector&&p.delegateCount--,d.remove&&d.remove.call(e,s));l&&!p.length&&(d.teardown&&!1!==d.teardown.call(e,f,g.handle)||ae.removeEvent(e,h,g.handle),delete c[h])}else for(h in c)ae.event.remove(e,h+t[u],n,i,!0);ae.isEmptyObject(c)&&(delete g.handle,ae._removeData(e,"events"))}},trigger:function(e,n,i,r){var o,s,a,l,u,c,d,p=[i||ve],h=oe.call(e,"type")?e.type:e,f=oe.call(e,"namespace")?e.namespace.split("."):[];if(a=c=i=i||ve,3!==i.nodeType&&8!==i.nodeType&&!Le.test(h+ae.event.triggered)&&(h.indexOf(".")>=0&&(f=h.split("."),h=f.shift(),f.sort()),s=h.indexOf(":")<0&&"on"+h,e=e[ae.expando]?e:new ae.Event(h,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=f.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:ae.makeArray(n,[e]),u=ae.event.special[h]||{},r||!u.trigger||!1!==u.trigger.apply(i,n))){if(!r&&!u.noBubble&&!ae.isWindow(i)){for(l=u.delegateType||h,Le.test(l+h)||(a=a.parentNode);a;a=a.parentNode)p.push(a),c=a;c===(i.ownerDocument||ve)&&p.push(c.defaultView||c.parentWindow||t)}for(d=0;(a=p[d++])&&!e.isPropagationStopped();)e.type=d>1?l:u.bindType||h,o=(ae._data(a,"events")||{})[e.type]&&ae._data(a,"handle"),o&&o.apply(a,n),(o=s&&a[s])&&o.apply&&ae.acceptData(a)&&(e.result=o.apply(a,n),!1===e.result&&e.preventDefault());if(e.type=h,!r&&!e.isDefaultPrevented()&&(!u._default||!1===u._default.apply(p.pop(),n))&&ae.acceptData(i)&&s&&i[h]&&!ae.isWindow(i)){c=i[s],c&&(i[s]=null),ae.event.triggered=h;try{i[h]()}catch(e){}ae.event.triggered=void 0,c&&(i[s]=c)}return e.result}},dispatch:function(e){e=ae.event.fix(e);var t,n,i,r,o,s=[],a=Z.call(arguments),l=(ae._data(this,"events")||{})[e.type]||[],u=ae.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,e)){for(s=ae.event.handlers.call(this,e,l),t=0;(r=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,o=0;(i=r.handlers[o++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(i.namespace)||(e.handleObj=i,e.data=i.data,void 0!==(n=((ae.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,a))&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,o,s=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(r=[],o=0;o<a;o++)i=t[o],n=i.selector+" ",void 0===r[n]&&(r[n]=i.needsContext?ae(n,this).index(l)>=0:ae.find(n,this,null,[l]).length),r[n]&&r.push(i);r.length&&s.push({elem:l,handlers:r})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},fix:function(e){if(e[ae.expando])return e;var t,n,i,r=e.type,o=e,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=Oe.test(r)?this.mouseHooks:Ie.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,e=new ae.Event(o),t=i.length;t--;)n=i[t],e[n]=o[n];return e.target||(e.target=o.srcElement||ve),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,o=t.button,s=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||ve,r=i.documentElement,n=i.body,e.pageX=t.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?t.toElement:s),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==v()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===v()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(ae.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return ae.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=ae.extend(new ae.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?ae.event.trigger(r,null,t):ae.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},ae.removeEvent=ve.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===Te&&(e[i]=null),e.detachEvent(i,n))},ae.Event=function(e,t){if(!(this instanceof ae.Event))return new ae.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?m:g):this.type=e,t&&ae.extend(this,t),this.timeStamp=e&&e.timeStamp||ae.now(),this[ae.expando]=!0},ae.Event.prototype={isDefaultPrevented:g,isPropagationStopped:g,isImmediatePropagationStopped:g,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=m,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=m,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=m,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},ae.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ae.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return r&&(r===i||ae.contains(i,r))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),se.submitBubbles||(ae.event.special.submit={setup:function(){if(ae.nodeName(this,"form"))return!1;ae.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=ae.nodeName(t,"input")||ae.nodeName(t,"button")?t.form:void 0;n&&!ae._data(n,"submitBubbles")&&(ae.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),ae._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ae.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(ae.nodeName(this,"form"))return!1;ae.event.remove(this,"._submit")}}),se.changeBubbles||(ae.event.special.change={setup:function(){if(Ne.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(ae.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ae.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ae.event.simulate("change",this,e,!0)})),!1;ae.event.add(this,"beforeactivate._change",function(e){var t=e.target;Ne.test(t.nodeName)&&!ae._data(t,"changeBubbles")&&(ae.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ae.event.simulate("change",this.parentNode,e,!0)}),ae._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return ae.event.remove(this,"._change"),!Ne.test(this.nodeName)}}),se.focusinBubbles||ae.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ae.event.simulate(t,e.target,ae.event.fix(e),!0)};ae.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=ae._data(i,t);r||i.addEventListener(e,n,!0),ae._data(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=ae._data(i,t)-1;r?ae._data(i,t,r):(i.removeEventListener(e,n,!0),ae._removeData(i,t))}}}),ae.fn.extend({on:function(e,t,n,i,r){var o,s;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(o in e)this.on(o,t,n,e[o],r);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),!1===i)i=g;else if(!i)return this;return 1===r&&(s=i,i=function(e){return ae().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=ae.guid++)),this.each(function(){ae.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,ae(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=g),this.each(function(){ae.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){ae.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return ae.event.trigger(e,t,n,!0)}});var je="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Be=/ jQuery\d+="(?:null|\d+)"/g,Me=new RegExp("<(?:"+je+")[\\s/>]","i"),He=/^\s+/,Ue=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ze=/<([\w:]+)/,$e=/<tbody/i,Ve=/<|&#?\w+;/,Xe=/<(?:script|style|link)/i,We=/checked\s*(?:[^=]|=\s*.checked.)/i,Ye=/^$|\/(?:java|ecma)script/i,Ge=/^true\/(.*)/,Je=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ke={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:se.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Qe=y(ve),Ze=Qe.appendChild(ve.createElement("div"));Ke.optgroup=Ke.option,Ke.tbody=Ke.tfoot=Ke.colgroup=Ke.caption=Ke.thead,Ke.th=Ke.td,ae.extend({clone:function(e,t,n){var i,r,o,s,a,l=ae.contains(e.ownerDocument,e);if(se.html5Clone||ae.isXMLDoc(e)||!Me.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Ze.innerHTML=e.outerHTML,Ze.removeChild(o=Ze.firstChild)),!(se.noCloneEvent&&se.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ae.isXMLDoc(e)))for(i=b(o),a=b(e),s=0;null!=(r=a[s]);++s)i[s]&&E(r,i[s]);if(t)if(n)for(a=a||b(e),i=i||b(o),s=0;null!=(r=a[s]);s++)T(r,i[s]);else T(e,o);return i=b(o,"script"),i.length>0&&S(i,!l&&b(e,"script")),i=a=r=null,o},buildFragment:function(e,t,n,i){for(var r,o,s,a,l,u,c,d=e.length,p=y(t),h=[],f=0;f<d;f++)if((o=e[f])||0===o)if("object"===ae.type(o))ae.merge(h,o.nodeType?[o]:o);else if(Ve.test(o)){for(a=a||p.appendChild(t.createElement("div")),l=(ze.exec(o)||["",""])[1].toLowerCase(),c=Ke[l]||Ke._default,a.innerHTML=c[1]+o.replace(Ue,"<$1></$2>")+c[2],r=c[0];r--;)a=a.lastChild;if(!se.leadingWhitespace&&He.test(o)&&h.push(t.createTextNode(He.exec(o)[0])),!se.tbody)for(o="table"!==l||$e.test(o)?"<table>"!==c[1]||$e.test(o)?0:a:a.firstChild,r=o&&o.childNodes.length;r--;)ae.nodeName(u=o.childNodes[r],"tbody")&&!u.childNodes.length&&o.removeChild(u);for(ae.merge(h,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=p.lastChild}else h.push(t.createTextNode(o));for(a&&p.removeChild(a),se.appendChecked||ae.grep(b(h,"input"),q),f=0;o=h[f++];)if((!i||-1===ae.inArray(o,i))&&(s=ae.contains(o.ownerDocument,o),a=b(p.appendChild(o),"script"),s&&S(a),n))for(r=0;o=a[r++];)Ye.test(o.type||"")&&n.push(o);return a=null,p},cleanData:function(e,t){for(var n,i,r,o,s=0,a=ae.expando,l=ae.cache,u=se.deleteExpando,c=ae.event.special;null!=(n=e[s]);s++)if((t||ae.acceptData(n))&&(r=n[a],o=r&&l[r])){if(o.events)for(i in o.events)c[i]?ae.event.remove(n,i):ae.removeEvent(n,i,o.handle);l[r]&&(delete l[r],u?delete n[a]:typeof n.removeAttribute!==Te?n.removeAttribute(a):n[a]=null,Q.push(r))}}}),ae.fn.extend({text:function(e){return Pe(this,function(e){return void 0===e?ae.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ve).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){_(this,e).appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=_(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?ae.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||ae.cleanData(b(n)),n.parentNode&&(t&&ae.contains(n.ownerDocument,n)&&S(b(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ae.cleanData(b(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ae.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ae.clone(this,e,t)})},html:function(e){return Pe(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Be,""):void 0;if("string"==typeof e&&!Xe.test(e)&&(se.htmlSerialize||!Me.test(e))&&(se.leadingWhitespace||!He.test(e))&&!Ke[(ze.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Ue,"<$1></$2>");try{for(;n<i;n++)t=this[n]||{},1===t.nodeType&&(ae.cleanData(b(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,ae.cleanData(b(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=ee.apply([],e);var n,i,r,o,s,a,l=0,u=this.length,c=this,d=u-1,p=e[0],h=ae.isFunction(p);if(h||u>1&&"string"==typeof p&&!se.checkClone&&We.test(p))return this.each(function(n){var i=c.eq(n);h&&(e[0]=p.call(this,n,i.html())),i.domManip(e,t)});if(u&&(a=ae.buildFragment(e,this[0].ownerDocument,!1,this),n=a.firstChild,1===a.childNodes.length&&(a=n),n)){for(o=ae.map(b(a,"script"),x),r=o.length;l<u;l++)i=a,l!==d&&(i=ae.clone(i,!0,!0),r&&ae.merge(o,b(i,"script"))),t.call(this[l],i,l);if(r)for(s=o[o.length-1].ownerDocument,ae.map(o,w),l=0;l<r;l++)i=o[l],Ye.test(i.type||"")&&!ae._data(i,"globalEval")&&ae.contains(s,i)&&(i.src?ae._evalUrl&&ae._evalUrl(i.src):ae.globalEval((i.text||i.textContent||i.innerHTML||"").replace(Je,"")));a=n=null}return this}}),ae.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ae.fn[e]=function(e){for(var n,i=0,r=[],o=ae(e),s=o.length-1;i<=s;i++)n=i===s?this:this.clone(!0),ae(o[i])[t](n),te.apply(r,n.get());return this.pushStack(r)}});var et,tt={};!function(){var e;se.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,i;return(n=ve.getElementsByTagName("body")[0])&&n.style?(t=ve.createElement("div"),i=ve.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),typeof t.style.zoom!==Te&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(ve.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(i),e):void 0}}();var nt,it,rt=/^margin/,ot=new RegExp("^("+ke+")(?!px)[a-z%]+$","i"),st=/^(top|right|bottom|left)$/;t.getComputedStyle?(nt=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):t.getComputedStyle(e,null)},it=function(e,t,n){var i,r,o,s,a=e.style;return n=n||nt(e),s=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==s||ae.contains(e.ownerDocument,e)||(s=ae.style(e,t)),ot.test(s)&&rt.test(t)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0===s?s:s+""}):ve.documentElement.currentStyle&&(nt=function(e){return e.currentStyle},it=function(e,t,n){var i,r,o,s,a=e.style;return n=n||nt(e),s=n?n[t]:void 0,null==s&&a&&a[t]&&(s=a[t]),ot.test(s)&&!st.test(t)&&(i=a.left,r=e.runtimeStyle,o=r&&r.left,o&&(r.left=e.currentStyle.left),a.left="fontSize"===t?"1em":s,s=a.pixelLeft+"px",a.left=i,o&&(r.left=o)),void 0===s?s:s+""||"auto"}),function(){function e(){var e,n,i,r;(n=ve.getElementsByTagName("body")[0])&&n.style&&(e=ve.createElement("div"),i=ve.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),e.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=s=!1,l=!0,t.getComputedStyle&&(o="1%"!==(t.getComputedStyle(e,null)||{}).top,s="4px"===(t.getComputedStyle(e,null)||{width:"4px"}).width,r=e.appendChild(ve.createElement("div")),r.style.cssText=e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",r.style.marginRight=r.style.width="0",e.style.width="1px",l=!parseFloat((t.getComputedStyle(r,null)||{}).marginRight),e.removeChild(r)),e.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=e.getElementsByTagName("td"),r[0].style.cssText="margin:0;border:0;padding:0;display:none",a=0===r[0].offsetHeight,a&&(r[0].style.display="",r[1].style.display="none",a=0===r[0].offsetHeight),n.removeChild(i))}var n,i,r,o,s,a,l;n=ve.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=n.getElementsByTagName("a")[0],(i=r&&r.style)&&(i.cssText="float:left;opacity:.5",se.opacity="0.5"===i.opacity,se.cssFloat=!!i.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",se.clearCloneStyle="content-box"===n.style.backgroundClip,se.boxSizing=""===i.boxSizing||""===i.MozBoxSizing||""===i.WebkitBoxSizing,ae.extend(se,{reliableHiddenOffsets:function(){return null==a&&e(),a},boxSizingReliable:function(){return null==s&&e(),s},pixelPosition:function(){return null==o&&e(),o},reliableMarginRight:function(){return null==l&&e(),l}}))}(),ae.swap=function(e,t,n,i){var r,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=s[o];return r};var at=/alpha\([^)]*\)/i,lt=/opacity\s*=\s*([^)]*)/,ut=/^(none|table(?!-c[ea]).+)/,ct=new RegExp("^("+ke+")(.*)$","i"),dt=new RegExp("^([+-])=("+ke+")","i"),pt={position:"absolute",visibility:"hidden",display:"block"},ht={letterSpacing:"0",fontWeight:"400"},ft=["Webkit","O","Moz","ms"];ae.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=it(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:se.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,s,a=ae.camelCase(t),l=e.style;if(t=ae.cssProps[a]||(ae.cssProps[a]=F(l,a)),s=ae.cssHooks[t]||ae.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(e,!1,i))?r:l[t];if(o=typeof n,"string"===o&&(r=dt.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(ae.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||ae.cssNumber[a]||(n+="px"),se.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),!(s&&"set"in s&&void 0===(n=s.set(e,n,i)))))try{l[t]=n}catch(e){}}},css:function(e,t,n,i){var r,o,s,a=ae.camelCase(t);return t=ae.cssProps[a]||(ae.cssProps[a]=F(e.style,a)),s=ae.cssHooks[t]||ae.cssHooks[a],s&&"get"in s&&(o=s.get(e,!0,n)),void 0===o&&(o=it(e,t,i)),"normal"===o&&t in ht&&(o=ht[t]),""===n||n?(r=parseFloat(o),!0===n||ae.isNumeric(r)?r||0:o):o}}),ae.each(["height","width"],function(e,t){ae.cssHooks[t]={get:function(e,n,i){if(n)return ut.test(ae.css(e,"display"))&&0===e.offsetWidth?ae.swap(e,pt,function(){return I(e,t,i)}):I(e,t,i)},set:function(e,n,i){var r=i&&nt(e);return D(e,n,i?N(e,t,i,se.boxSizing&&"border-box"===ae.css(e,"boxSizing",!1,r),r):0)}}}),se.opacity||(ae.cssHooks.opacity={get:function(e,t){return lt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=ae.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===ae.trim(o.replace(at,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=at.test(o)?o.replace(at,r):o+" "+r)}}),ae.cssHooks.marginRight=A(se.reliableMarginRight,function(e,t){if(t)return ae.swap(e,{display:"inline-block"},it,[e,"marginRight"])}),ae.each({margin:"",padding:"",border:"Width"},function(e,t){ae.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+Ae[i]+t]=o[i]||o[i-2]||o[0];return r}},rt.test(e)||(ae.cssHooks[e+t].set=D)}),ae.fn.extend({css:function(e,t){return Pe(this,function(e,t,n){var i,r,o={},s=0;if(ae.isArray(t)){for(i=nt(e),r=t.length;s<r;s++)o[t[s]]=ae.css(e,t[s],!1,i);return o}return void 0!==n?ae.style(e,t,n):ae.css(e,t)},e,t,arguments.length>1)},show:function(){return P(this,!0)},hide:function(){return P(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Fe(this)?ae(this).show():ae(this).hide()})}}),ae.Tween=O,O.prototype={constructor:O,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(ae.cssNumber[n]?"":"px")},cur:function(){var e=O.propHooks[this.prop];return e&&e.get?e.get(this):O.propHooks._default.get(this)},run:function(e){var t,n=O.propHooks[this.prop];return this.options.duration?this.pos=t=ae.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):O.propHooks._default.set(this),this}},O.prototype.init.prototype=O.prototype,O.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ae.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ae.fx.step[e.prop]?ae.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ae.cssProps[e.prop]]||ae.cssHooks[e.prop])?ae.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},O.propHooks.scrollTop=O.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ae.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ae.fx=O.prototype.init,ae.fx.step={};var mt,gt,vt=/^(?:toggle|show|hide)$/,yt=new RegExp("^(?:([+-])=|)("+ke+")([a-z%]*)$","i"),bt=/queueHooks$/,qt=[B],_t={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=yt.exec(t),o=r&&r[3]||(ae.cssNumber[e]?"":"px"),s=(ae.cssNumber[e]||"px"!==o&&+i)&&yt.exec(ae.css(n.elem,e)),a=1,l=20;if(s&&s[3]!==o){o=o||s[3],r=r||[],s=+i||1;do{a=a||".5",s/=a,ae.style(n.elem,e,s+o)}while(a!==(a=n.cur()/i)&&1!==a&&--l)}return r&&(s=n.start=+s||+i||0,n.unit=o,n.end=r[1]?s+(r[1]+1)*r[2]:+r[2]),n}]};ae.Animation=ae.extend(H,{tweener:function(e,t){ae.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;i<r;i++)n=e[i],_t[n]=_t[n]||[],_t[n].unshift(t)},prefilter:function(e,t){t?qt.unshift(e):qt.push(e)}}),ae.speed=function(e,t,n){var i=e&&"object"==typeof e?ae.extend({},e):{complete:n||!n&&t||ae.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ae.isFunction(t)&&t};return i.duration=ae.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ae.fx.speeds?ae.fx.speeds[i.duration]:ae.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){ae.isFunction(i.old)&&i.old.call(this),i.queue&&ae.dequeue(this,i.queue)},i},ae.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Fe).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=ae.isEmptyObject(e),o=ae.speed(t,n,i),s=function(){var t=H(this,ae.extend({},e),o);(r||ae._data(this,"finish"))&&t.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=ae.timers,s=ae._data(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&bt.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||ae.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=ae._data(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=ae.timers,s=i?i.length:0;for(n.finish=!0,ae.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<s;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),ae.each(["toggle","show","hide"],function(e,t){var n=ae.fn[t];ae.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(R(t,!0),e,i,r)}}),ae.each({slideDown:R("show"),slideUp:R("hide"),slideToggle:R("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ae.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),ae.timers=[],ae.fx.tick=function(){var e,t=ae.timers,n=0;for(mt=ae.now();n<t.length;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||ae.fx.stop(),mt=void 0},ae.fx.timer=function(e){ae.timers.push(e),e()?ae.fx.start():ae.timers.pop()},ae.fx.interval=13,ae.fx.start=function(){gt||(gt=setInterval(ae.fx.tick,ae.fx.interval))},ae.fx.stop=function(){clearInterval(gt),gt=null},ae.fx.speeds={slow:600,fast:200,_default:400},ae.fn.delay=function(e,t){return e=ae.fx?ae.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},function(){var e,t,n,i,r;t=ve.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=t.getElementsByTagName("a")[0],n=ve.createElement("select"),r=n.appendChild(ve.createElement("option")),e=t.getElementsByTagName("input")[0],i.style.cssText="top:1px",se.getSetAttribute="t"!==t.className,se.style=/top/.test(i.getAttribute("style")),se.hrefNormalized="/a"===i.getAttribute("href"),se.checkOn=!!e.value,se.optSelected=r.selected,se.enctype=!!ve.createElement("form").enctype,n.disabled=!0,se.optDisabled=!r.disabled,e=ve.createElement("input"),e.setAttribute("value",""),se.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),se.radioValue="t"===e.value}();var xt=/\r/g;ae.fn.extend({val:function(e){var t,n,i,r=this[0];{if(arguments.length)return i=ae.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,ae(this).val()):e,null==r?r="":"number"==typeof r?r+="":ae.isArray(r)&&(r=ae.map(r,function(e){return null==e?"":e+""})),(t=ae.valHooks[this.type]||ae.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return(t=ae.valHooks[r.type]||ae.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(xt,""):null==n?"":n)}}}),ae.extend({valHooks:{option:{get:function(e){var t=ae.find.attr(e,"value");return null!=t?t:ae.trim(ae.text(e))}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||r<0,s=o?null:[],a=o?r+1:i.length,l=r<0?a:o?r:0;l<a;l++)if(n=i[l],(n.selected||l===r)&&(se.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ae.nodeName(n.parentNode,"optgroup"))){if(t=ae(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,i,r=e.options,o=ae.makeArray(t),s=r.length;s--;)if(i=r[s],ae.inArray(ae.valHooks.option.get(i),o)>=0)try{i.selected=n=!0}catch(e){i.scrollHeight}else i.selected=!1;return n||(e.selectedIndex=-1),r}}}}),ae.each(["radio","checkbox"],function(){ae.valHooks[this]={set:function(e,t){if(ae.isArray(t))return e.checked=ae.inArray(ae(e).val(),t)>=0}},se.checkOn||(ae.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var wt,St,Tt=ae.expr.attrHandle,Et=/^(?:checked|selected)$/i,Ct=se.getSetAttribute,kt=se.input;ae.fn.extend({attr:function(e,t){return Pe(this,ae.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ae.removeAttr(this,e)})}}),ae.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===Te?ae.prop(e,t,n):(1===o&&ae.isXMLDoc(e)||(t=t.toLowerCase(),i=ae.attrHooks[t]||(ae.expr.match.bool.test(t)?St:wt)),void 0===n?i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=ae.find.attr(e,t),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):void ae.removeAttr(e,t))},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(_e);if(o&&1===e.nodeType)for(;n=o[r++];)i=ae.propFix[n]||n,ae.expr.match.bool.test(n)?kt&&Ct||!Et.test(n)?e[i]=!1:e[ae.camelCase("default-"+n)]=e[i]=!1:ae.attr(e,n,""),e.removeAttribute(Ct?n:i)},attrHooks:{type:{set:function(e,t){if(!se.radioValue&&"radio"===t&&ae.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),St={set:function(e,t,n){return!1===t?ae.removeAttr(e,n):kt&&Ct||!Et.test(n)?e.setAttribute(!Ct&&ae.propFix[n]||n,n):e[ae.camelCase("default-"+n)]=e[n]=!0,n}},ae.each(ae.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Tt[t]||ae.find.attr;Tt[t]=kt&&Ct||!Et.test(t)?function(e,t,i){var r,o;return i||(o=Tt[t],Tt[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,Tt[t]=o),r}:function(e,t,n){if(!n)return e[ae.camelCase("default-"+t)]?t.toLowerCase():null}}),kt&&Ct||(ae.attrHooks.value={set:function(e,t,n){if(!ae.nodeName(e,"input"))return wt&&wt.set(e,t,n);e.defaultValue=t}}),Ct||(wt={set:function(e,t,n){var i=e.getAttributeNode(n);if(i||e.setAttributeNode(i=e.ownerDocument.createAttribute(n)),i.value=t+="","value"===n||t===e.getAttribute(n))return t}},Tt.id=Tt.name=Tt.coords=function(e,t,n){var i;if(!n)return(i=e.getAttributeNode(t))&&""!==i.value?i.value:null},ae.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);if(n&&n.specified)return n.value},set:wt.set},ae.attrHooks.contenteditable={set:function(e,t,n){wt.set(e,""!==t&&t,n)}},ae.each(["width","height"],function(e,t){ae.attrHooks[t]={set:function(e,n){if(""===n)return e.setAttribute(t,"auto"),n}}})),se.style||(ae.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var At=/^(?:input|select|textarea|button|object)$/i,Ft=/^(?:a|area)$/i;ae.fn.extend({prop:function(e,t){return Pe(this,ae.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ae.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(e){}})}}),ae.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var i,r,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return o=1!==s||!ae.isXMLDoc(e),o&&(t=ae.propFix[t]||t,r=ae.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=ae.find.attr(e,"tabindex");return t?parseInt(t,10):At.test(e.nodeName)||Ft.test(e.nodeName)&&e.href?0:-1}}}}),se.hrefNormalized||ae.each(["href","src"],function(e,t){ae.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),se.optSelected||(ae.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ae.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ae.propFix[this.toLowerCase()]=this}),se.enctype||(ae.propFix.enctype="encoding");var Pt=/[\t\r\n\f]/g;ae.fn.extend({addClass:function(e){var t,n,i,r,o,s,a=0,l=this.length,u="string"==typeof e&&e;if(ae.isFunction(e))return this.each(function(t){ae(this).addClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(_e)||[];a<l;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Pt," "):" ")){for(o=0;r=t[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");s=ae.trim(i),n.className!==s&&(n.className=s)}return this},removeClass:function(e){var t,n,i,r,o,s,a=0,l=this.length,u=0===arguments.length||"string"==typeof e&&e;if(ae.isFunction(e))return this.each(function(t){ae(this).removeClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(_e)||[];a<l;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Pt," "):"")){for(o=0;r=t[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");s=e?ae.trim(i):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):ae.isFunction(e)?this.each(function(n){ae(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,i=0,r=ae(this),o=e.match(_e)||[];t=o[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else n!==Te&&"boolean"!==n||(this.className&&ae._data(this,"__className__",this.className),this.className=this.className||!1===e?"":ae._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;n<i;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Pt," ").indexOf(t)>=0)return!0;return!1}}),ae.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ae.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ae.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Dt=ae.now(),Nt=/\?/,It=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ae.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var n,i=null,r=ae.trim(e+"");return r&&!ae.trim(r.replace(It,function(e,t,r,o){return n&&t&&(i=0),0===i?e:(n=r||t,i+=!o-!r,"")}))?Function("return "+r)():ae.error("Invalid JSON: "+e)},ae.parseXML=function(e){var n,i;if(!e||"string"!=typeof e)return null;try{t.DOMParser?(i=new DOMParser,n=i.parseFromString(e,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(e))}catch(e){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ae.error("Invalid XML: "+e),n};var Ot,Lt,Rt=/#.*$/,jt=/([?&])_=[^&]*/,Bt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Mt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ht=/^(?:GET|HEAD)$/,Ut=/^\/\//,zt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,$t={},Vt={},Xt="*/".concat("*");try{Lt=location.href}catch(e){Lt=ve.createElement("a"),Lt.href="",Lt=Lt.href}Ot=zt.exec(Lt.toLowerCase())||[],ae.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Lt,type:"GET",isLocal:Mt.test(Ot[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Xt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ae.parseJSON,"text xml":ae.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?V(V(e,ae.ajaxSettings),t):V(ae.ajaxSettings,e)},ajaxPrefilter:U($t),ajaxTransport:U(Vt),ajax:function(e,t){function n(e,t,n,i){var r,c,v,y,q,x=t;2!==b&&(b=2,a&&clearTimeout(a),u=void 0,s=i||"",_.readyState=e>0?4:0,r=e>=200&&e<300||304===e,n&&(y=X(d,_,n)),y=W(d,y,_,r),r?(d.ifModified&&(q=_.getResponseHeader("Last-Modified"),q&&(ae.lastModified[o]=q),(q=_.getResponseHeader("etag"))&&(ae.etag[o]=q)),204===e||"HEAD"===d.type?x="nocontent":304===e?x="notmodified":(x=y.state,c=y.data,v=y.error,r=!v)):(v=x,!e&&x||(x="error",e<0&&(e=0))),_.status=e,_.statusText=(t||x)+"",r?f.resolveWith(p,[c,x,_]):f.rejectWith(p,[_,x,v]),_.statusCode(g),g=void 0,l&&h.trigger(r?"ajaxSuccess":"ajaxError",[_,d,r?c:v]),m.fireWith(p,[_,x]),l&&(h.trigger("ajaxComplete",[_,d]),--ae.active||ae.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,r,o,s,a,l,u,c,d=ae.ajaxSetup({},t),p=d.context||d,h=d.context&&(p.nodeType||p.jquery)?ae(p):ae.event,f=ae.Deferred(),m=ae.Callbacks("once memory"),g=d.statusCode||{},v={},y={},b=0,q="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c)for(c={};t=Bt.exec(s);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(b<2)for(t in e)g[t]=[g[t],e[t]];else _.always(e[_.status]);return this},abort:function(e){var t=e||q;return u&&u.abort(t),n(0,t),this}};if(f.promise(_).complete=m.add,_.success=_.done,_.error=_.fail,d.url=((e||d.url||Lt)+"").replace(Rt,"").replace(Ut,Ot[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=ae.trim(d.dataType||"*").toLowerCase().match(_e)||[""],null==d.crossDomain&&(i=zt.exec(d.url.toLowerCase()),d.crossDomain=!(!i||i[1]===Ot[1]&&i[2]===Ot[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(Ot[3]||("http:"===Ot[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ae.param(d.data,d.traditional)),z($t,d,t,_),2===b)return _;l=ae.event&&d.global,l&&0==ae.active++&&ae.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Ht.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(Nt.test(o)?"&":"?")+d.data,delete d.data),!1===d.cache&&(d.url=jt.test(o)?o.replace(jt,"$1_="+Dt++):o+(Nt.test(o)?"&":"?")+"_="+Dt++)),d.ifModified&&(ae.lastModified[o]&&_.setRequestHeader("If-Modified-Since",ae.lastModified[o]),ae.etag[o]&&_.setRequestHeader("If-None-Match",ae.etag[o])),(d.data&&d.hasContent&&!1!==d.contentType||t.contentType)&&_.setRequestHeader("Content-Type",d.contentType),_.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Xt+"; q=0.01":""):d.accepts["*"]);for(r in d.headers)_.setRequestHeader(r,d.headers[r]);if(d.beforeSend&&(!1===d.beforeSend.call(p,_,d)||2===b))return _.abort();q="abort";for(r in{success:1,error:1,complete:1})_[r](d[r]);if(u=z(Vt,d,t,_)){_.readyState=1,l&&h.trigger("ajaxSend",[_,d]),d.async&&d.timeout>0&&(a=setTimeout(function(){_.abort("timeout")},d.timeout));try{b=1,u.send(v,n)}catch(e){if(!(b<2))throw e;n(-1,e)}}else n(-1,"No Transport");return _},getJSON:function(e,t,n){return ae.get(e,t,n,"json")},getScript:function(e,t){return ae.get(e,void 0,t,"script")}}),ae.each(["get","post"],function(e,t){ae[t]=function(e,n,i,r){return ae.isFunction(n)&&(r=r||i,i=n,n=void 0),ae.ajax({url:e,type:t,dataType:r,data:n,success:i})}}),ae._evalUrl=function(e){return ae.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},ae.fn.extend({wrapAll:function(e){if(ae.isFunction(e))return this.each(function(t){ae(this).wrapAll(e.call(this,t))});if(this[0]){var t=ae(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return ae.isFunction(e)?this.each(function(t){ae(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ae(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ae.isFunction(e);return this.each(function(n){ae(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ae.nodeName(this,"body")||ae(this).replaceWith(this.childNodes)}).end()}}),ae.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!se.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||ae.css(e,"display"))},ae.expr.filters.visible=function(e){return!ae.expr.filters.hidden(e)};var Wt=/%20/g,Yt=/\[\]$/,Gt=/\r?\n/g,Jt=/^(?:submit|button|image|reset|file)$/i,Kt=/^(?:input|select|textarea|keygen)/i;ae.param=function(e,t){var n,i=[],r=function(e,t){t=ae.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ae.ajaxSettings&&ae.ajaxSettings.traditional),ae.isArray(e)||e.jquery&&!ae.isPlainObject(e))ae.each(e,function(){r(this.name,this.value)});else for(n in e)Y(n,e[n],t,r);return i.join("&").replace(Wt,"+")},ae.fn.extend({serialize:function(){return ae.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ae.prop(this,"elements");return e?ae.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ae(this).is(":disabled")&&Kt.test(this.nodeName)&&!Jt.test(e)&&(this.checked||!De.test(e))}).map(function(e,t){var n=ae(this).val();return null==n?null:ae.isArray(n)?ae.map(n,function(e){return{name:t.name,value:e.replace(Gt,"\r\n")}}):{name:t.name,value:n.replace(Gt,"\r\n")}}).get()}}),ae.ajaxSettings.xhr=void 0!==t.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&G()||J()}:G;var Qt=0,Zt={},en=ae.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var e in Zt)Zt[e](void 0,!0)}),se.cors=!!en&&"withCredentials"in en,en=se.ajax=!!en,en&&ae.ajaxTransport(function(e){if(!e.crossDomain||se.cors){var t;return{send:function(n,i){var r,o=e.xhr(),s=++Qt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)o[r]=e.xhrFields[r];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)void 0!==n[r]&&o.setRequestHeader(r,n[r]+"");o.send(e.hasContent&&e.data||null),t=function(n,r){var a,l,u;if(t&&(r||4===o.readyState))if(delete Zt[s],t=void 0,o.onreadystatechange=ae.noop,r)4!==o.readyState&&o.abort();else{u={},a=o.status,"string"==typeof o.responseText&&(u.text=o.responseText);try{l=o.statusText}catch(e){l=""}a||!e.isLocal||e.crossDomain?1223===a&&(a=204):a=u.text?200:404}u&&i(a,l,u,o.getAllResponseHeaders())},e.async?4===o.readyState?setTimeout(t):o.onreadystatechange=Zt[s]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),ae.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ae.globalEval(e),e}}}),ae.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ae.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=ve.head||ae("head")[0]||ve.documentElement;return{send:function(i,r){t=ve.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||r(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var tn=[],nn=/(=)\?(?=&|$)|\?\?/;ae.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=tn.pop()||ae.expando+"_"+Dt++;return this[e]=!0,e}}),ae.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,s,a=!1!==e.jsonp&&(nn.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&nn.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=ae.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(nn,"$1"+r):!1!==e.jsonp&&(e.url+=(Nt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||ae.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},i.always(function(){t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,tn.push(r)),s&&ae.isFunction(o)&&o(s[0]),s=o=void 0}),"script"}),ae.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||ve;var i=fe.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=ae.buildFragment([e],t,r),r&&r.length&&ae(r).remove(),ae.merge([],i.childNodes))};var rn=ae.fn.load;ae.fn.load=function(e,t,n){if("string"!=typeof e&&rn)return rn.apply(this,arguments);var i,r,o,s=this,a=e.indexOf(" ");return a>=0&&(i=ae.trim(e.slice(a,e.length)),e=e.slice(0,a)),ae.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),s.length>0&&ae.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){r=arguments,s.html(i?ae("<div>").append(ae.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){s.each(n,r||[e.responseText,t,e])}),this},ae.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ae.fn[t]=function(e){return this.on(t,e)}}),ae.expr.filters.animated=function(e){return ae.grep(ae.timers,function(t){return e===t.elem}).length};var on=t.document.documentElement;ae.offset={setOffset:function(e,t,n){var i,r,o,s,a,l,u,c=ae.css(e,"position"),d=ae(e),p={};"static"===c&&(e.style.position="relative"),a=d.offset(),o=ae.css(e,"top"),l=ae.css(e,"left"),u=("absolute"===c||"fixed"===c)&&ae.inArray("auto",[o,l])>-1,u?(i=d.position(),s=i.top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),ae.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(p.top=t.top-a.top+s),null!=t.left&&(p.left=t.left-a.left+r),"using"in t?t.using.call(e,p):d.css(p)}},ae.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ae.offset.setOffset(this,e,t)});var t,n,i={top:0,left:0},r=this[0],o=r&&r.ownerDocument;if(o)return t=o.documentElement,ae.contains(t,r)?(typeof r.getBoundingClientRect!==Te&&(i=r.getBoundingClientRect()),n=K(o),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i},position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===ae.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ae.nodeName(e[0],"html")||(n=e.offset()),n.top+=ae.css(e[0],"borderTopWidth",!0),n.left+=ae.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ae.css(i,"marginTop",!0),left:t.left-n.left-ae.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||on;e&&!ae.nodeName(e,"html")&&"static"===ae.css(e,"position");)e=e.offsetParent;return e||on})}}),ae.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);ae.fn[e]=function(i){return Pe(this,function(e,i,r){var o=K(e);if(void 0===r)return o?t in o?o[t]:o.document.documentElement[i]:e[i];o?o.scrollTo(n?ae(o).scrollLeft():r,n?r:ae(o).scrollTop()):e[i]=r},e,i,arguments.length,null)}}),ae.each(["top","left"],function(e,t){ae.cssHooks[t]=A(se.pixelPosition,function(e,n){if(n)return n=it(e,t),ot.test(n)?ae(e).position()[t]+"px":n})}),ae.each({Height:"height",Width:"width"},function(e,t){ae.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){ae.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===r?"margin":"border");return Pe(this,function(t,n,i){var r;return ae.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?ae.css(t,n,s):ae.style(t,n,i,s)},t,o?i:void 0,o,null)}})}),ae.fn.size=function(){return this.length},ae.fn.andSelf=ae.fn.addBack,n=[],void 0!==(i=function(){return ae}.apply(exports,n))&&(e.exports=i);var sn=t.jQuery,an=t.$;return ae.noConflict=function(e){return t.$===ae&&(t.$=an),e&&t.jQuery===ae&&(t.jQuery=sn),ae},typeof r===Te&&(t.jQuery=t.$=ae),ae})},"./node_modules/process/browser.js":function(e,exports){function t(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(e){if(u===setTimeout)return setTimeout(e,0);if((u===t||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function r(e){if(c===clearTimeout)return clearTimeout(e);if((c===n||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{return c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}function o(){f&&p&&(f=!1,p.length?h=p.concat(h):m=-1,h.length&&s())}function s(){if(!f){var e=i(o);f=!0;for(var t=h.length;t;){for(p=h,h=[];++m<t;)p&&p[m].run();m=-1,t=h.length}p=null,f=!1,r(e)}}function a(e,t){this.fun=e,this.array=t}function l(){}var u,c,d=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:t}catch(e){u=t}try{c="function"==typeof clearTimeout?clearTimeout:n}catch(e){c=n}}();var p,h=[],f=!1,m=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new a(e,t)),1!==h.length||f||i(s)},a.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.prependListener=l,d.prependOnceListener=l,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},"./node_modules/webpack/buildin/global.js":function(e,exports){var t;t=function(){return this}();try{t=t||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(t=window)}e.exports=t},"./src/chat/css/chat.scss":function(e,exports){},"./src/chat/js/libs/amap-init.js":function(e,exports,t){"use strict";(function($){function n(e,t){if(e){new r.default({key:e,callback:"_AMapInit"}).load(),window._AMapInit=function(){function e(e){t.position=r.getCenter(),i.setPosition([t.position.lng,t.position.lat])}function n(e){t.noticePosition={content:" 对不起, 定位失败. 请输入地址手工搜索",className:"alert-danger",timeout:5,show:+new Date}}t.positionReady=!0,t.recordMap=new AMap.Map("record-map-container",{resizeEnable:!1,zoom:17}),t.recordMap.plugin(["AMap.ToolBar"],function(){t.recordMap.addControl(new AMap.ToolBar);var e=t.recordMap.getCenter();t.recordMarker=new AMap.Marker({map:t.recordMap,position:[e.lng,e.lat]})});var i,r=new AMap.Map("map-container",{resizeEnable:!1,zoom:17});-1!==location.href.indexOf("&guide=1")&&r.setStatus({scrollWheel:!1}),r.plugin(["AMap.ToolBar","AMap.PlaceSearch","AMap.Autocomplete"],function(){r.addControl(new AMap.ToolBar);var e=r.getCenter();i=new AMap.Marker({map:r,position:[e.lng,e.lat]});var n=new AMap.PlaceSearch({map:r}),o=new AMap.Autocomplete({input:"map-input"});$(document).on("click","#map-search",function(){t.positionSearch&&(n.search(t.positionSearch),t.position=r.getCenter(),i.setPosition([t.position.lng,t.position.lat]))}),AMap.event.addListener(o,"select",function(e){n.setCity(e.poi.adcode),n.search(e.poi.name),t.position=r.getCenter(),i.setPosition([t.position.lng,t.position.lat])}),AMap.event.addListener(r,"dragging",function(){var e=r.getCenter();i.setPosition([e.lng,e.lat])}),AMap.event.addListener(r,"dragend",function(){t.position=r.getCenter()})}),r.plugin("AMap.Geolocation",function(){var t=new AMap.Geolocation({enableHighAccuracy:!0,timeout:1e4,maximumAge:0,convert:!0,showButton:!0,buttonPosition:"LB",buttonOffset:new AMap.Pixel(10,20),showMarker:!0,showCircle:!1,panToLocation:!0,zoomToAccuracy:!0});r.addControl(t),t.getCurrentPosition(),AMap.event.addListener(t,"complete",e),AMap.event.addListener(t,"error",n)})}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var i=t("./src/chat/js/libs/lazy-amap-api-loader.js"),r=function(e){return e&&e.__esModule?e:{default:e}}(i);e.exports=exports.default}).call(exports,t("./node_modules/jquery/dist/jquery.js"))},"./src/chat/js/libs/common.js":function(e,exports,t){"use strict";(function(avalon){function e(e,t){var n=[],i=e.showPages,r=e.totalPages,o=Math.floor(i/2),s=t-o+1-i%2,a=t+o;s<=0&&(s=1,a=i>r?r:i),a>r&&(s=r-i+1,a=r);for(var l=s;l<=a;)n.push(l),l++;return{currentPage:t,pages:n}}t("./src/chat/css/chat.scss"),avalon.config({debug:!1}),avalon.component("ms-notice",{template:'<div :visible="@show" class="widget-notice alert alert-dismissible" role="alert" :class="@className"><span class="pull-left" :if="@timeout">{{@timeout}}</span><button type="button" class="close" data-dismiss="alert" aria-label="Close" :click="@content=null"><span aria-hidden="true">&times;</span></button><div :html="@content"></div></div>',defaults:{$id:"ms-notice",$timer:0,className:"",content:"",show:!1,static:!1,timeout:5,onReady:function(){this.static&&this.onTick()},onViewChange:function(){this.onTick()},onTick:function(){var e=this;0!==e.timeout&&(e.$timer&&clearInterval(e.$timer),e.timeout>0?e.$timer=setInterval(function(){e.timeout--},1e3):e.show=!1)}}}),avalon.component("ms-pager",{template:'<ul class="pagination" ms-visible="@totalPages>1"><li class="first" ms-class="{disabled: @isDisabled(\'first\', 1)}"><a ms-attr="{title:@getTitle(\'first\')}" ms-click="@cbProxy($event,\'first\')">{{@firstText}}</a></li><li class="prev" ms-class="{disabled: @isDisabled(\'prev\',1)}"><a ms-attr="{title:@getTitle(\'prev\')}" ms-click="@cbProxy($event,\'prev\')">{{@prevText}}</a></li><li class="hidden-xs" ms-for="page in @pages" ms-class="{active: page === @currentPage}"><a ms-attr="{title:@getTitle(page)}" ms-click="@cbProxy($event,page)">{{page}}</a></li><li class="next" ms-class="{disabled: @isDisabled(\'next\',@totalPages)}"><a ms-attr="{title: @getTitle(\'next\')}" ms-click="@cbProxy($event,\'next\')">{{@nextText}}</a></li><li class="last" ms-class="{disabled: @isDisabled(\'last\',@totalPages)}"><a ms-attr="{title: @getTitle(\'last\')}" ms-click="@cbProxy($event,\'last\')">{{@lastText}}</a></li></ul>',defaults:{$id:"ms-pager",is_more:!0,hash:"",getTitle:function(e){return e},isDisabled:function(e,t){return this.$buttons[e]=this.currentPage===t,this.$buttons[e]},$buttons:{},showPages:5,pages:[],totalPages:0,currentPage:1,firstText:"首页",prevText:"上页",nextText:"下页",lastText:"尾页",onPageClick:avalon.noop,toPage:function(e){var t=this.currentPage,n=this.totalPages;switch(e){case"first":return 1;case"prev":return Math.max(t-1,1);case"next":return Math.min(t+1,n);case"last":return n;default:return e}},cbProxy:function(e,t){var n=this.toPage(t);return n==this.currentPage?void e.preventDefault():this.$buttons[t]||t===this.currentPage?1===n?this.onPageClick(e,n):void e.preventDefault():(this.render(n),this.onPageClick(e,n))},render:function(t){var n=e(this,t);this.currentPage=n.currentPage,this.pages=n.pages},rpage:function(){return this.is_more?/(?:#|\?)page\=(\d+)/:/(?:#|\?)page\-(\d+)/},cur:function(){var e=this.currentPage;return(e<0||e>this.totalPages)&&(e=1),e},onInit:function(){var e=this;this.$watch("totalPages",function(){e.render(e.cur())})}}})}).call(exports,t("./node_modules/avalon2/dist/avalon.js"))},"./src/chat/js/libs/lazy-amap-api-loader.js":function(e,exports,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=t("./src/chat/js/libs/polyfill.js"),o={key:null,v:1.3,protocol:"https",hostAndPath:"webapi.amap.com/maps",plugin:[],callback:"amapInitComponent"},s=function(){function e(t){n(this,e),this._config=(0,r.assign)({},o,t),this._document=document,this._window=window,this._scriptLoaded=!1,this._queueEvents=[]}return i(e,[{key:"load",value:function(){var e=this;if(this._window.AMap)return Promise.resolve();if(this._scriptLoadingPromise)return this._scriptLoadingPromise;var t=this._document.createElement("script");return t.type="text/javascript",t.async=!0,t.defer=!0,t.src=this._getScriptSrc(),this._scriptLoadingPromise=new Promise(function(n,i){e._window.amapInitComponent=function(){for(e._queueEvents.forEach(function(e){return e()});e._queueEvents.length;)e._queueEvents.pop().apply();return n()},t.onerror=function(e){return i(e)}}),this._document.head.appendChild(t),this._scriptLoadingPromise}},{key:"_getScriptSrc",value:function(){var e=/^AMap./,t=this._config,n=["v","key","plugin","callback"];t.plugin&&t.plugin.length>0&&(t.plugin.push("Autocomplete","PlaceSearch","PolyEditor","CircleEditor"),t.plugin=t.plugin.map(function(t){return e.test(t)?t:"AMap."+t}));var i=Object.keys(t).filter(function(e){return-1!==n.indexOf(e)}).filter(function(e){return null!=t[e]}).filter(function(e){return!Array.isArray(t[e])||Array.isArray(t[e])&&t[e].length>0}).map(function(e){var n=t[e];return Array.isArray(n)?{key:e,value:n.join(",")}:{key:e,value:n}}).map(function(e){return e.key+"="+e.value}).join("&");return this._config.protocol+"://"+this._config.hostAndPath+"?"+i}}]),e}();exports.default=s,e.exports=exports.default},"./src/chat/js/libs/polyfill.js":function(e,exports,t){"use strict";function n(e,t){if("function"!=typeof Object.assign){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n}return Object.assign.apply(Object,arguments)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.assign=n},"./src/chat/js/libs/uploader.js":function(e,exports,t){"use strict";(function(avalon){var e=t("./node_modules/fine-uploader/fine-uploader/fine-uploader.min.js"),n=function(e){return e&&e.__esModule?e:{default:e}}(e);avalon.component("ms-uploader",{template:'<div class="uploader"><div class="uploader-header"><a class="btn btn-primary uploader-btn" href="javascript:;">{{@btnSelectText}}</a><button class="btn btn-primary pull-right" :if="@selected" :click="@fnSubmit">{{@btnUploadText}}</button><wbr is="ms-notice" :widget="@notice" /><div class="uploader-progress progress"><div :visible="@progressText" class="progress-bar" :css="{width: @progressPercent + \'%\'}" :html="@progressText"></div></div></div><div class="uploader-preview clearfix picture-preview"><img :if="@uploadPath" :attr="{src:@uploadPath}" /></div></div>',defaults:{$id:"ms-uploader",endpoint:"",sizes:[{small:200}],sizeLimit:3e6,mimes:"image/jpeg,image/gif,image/jpg,image/png",uploadPath:"",btnSelectText:"选择图片",btnUploadText:"开始发送",uploadSuccessText:"发送成功, ",progressText:"",progressPercent:0,progressTimeout:5,$progressTimer:0,notice:{content:"",className:"alert-danger",timeout:5,show:!1},scaleConfig:{maxSize:1e6},selected:!1,onUploaded:avalon.noop,$uploader:{},fnNotify:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"alert-danger",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;this.notice={content:e,className:t,timeout:n,show:+new Date}},fnCancel:function(){this.$uploader.cancelAll(),this.fnNotify("已取消")},fnSubmit:function(){this.selected?(this.selected=!1,this.notice.show=!1,this.progressText='<i class="css-loading white"> </i>',this.$uploader.uploadStoredFiles()):this.fnNotify("请先"+this.btnSelectText)},onReady:function(){var e=this,t=this.$element.querySelector(".uploader-btn");this.$uploader=new n.default.FineUploaderBasic({debug:!1,multiple:!1,autoUpload:!1,button:t,request:{endpoint:e.endpoint},chunking:{enabled:!0,concurrent:{enabled:!0},success:{endpoint:e.endpoint+"?done"}},validation:{acceptFiles:e.mimes,sizeLimit:e.sizeLimit},scaling:{sendOriginal:!1,includeExif:!0,defaultType:"image/jpeg",sizes:e.sizes},resume:{enabled:!0},retry:{showButton:!0},messages:{typeError:"对不起, {file} 文件类型错误. 类型需为: {extensions}.",sizeError:"对不起, {file} 文件过大, 文件最大体积为 {sizeLimit}.",minSizeError:"对不起, {file} 文件过小, 文件最小体积为 {minSizeLimit}.",emptyError:"对不起, {file} 文件为空,请选择其他文件.",noFilesError:"没有文件被上传.",tooManyFilesError:"对不起, 只能拖入一个文件",tooManyItemsError:"对不起, 您选择了 ({netItems}) 个文件.  最多 {itemLimit}个.",maxHeightImageError:"对不起, 图像过高.",maxWidthImageError:"对不起, 图像过宽.",minHeightImageError:"对不起, 图像不够高.",minWidthImageError:"对不起, 图像不够宽.",retryFailTooManyItems:"对不起, 达到上传限制, 重试失败.",onLeave:"文件上传中, 如果您立刻页面 上传将被取消.",unsupportedBrowser:"对不起, 您的浏览器不支持. 请更换为谷歌浏览器后重试",unsupportedBrowserIos8Safari:"对不起, 您的浏览器不支持. 请更换为谷歌浏览器后重试."},text:{failUpload:"上传失败",formatProgress:"{percent}% 共 {total_size}",paused:"暂停中",waitingForResponse:"执行中...",defaultResponseError:"对不起, 系统繁忙. 请稍后重试",fileInputTitle:"点此选择上传文件"},callbacks:{onSubmit:function(t,n){e.progressText="",e.progressPercent=0,e.fnNotify("准备中,请稍候","alert-info",0),e.$uploader.scaleImage(t,e.scaleConfig).then(function(t){e.fnNotify("准备完成,确认请点开始发送","alert-info",0),e.uploadPath=window.URL.createObjectURL(t)}).then(null,function(t){e.fnNotify("准备完成,确认请点开始发送","alert-info",0),e.uploadPath=""}),e.selected=!0},onComplete:function(t,n,i,r){i.path&&(e.uploadPath=i.path+"?"+ +new Date),e.onUploaded(i)},onProgress:function(t,n,i,r){var o=Math.round(i/r*100),s=e.$uploader._formatSize(r);e.progressPercent=o,o<100?e.progressText=i+"/"+s:(e.progressText=e.uploadSuccessText+"共: "+s,e.$progressTimer&&clearInterval(e.$progressTimer),e.progressTimeout=5,e.$progressTimer=setInterval(function(){--e.progressTimeout<0&&(e.progressText="",e.uploadPath="",clearInterval(e.$progressTimer))},1e3))},onError:function(t,n,i,r){e.uploadPath="",e.selected=!1,e.fnNotify(i)},onAutoRetry:function(t,n,i){e.selected=!0;var r="上传失败, 重试第"+i+"次";e.fnNotify(r)}}})}}})}).call(exports,t("./node_modules/avalon2/dist/avalon.js"))},0:function(e,exports){},1:function(e,exports,t){t("./node_modules/es6-promise/auto.js"),t("./node_modules/jquery/dist/jquery.js"),t("./node_modules/bootstrap-loader/loader.js"),t("./node_modules/avalon2/dist/avalon.js"),t("./src/chat/js/libs/common.js"),t("./node_modules/IScroll/build/iscroll.js"),t("./src/chat/js/libs/amap-init.js"),e.exports=t("./src/chat/js/libs/uploader.js")}});